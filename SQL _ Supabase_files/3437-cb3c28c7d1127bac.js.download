"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3437],{13327:function(e,t,n){var r=n(34161),s=n(28879),a=n.n(s),o=n(2784),i=n(93306),l=n(8647),c=n(80717),u=n(67270),d=n(73437),m=n(52322);t.Z=function(e){var t=e.to,n=e.from,s=e.onChange,f=e.helpers,p=(0,d.PJ)(f),h=(0,o.useState)(t||n?"":p.text),x=h[0],g=h[1],v=f.find(function(e){return t===e.calcTo()&&n===e.calcFrom()});return(0,o.useEffect)(function(){v&&x!==v.text?g(v.text):!v&&(t||n)&&g("")},[v,t,n]),(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsxs)(i.h_,{children:[(0,m.jsx)(i.$F,{children:(0,m.jsx)(l.z,{asChild:!0,type:x?"secondary":"default",icon:(0,m.jsx)(c.Z,{size:12}),className:"rounded-r-none",children:(0,m.jsx)("span",{children:(null==v?void 0:v.text)||p.text})})}),(0,m.jsx)(i.AW,{side:"bottom",align:"start",children:(0,m.jsx)(i._x,{onValueChange:function(e){var t=f.find(function(t){return t.text===e});s&&t&&s({to:t.calcTo(),from:t.calcFrom()})},value:(null==v?void 0:v.text)||"",children:f.map(function(e){return(0,m.jsx)(i.qB,{value:e.text,disabled:e.disabled,children:(0,m.jsx)("span",{className:[e.disabled?"text-foreground-light cursor-not-allowed":""].join(" "),children:e.text})},e.text)})})})]}),(0,m.jsx)(r.M,{triggerButtonClassName:"rounded-l-none",triggerButtonType:v?"default":"secondary",triggerButtonTitle:"Custom",onChange:function(e){g(""),s&&s(e)},to:x?void 0:t,from:x?void 0:n,renderFooter:function(e){var t=e.to,n=e.from;if(t&&n&&Math.abs(a()(n).diff(a()(t),"day"))>d.$K)return(0,m.jsx)(u.b,{title:"",variant:"warning",className:"mx-3 pl-2 pr-2 pt-1 pb-2",children:"Large ranges may result in memory errors for big projects."})}})]})}},13957:function(e,t,n){var r=n(52322);t.Z=function(e){var t=e.children;return(0,r.jsx)("pre",{className:"text-foreground text-sm break-words py-4 px-3 w-full",children:t})}},98322:function(e,t,n){n.d(t,{$K:function(){return m},Eh:function(){return h},GT:function(){return v},PJ:function(){return N},U_:function(){return a},W:function(){return b},ae:function(){return x},bj:function(){return y},dl:function(){return j},fg:function(){return O},n7:function(){return d},tZ:function(){return g},up:function(){return w},xN:function(){return f}});var r,s,a,o=n(95235),i=n(28879),l=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d="https://supabase.com/docs/guides/platform/logs#querying-with-the-logs-explorer",m=4,f=[{label:"Recent Errors",mode:"simple",searchString:"[Ee]rror|\\s[45][0-9][0-9]\\s",for:["api"]},{label:"Commits",mode:"simple",searchString:"COMMIT",for:["database"]},{label:"Commits By User",description:"Count of commits made by users on the database",mode:"custom",searchString:"select\n  p.user_name,\n  count(*) as count\nfrom postgres_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.parsed) as p on true\nwhere\n  regexp_contains(event_message, 'COMMIT')\ngroup by\n  p.user_name\n  ",for:["database"]},{label:"Metadata IP",description:"List all IP addresses that used the Supabase API",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  h.x_real_ip\nfrom edge_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.request) as r on true\n  left join unnest(r.headers) as h on true\nwhere h.x_real_ip is not null\n",for:["api"]},{label:"Requests by Country",description:"List all ISO 3166-1 alpha-2 country codes that used the Supabase API",mode:"custom",searchString:"select\n  cf.country,\n  count(*) as count\nfrom edge_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.request) as r on true\n  left join unnest(r.cf) as cf on true\ngroup by\n  cf.country\norder by\n  count desc\n",for:["api"]},{label:"Slow Response Time",mode:"custom",description:"List all Supabase API requests that are slow",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message,\n  r.origin_time\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.response) as r\nwhere\n  r.origin_time > 1000\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"500 Request Codes",description:"List all Supabase API requests that responded witha 5XX status code",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message,\n  r.status_code\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.response) as r\nwhere\n  r.status_code >= 500\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"Top Paths",description:"List the most requested Supabase API paths",mode:"custom",searchString:"select\n  r.path as path,\n  r.search as params,\n  count(timestamp) as c\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) as r\ngroup by\n  path,\n  params\norder by\n  c desc\nlimit 100\n",for:["api"]},{label:"REST Requests",description:"List all PostgREST requests",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) as r\nwhere\n  path like '%rest/v1%'\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"Errors",description:"List all Postgres error messages with ERROR, FATAL, or PANIC severity",mode:"custom",searchString:"select\n  cast(t.timestamp as datetime) as timestamp,\n  p.error_severity,\n  event_message\nfrom postgres_logs as t\n  cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as p\nwhere\n  p.error_severity in ('ERROR', 'FATAL', 'PANIC')\norder by\n  timestamp desc\nlimit 100\n",for:["database"]},{label:"Error Count by User",description:"Count of errors by users",mode:"custom",searchString:"select\n  count(t.timestamp) as count,\n  p.user_name,\n  p.error_severity\nfrom postgres_logs as t\n  cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as p\nwhere\n  p.error_severity in ('ERROR', 'FATAL', 'PANIC')\ngroup by\n  p.user_name,\n  p.error_severity\norder by\n  count desc\nlimit 100\n",for:["database"]},{label:"Auth Endpoint Events",description:"Endpoint events filtered by path",mode:"custom",searchString:'select\n  t.timestamp,\n  event_message\nfrom auth_logs as t\nwhere\n  regexp_contains(event_message,"level.{3}(info|warning||error|fatal)")\n  -- and regexp_contains(event_message,"path.{3}(/token|/recover|/signup|/otp)")\nlimit 100\n',for:["database"]},{label:"Storage Object Requests",description:"Number of requests done on Storage Objects",mode:"custom",searchString:"select\n  r.method as http_verb,\n  r.path as filepath,\n  count(*) as num_requests\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) AS r\n  cross join unnest(r.headers) AS h\nwhere\n  path like '%rest/v1/object%'\ngroup by \n  r.path, r.method\norder by\n  num_requests desc\nlimit 100\n",for:["api"]},{label:"Storage Top Cache Misses",description:"The top Storage requests that miss caching",mode:"custom",searchString:"select\n  r.path as path,\n  r.search as search,\n  count(id) as count\nfrom edge_logs f\n  cross join unnest(f.metadata) as m\n  cross join unnest(m.request) as r\n  cross join unnest(m.response) as res\n  cross join unnest(res.headers) as h\nwhere starts_with(r.path, '/storage/v1/object') \n  and r.method = 'GET'\n  and h.cf_cache_status in ('MISS', 'NONE/UNKNOWN', 'EXPIRED', 'BYPASS', 'DYNAMIC')\ngroup by path, search\norder by count desc\nlimit 100\n",for:["api"]}],p={search_query:function(e){return"regexp_contains(event_message, '".concat(e,"')")}},h={postgres_logs:u(u({},p),{},{"severity.error":"parsed.error_severity in ('ERROR', 'FATAL', 'PANIC')","severity.noError":"parsed.error_severity not in ('ERROR', 'FATAL', 'PANIC')","severity.log":"parsed.error_severity = 'LOG'"}),edge_logs:u(u({},p),{},{"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499","product.database":"request.path like '/rest/%' or request.path like '/graphql/%'","product.storage":"request.path like '/storage/%'","product.auth":"request.path like '/auth/%'","product.realtime":"request.path like '/realtime/%'","method.get":"request.method = 'GET'","method.post":"request.method = 'POST'","method.put":"request.method = 'PUT'","method.patch":"request.method = 'PATCH'","method.delete":"request.method = 'DELETE'","method.options":"request.method = 'OPTIONS'"}),function_edge_logs:u(u({},p),{},{"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499"}),function_logs:u(u({},p),{},{"severity.error":"metadata.level = 'error'","severity.notError":"metadata.level != 'error'","severity.log":"metadata.level = 'log'","severity.info":"metadata.level = 'info'","severity.debug":"metadata.level = 'debug'","severity.warn":"metadata.level = 'warn'"}),auth_logs:u(u({},p),{},{"severity.error":"metadata.level = 'error' or metadata.level = 'fatal'","severity.warning":"metadata.level = 'warning'","severity.info":"metadata.level = 'info'","status_code.server_error":"metadata.status between 500 and 599","status_code.client_error":"metadata.status between 400 and 499","status_code.redirection":"metadata.status between 300 and 399","status_code.success":"metadata.status between 200 and 299","endpoints.admin":'REGEXP_CONTAINS(metadata.path, "/admin")',"endpoints.signup":'REGEXP_CONTAINS(metadata.path, "/signup|/invite|/verify")',"endpoints.authentication":'REGEXP_CONTAINS(metadata.path, "/token|/authorize|/callback|/otp|/magiclink")',"endpoints.recover":'REGEXP_CONTAINS(metadata.path, "/recover")',"endpoints.user":'REGEXP_CONTAINS(metadata.path, "/user")',"endpoints.logout":'REGEXP_CONTAINS(metadata.path, "/logout")'}),realtime_logs:u({},p),storage_logs:u({},p),postgrest_logs:u({},p),pgbouncer_logs:u({},p),supavisor_logs:u({},p)};(r=a||(a={})).EDGE="edge_logs",r.POSTGRES="postgres_logs",r.FUNCTIONS="function_logs",r.FN_EDGE="function_edge_logs",r.AUTH="auth_logs",r.REALTIME="realtime_logs",r.STORAGE="storage_logs",r.PGBOUNCER="pgbouncer_logs",r.POSTGREST="postgrest_logs",r.SUPAVISOR="supavisor_logs";var x={api:a.EDGE,database:a.POSTGRES,functions:a.FUNCTIONS,fn_edge:a.FN_EDGE,auth:a.AUTH,realtime:a.REALTIME,storage:a.STORAGE,postgrest:a.POSTGREST,pgbouncer:a.PGBOUNCER,supavisor:a.SUPAVISOR},g=(s={},(0,o.Z)(s,a.EDGE,"Logs obtained from the network edge, containing all API requests"),(0,o.Z)(s,a.POSTGRES,"Database logs obtained directly from Postgres"),(0,o.Z)(s,a.FUNCTIONS,"Function logs generated from runtime execution"),(0,o.Z)(s,a.FN_EDGE,"Function call logs, containing the request and response"),(0,o.Z)(s,a.AUTH,"Authentication logs from GoTrue"),(0,o.Z)(s,a.REALTIME,"Realtime server for Postgres logical replication broadcasting"),(0,o.Z)(s,a.STORAGE,"Object storage logs"),(0,o.Z)(s,a.PGBOUNCER,"Postgres connection pooler logs"),(0,o.Z)(s,a.POSTGREST,"RESTful API web server logs"),(0,o.Z)(s,a.SUPAVISOR,"Cloud-native Postgres connection pooler logs"),s),v=function(e){for(var t in e){var n=e[t];(null===n||""===n||void 0===n)&&delete e[t]}return new URLSearchParams(e).toString()},j={postgres_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events with ERROR, PANIC, or FATAL"},{key:"noError",label:"No Error",description:"Show all non-error events"},{key:"log",label:"Log",description:"Show all events that are log severity"}]}},edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]},product:{label:"Product",key:"product",options:[{key:"database",label:"Database",description:""},{key:"auth",label:"Auth",description:""},{key:"storage",label:"Storage",description:""},{key:"realtime",label:"Realtime",description:""}]},method:{label:"Method",key:"method",options:[{key:"get",label:"GET",description:""},{key:"options",label:"OPTIONS",description:""},{key:"put",label:"PUT",description:""},{key:"post",label:"POST",description:""},{key:"patch",label:"PATCH",description:""},{key:"delete",label:"DELETE",description:""}]}},function_edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]}},function_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:'Show all events that are "error" severity'},{key:"warn",label:"Warning",description:'Show all events that are "warn" severity'},{key:"info",label:"Info",description:'Show all events that are "info" severity'},{key:"debug",label:"Debug",description:'Show all events that are "debug" severity'},{key:"log",label:"Log",description:'Show all events that are "log" severity'}]}},auth_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events that have error or fatal severity"},{key:"warning",label:"Warning",description:"Show all events that have warning severity"},{key:"info",label:"Info",description:"Show all events that have error severity"}]},status_code:{label:"Status Code",key:"status_code",options:[{key:"server_error",label:"Server Error",description:"Show all requests with 5XX status code"},{key:"client_error",label:"Client Error",description:"Show all requests with 4XX status code"},{key:"redirection",label:"Redirection",description:"Show all requests that have 3XX status code"},{key:"success",label:"Success",description:"Show all requests that have 2XX status code"}]},endpoints:{label:"Endpoints",key:"endpoints",options:[{key:"admin",label:"Admin",description:"Show all admin requests"},{key:"signup",label:"Sign up",description:"Show all signup and authorization requests"},{key:"recover",label:"Password Recovery",description:"Show all password recovery requests"},{key:"authentication",label:"Authentication",description:"Show all authentication flow requests (login, otp, and Oauth2)"},{key:"user",label:"User",description:"Show all user data requests"},{key:"logout",label:"Logout",description:"Show all logout requests"}]}}},b={log_selection_x_padding:"px-8",space_y:"px-6"},y=[{text:"Last hour",calcFrom:function(){return l()().subtract(1,"hour").startOf("hour").toISOString()},calcTo:function(){return""},default:!0},{text:"Last 3 hours",calcFrom:function(){return l()().subtract(3,"hour").startOf("hour").toISOString()},calcTo:function(){return""}},{text:"Last 24 hours",calcFrom:function(){return l()().subtract(1,"day").startOf("day").toISOString()},calcTo:function(){return""}}],w=[{text:"Last 24 hours",calcFrom:function(){return l()().subtract(1,"day").startOf("day").toISOString()},calcTo:function(){return""},default:!0},{text:"Last 3 days",calcFrom:function(){return l()().subtract(3,"day").startOf("day").toISOString()},calcTo:function(){return""}},{text:"Last 7 days",calcFrom:function(){return l()().subtract(7,"day").startOf("day").toISOString()},calcTo:function(){return""}}],N=function(e){return e.find(function(e){return e.default})||e[0]},O={FREE:{text:"1 day",value:1,unit:"day",promptUpgrade:!0},PRO:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},PAYG:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},TEAM:{text:"28 days",value:28,unit:"day",promptUpgrade:!0},ENTERPRISE:{text:"90 days",value:90,unit:"day",promptUpgrade:!1}}},27910:function(e,t,n){var r=n(16587),s=n(43635),a=n(41503),o=n(8647),i=n(2784),l=n(52322);t.Z=function(e){var t,n=e.options,c=e.filters,u=e.onFiltersChange,d=e.buttonClassName,m=(0,i.useState)(!1),f=m[0],p=m[1],h=function(){u({}),p(!1)},x=function(){return p(!f)};return(0,l.jsx)(r.Z,{className:"flex items-center",open:f,align:"end",size:"medium",onOpenChange:x,overlay:(0,l.jsx)(s.Z,{className:"w-full",initialValues:c,onSubmit:function(e,t){(0,t.setSubmitting)(!0),u(e),p(!1)},children:function(e){var t=e.isSubmitting;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"space-y-4 py-6",children:n.options.map(function(e,t){var s;return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(a.Z,{value:"true",id:"".concat(n.key,".").concat(e.key),className:"px-3",label:e.label,description:e.description,size:"medium",defaultChecked:null==c?void 0:null===(s=c[n.key])||void 0===s?void 0:s[e.key]}),t!==n.options.length-1&&(0,l.jsx)(r.Z.Separator,{})]},e.key)})}),(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2 border-t border-default bg-background py-2 px-3",children:[(0,l.jsx)(o.z,{size:"tiny",type:"default",onClick:h,htmlType:"button",children:"Clear"}),(0,l.jsx)(o.z,{loading:t,type:"primary",htmlType:"submit",children:"Save"})]})]})}}),showClose:!0,side:"bottom",children:(0,l.jsx)(o.z,{asChild:!0,type:"object"==typeof(t=c[n.key])&&Object.values(t).some(Boolean)?"secondary":"default",onClick:x,className:d,children:(0,l.jsx)("span",{children:n.label})})})}},51134:function(e,t,n){n.d(t,{TK:function(){return h},VG:function(){return f},VK:function(){return u},XA:function(){return p},Yj:function(){return m},io:function(){return x},tS:function(){return d},wi:function(){return g},wv:function(){return v}});var r=n(30173),s=n(28879),a=n.n(s);n(2784);var o=n(23733),i=n(49631),l=n(73437),c=n(52322),u=function(e){var t=e.children;return(0,c.jsx)("div",{className:"flex h-full w-full items-center gap-4",children:t})},d=function(e){var t=e.value;return(0,c.jsx)(m,{label:"Timestamp",value:(0,l.Sj)(t)?(0,l.tI)(t):String(t)})},m=function(e){var t=e.label,n=e.value,s=e.valueRender;return(0,c.jsxs)("div",{className:"grid grid-cols-12 group",children:[(0,c.jsx)("span",{className:"text-foreground-lighter text-sm col-span-4 whitespace-pre-wrap",children:t}),(0,c.jsx)("span",{className:"text-foreground text-sm col-span-6 whitespace-pre-wrap break-all",children:null!=s?s:n}),(0,c.jsx)(r.Z,{bounceIconOnCopy:!0,text:n,className:"group-hover:opacity-100 opacity-0 my-auto transition col-span-2  h-4 w-4 px-0 py-0",type:"text",title:"Copy to clipboard",children:""})]})},f=function(e){var t=e.value,n=e.className;return(0,c.jsx)("span",{className:"font-mono text-xs truncate "+n,children:t})},p=function(e){var t=e.value;if(!t)return(0,c.jsx)("div",{children:(0,c.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});switch(t.toString().split("")[0]){case"1":case"2":return(0,c.jsx)("div",{className:"flex h-full items-center",children:(0,c.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded border bg-surface-200 px-2 py-1 text-center",children:(0,c.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:t})})});case"5":return(0,c.jsx)("div",{className:"flex h-full items-center",children:(0,c.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-red-400 px-2 py-1 text-center ",children:(0,c.jsx)("label",{className:"block font-mono text-sm text-red-1100",children:t})})});case"4":case"3":return(0,c.jsx)("div",{className:"flex h-full items-center",children:(0,c.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-amber-400 px-2 py-1 text-center ",children:(0,c.jsx)("label",{className:"block font-mono text-sm text-amber-1100",children:t})})});default:return(0,c.jsx)("div",{className:"flex h-full items-center",children:(0,c.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-surface-100 px-2 py-1 text-center ",children:(0,c.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:t})})})}},h=function(e){var t=e.value,n=e.uppercase;if(!t)return(0,c.jsx)("div",{children:(0,c.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});var r=t.toUpperCase(),s=void 0===n||n?r:t,a=function(e){var t=e.className,n=e.children;return(0,c.jsx)("div",{className:"w-24 flex items-center h-full ".concat(t),children:n})};switch(r){case"UNCAUGHTEXCEPTION":case"PANIC":case"FATAL":case"ERROR":return(0,c.jsxs)(a,{className:"gap-1",children:[(0,c.jsx)("div",{className:" p-0.5 rounded !text-red-900",children:(0,c.jsx)(o.Z,{size:14,strokeWidth:2})}),(0,c.jsx)("span",{className:"!text-red-900 !block titlecase",children:s})]});case"INFO":case"DEBUG":return(0,c.jsxs)(a,{className:"gap-1",children:[(0,c.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,c.jsx)(o.Z,{size:14,strokeWidth:2})}),(0,c.jsx)("span",{className:"!text-blue-900 !block titlecase",children:s})]});case"LOG":return(0,c.jsxs)(a,{className:"gap-1",children:[(0,c.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,c.jsx)(i.Z,{size:14,strokeWidth:2})}),(0,c.jsx)("span",{className:"!text-blue-900 !block titlecase",children:s})]});case"WARNING":return(0,c.jsxs)(a,{className:"gap-1",children:[(0,c.jsx)("div",{className:" p-0.5 rounded !text-amber-900",children:(0,c.jsx)(o.Z,{size:14,strokeWidth:2})}),(0,c.jsx)("span",{className:"!text-amber-900 !block titlecase",children:s})]});default:return(0,c.jsx)(a,{children:(0,c.jsx)("div",{className:"relative rounded px-2 py-1 text-center h-6 flex justify-center items-center bg-surface-100",children:(0,c.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:s})})})}},x=function(e){var t=e.value,n=e.className;return(0,c.jsx)("span",{className:"text-xs ".concat(n),children:g(t)})},g=function(e){var t=(0,l.Sj)(e)?(0,l.tI)(e):e;return a()(t).format("DD MMM  HH:mm:ss")};function v(e){var t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-foreground":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(function(e){return'<span class="line text-xs">'.concat(e,"</span>")}).join("\n")}},73437:function(e,t,n){n.d(t,{up:function(){return r.up},n7:function(){return r.n7},$K:function(){return r.$K},tZ:function(){return r.tZ},ae:function(){return r.ae},_4:function(){return ez},ol:function(){return eF},dL:function(){return en},D8:function(){return G},U_:function(){return r.U_},bj:function(){return r.bj},Eh:function(){return r.Eh},xN:function(){return r.xN},fg:function(){return r.fg},AJ:function(){return P},h6:function(){return T},g8:function(){return E},My:function(){return S},UR:function(){return w},GT:function(){return r.GT},ue:function(){return O},PJ:function(){return r.PJ},Oy:function(){return b},Sj:function(){return j},dP:function(){return _},tI:function(){return v},Q9:function(){return C}});var r=n(98322),s=n(95235),a=n(95922),o=n(81333),i=n(28879),l=n.n(i),c=n(76635),u=n(79534),d=n(2135),m=n(81250),f=n(84636),p=n.n(f),h=n(2784);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=function(e){return l().unix(Number(e)/1e3/1e3).toISOString()},j=function(e){var t=16===String(e).length;return!Number.isNaN(Number(e))&&t},b=function(e){return e&&e.timestamp&&e.event_message&&e.id},y=function(e,t){var n=Object.keys(t),s=r.Eh[e],a=function(e){var n=s[e],r=(0,c.get)(t,e);return void 0!==r&&"function"==typeof n?n(r):void 0===n?"string"==typeof r?"".concat(e," = '").concat(r,"'"):"".concat(e," = ").concat(r):void 0===r&&"function"==typeof n?null:n&&!1===r?null:n},o=n.map(function(e){if("object"==typeof t[e]){var n=(function e(t,n){return Object.keys(t).filter(function(e){return t[e]}).flatMap(function(r){var s=n?"".concat(n,".").concat(r):r;return"object"==typeof t[r]?e(t[r],s):[s]})})(t[e],e).map(a).filter(Boolean);return n.length>0?"(".concat(n.join(" or "),")"):null}var r=a(e);return null===r?null:"(".concat(r,")")}).filter(Boolean).join(" and ");return o?"where "+o:""},w=function(e,t){var n=y(e,t),r=N(e),s="order by timestamp desc";switch(e){case"edge_logs":return"select id, timestamp, event_message, request.method, request.path, response.status_code\n  from ".concat(e,"\n  ").concat(r,"\n  ").concat(n,"\n  ").concat(s,"\n  limit 100\n  ");case"postgres_logs":return"select postgres_logs.timestamp, id, event_message, parsed.error_severity from ".concat(e,"\n  ").concat(r,"\n  ").concat(n,"\n  ").concat(s,"\n  limit 100\n  ");case"function_logs":return"select id, ".concat(e,".timestamp, event_message, metadata.event_type, metadata.function_id, metadata.level from ").concat(e,"\n  ").concat(r,"\n  ").concat(n,"\n  ").concat(s,"\n  limit 100\n    ");case"auth_logs":return"select id, ".concat(e,".timestamp, event_message, metadata.level, metadata.status, metadata.path, metadata.msg as msg, metadata.error from ").concat(e,"\n  ").concat(r,"\n  ").concat(n,"\n  ").concat(s,"\n  limit 100\n    ");case"function_edge_logs":return"select id, ".concat(e,".timestamp, event_message, response.status_code, request.method, m.function_id, m.execution_time_ms, m.deployment_id, m.version from ").concat(e,"\n  ").concat(r,"\n  ").concat(n,"\n  ").concat(s,"\n  limit 100\n  ");default:return"select id, ".concat(e,".timestamp, event_message from ").concat(e,"\n  ").concat(n,"\n  ").concat(s,"\n  limit 100\n  ")}},N=function(e){switch(e){case"edge_logs":return"cross join unnest(metadata) as m\n  cross join unnest(m.request) as request\n  cross join unnest(m.response) as response";case"postgres_logs":return"cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as parsed";case"function_logs":case"auth_logs":return"cross join unnest(metadata) as metadata";case"function_edge_logs":return"cross join unnest(metadata) as m\n  cross join unnest(m.response) as response\n  cross join unnest(m.request) as request";default:return""}},O=function(e,t){return"select id, timestamp, event_message, metadata from ".concat(e," where id = '").concat(t,"' limit 1")},_=function(e,t){var n=Math.abs(l()().diff(l()(e),"day"));return n>1&&"free"===t||n>7&&"pro"===t||n>28&&"team"===t||n>90&&"enterprise"===t},S=function(e,t){var n=y(e,t),r=N(e);return"SELECT count(*) as count FROM ".concat(e," ").concat(r," ").concat(n)},k=function(e){var t=e.iso_timestamp_end?l()(e.iso_timestamp_end):l()(),n=e.iso_timestamp_start?l()(e.iso_timestamp_start):l()(),r="minute",s=360,a=t.diff(n,"minute"),o=t.diff(n,"hour");return a>720?(r="hour",s=120):o>72&&(r="day",s=7),[n.add(-s,r),r]},E=function(e,t,n){var r=k(t),s=(0,o.Z)(r,2),a=s[0],i=s[1],l=y(e,n),c=N(e);return"\nSELECT\n-- log-event-chart\n  timestamp_trunc(t.timestamp, ".concat(i,") as timestamp,\n  count(t.timestamp) as count\nFROM\n  ").concat(e," t\n  ").concat(c,"\n  ").concat(l?l+" and t.timestamp > '".concat(a.toISOString(),"'"):"where t.timestamp > '".concat(a.toISOString(),"'"),"\nGROUP BY\ntimestamp\nORDER BY\n  timestamp ASC\n  ")},P=function(e,t){var n=(0,o.Z)(e,2),r=n[0],s=n[1],a=(0,o.Z)(t,2),i=a[0],c=a[1];if(r&&s&&c&&!i){var u=l()(c).diff(l()(r)),d=l()(r);if(u<=0){var m=Math.abs(l()(s).diff(d,"minute"));d=l()(c).subtract(m,"minute")}return[d.toISOString(),c]}return!c&&i?[i,s]:[i,c]},C=function(){var e=(0,u.useMonaco)();(0,h.useEffect)(function(){if(e){var t=e.languages.registerCompletionItemProvider("pgsql",{triggerCharacters:["`"," ","."],provideCompletionItems:function(t,n,r){var s=new m.Z(t,n.column-2,n.lineNumber-1);if(s.isNextDQuote())return{suggestions:[]};var o=[],i=d.Z.schemas.filter(function(e){return s._text.includes(e.reference)});if(0===i.length&&(i=d.Z.schemas),s.isNextPeriod()){var l=i.flatMap(function(e){return e.fields}).flatMap(function(e){var t=e.path.split("."),n=(0,a.Z)(t);return n[0],n.slice(1)}).map(function(t){return{label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}});o=o.concat(l)}if("`"===r.triggerCharacter||" "===r.triggerCharacter){var c=d.Z.schemas.map(function(t){return{label:t.reference,kind:e.languages.CompletionItemKind.Class,insertText:t.reference}}),u=i.flatMap(function(e){return e.fields}).flatMap(function(e){return e.path.split(".").slice(0,-1)}).map(function(t){return{label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}});o=(o=o.concat(u)).concat(c)}return{suggestions:p()(o,"label")}}});return function(){t.dispose()}}},[e])},T=function(e,t,n,r,a,o){if(e.length<=1&&!(a||o))return e;var i=e.map(function(e){return l().utc(e[t])}),u=o?l().utc(o):l().utc(Math.max.apply(null,i)),d=a?l().utc(a):l().utc(Math.min.apply(null,i)),m=Z(e.length>0?i:[d,u]),f=e.map(function(e){var n=l().utc(e[t]).toISOString();return e[t]=n,e}),p=u.diff(d,m);if(p>1e4)throw Error("Data error, filling timeseries dynamically with more than 10k data points degrades performance.");for(var h=0;h<=p;h++)!function(e){var a=d.add(e,m),o=("string"==typeof n?[n]:n).reduce(function(e,t){return g(g({},e),{},(0,s.Z)({},t,r))},{});i.find(function(e){return(0,c.isEqual)(e,a)})||f.push(g((0,s.Z)({},t,a.toISOString()),o))}(h);return f},Z=function(e){var t=e.reduce(function(e,t){var n=D(t);return e[n]+=1,e},{second:0,minute:0,hour:0,day:0});return Object.keys(t).reduce(function(e,n){return t[e]>t[n]?e:n})},D=function(e){return({0:"second",1:"minute",2:"hour",3:"day"})[["second","minute","hour"].map(function(t){return e.get(t)}).reduce(function(e,t){return 0===t&&(e+=1),e},0)]},H=n(5632),R=n(88688),I=n(8647),A=n(7722),M=n(55268),L=n(13957),q=n(51134),F=n(52322),G=function(e){var t=e.item,n=(0,h.useState)(!1),r=n[0],s=n[1],a=(0,H.useRouter)(),o=a.query.ref;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(M.Z.tr,{className:"expandable-tr",children:[(0,F.jsx)(M.Z.td,{className:"whitespace-nowrap",children:(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[(0,F.jsx)("button",{onClick:function(){return s(!r)},children:(0,F.jsx)("div",{className:"transition "+(r?"rotate-90":"rotate-0"),children:(0,F.jsx)(R.Z,{strokeWidth:2,size:14})})}),(0,F.jsx)("span",{className:"text-sm text-foreground",children:t.name})]})}),(0,F.jsx)(M.Z.td,{className:"",children:(0,F.jsx)("span",{className:"text-foreground-light",children:t.description})}),(0,F.jsx)(M.Z.td,{className:"",children:(0,F.jsx)("span",{className:"text-foreground-light",children:(0,q.wi)(t.inserted_at)})}),(0,F.jsx)(M.Z.td,{className:"",children:(0,F.jsx)("span",{className:"text-foreground-light",children:(0,q.wi)(t.updated_at)})}),(0,F.jsx)(M.Z.td,{className:" text-right",children:(0,F.jsx)(I.z,{type:"alternative",iconRight:(0,F.jsx)(A.Z,{size:10}),onClick:function(){return a.push("/project/".concat(o,"/logs/explorer?q=").concat(encodeURIComponent(t.content.sql)))},children:"Run"})})]},t.id),(0,F.jsx)(M.Z.td,{className:"".concat(r?" h-auto opacity-100":"h-0 opacity-0"," expanded-row-content border-l border-r bg-alternative !pt-0 !pb-0 transition-all"),colSpan:5,children:r&&(0,F.jsx)(L.Z,{children:t.content.sql})})]})},z=n(24990),U=n(59491),W=n(93306),Y=n(77740),K=n(16587),V=n(67270),B=n(73302),X=n(70203),J=n(9747),Q=n(44183),$=n(39097),ee=n.n($),et=n(13327),en=function(e){var t=e.templates,n=e.onSelectTemplate,s=e.hasEditorValue,a=e.onRun,i=e.onClear,l=e.onSave,c=e.onSelectSource,u=e.isLoading,d=e.defaultFrom,m=e.defaultTo,f=e.onDateChange,p=e.warnings,h=(0,Q.Un)().profile,x=(0,X.Xo)(U.KA.CREATE,"user_content",{resource:{type:"log_sql",owner_id:null==h?void 0:h.id},subject:{id:null==h?void 0:h.id}}),g=(0,X.N3)(["project_auth:all","project_storage:all","project_edge_function:all"]),v=g.projectAuthAll,j=g.projectStorageAll,b=g.projectEdgeFunctionAll,y=Object.entries(r.U_).filter(function(e){var t=(0,o.Z)(e,1)[0];return"AUTH"===t?v:"STORAGE"===t?j:"FN_EDGE"!==t||b}).map(function(e){return(0,o.Z)(e,2)[1]});return(0,F.jsx)("div",{className:"rounded rounded-bl-none rounded-br-none border border-overlay bg-surface-100",children:(0,F.jsx)("div",{className:"flex w-full items-center justify-between px-5 py-2",children:(0,F.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-x-4",children:[(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[(0,F.jsxs)(W.h_,{children:[(0,F.jsx)(W.$F,{children:(0,F.jsx)(I.z,{asChild:!0,type:"default",iconRight:(0,F.jsx)(Y.Z,{}),children:(0,F.jsx)("span",{children:"Insert source"})})}),(0,F.jsx)(W.AW,{side:"bottom",align:"start",children:y.sort(function(e,t){return e.localeCompare(t)}).map(function(e){return(0,F.jsx)(W.Xi,{onClick:function(){return c(e)},children:(0,F.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,F.jsx)("span",{className:"font-mono font-bold",children:e}),(0,F.jsx)("span",{className:"text-foreground-light",children:r.tZ[e]})]})},e)})})]}),(0,F.jsxs)(W.h_,{children:[(0,F.jsx)(W.$F,{children:(0,F.jsx)(I.z,{asChild:!0,type:"default",iconRight:(0,F.jsx)(Y.Z,{}),children:(0,F.jsx)("span",{children:"Templates"})})}),(0,F.jsx)(W.AW,{side:"bottom",align:"start",children:(void 0===t?[]:t).sort(function(e,t){return e.label.localeCompare(t.label)}).map(function(e){return(0,F.jsx)(W.Xi,{onClick:function(){return n(e)},children:(0,F.jsx)("p",{children:e.label})},e.label)})})]}),(0,F.jsx)(et.Z,{to:m,from:d,onChange:f,helpers:r.up}),(0,F.jsx)("div",{className:"overflow-hidden",children:(0,F.jsx)("div",{className:" transition-all duration-300 ".concat(p.length>0?"opacity-100":"invisible h-0 w-0 opacity-0"),children:(0,F.jsx)(K.Z,{overlay:(0,F.jsx)(V.b,{variant:"warning",title:"",children:(0,F.jsx)("div",{className:"flex flex-col gap-3",children:p.map(function(e,t){return(0,F.jsxs)("p",{children:[e.text," ",e.link&&(0,F.jsx)(ee(),{href:e.link,children:e.linkText||"View"})]},t)})})}),children:(0,F.jsxs)(B.Z,{color:"yellow",children:[p.length," ",p.length>1?"warnings":"warning"]})})})})]}),(0,F.jsx)("div",{children:(0,F.jsxs)("div",{className:"flex items-center gap-4",children:[(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[(0,F.jsx)(I.z,{type:"default",onClick:i,children:"Clear query"}),J.Qy&&l&&(0,F.jsxs)(z.fC,{delayDuration:0,children:[(0,F.jsx)(z.xz,{children:(0,F.jsx)(I.z,{type:"default",onClick:function(){return l()},disabled:!x||!s,children:"Save query"})}),!x&&(0,F.jsx)(z.h_,{children:(0,F.jsxs)(z.VY,{side:"bottom",children:[(0,F.jsx)(z.Eh,{className:"radix-tooltip-arrow"}),(0,F.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,F.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to save your query"})})]})})]})]}),(0,F.jsx)(I.z,{type:s?"primary":"alternative",disabled:!s,onClick:a,iconRight:(0,F.jsx)(A.Z,{}),loading:u,children:"Run"})]})})]})})})},er=n(12741),es=n(47370),ea=n(37927),eo=n(11306),ei=n(51459),el=n(46833),ec=n(210),eu=function(e){return(0,F.jsxs)(q.VK,{children:[(0,F.jsx)(q.io,{value:e.row.timestamp}),(0,F.jsx)(q.VG,{className:"w-full",value:e.row.event_message})]})},ed=[{name:"default-preview-first-column",key:"default-preview-first-column",renderCell:eu}],em=[{name:"auth-first-column",key:"auth-first-column",renderCell:function(e){var t;return e.row.level?(0,F.jsxs)(q.VK,{children:[(0,F.jsx)(q.io,{value:e.row.timestamp}),e.row.level&&(0,F.jsx)(q.TK,{value:e.row.level}),(0,F.jsx)(q.VG,{className:"w-full",value:"".concat(e.row.path?e.row.path+" | ":"").concat((null===(t=e.row.msg)||void 0===t?void 0:t.trim())||e.row.event_message)})]}):eu(e)}}],ef=[{name:"database-api-first-column",key:"database-api-first-column",renderCell:function(e){return e.row.status_code||e.row.method||e.row.path?(0,F.jsxs)(q.VK,{children:[(0,F.jsx)(q.io,{value:e.row.timestamp}),(0,F.jsx)(q.XA,{row:e,value:e.row.status_code}),(0,F.jsx)(q.VG,{className:"w-20",value:e.row.method}),(0,F.jsx)(q.VG,{className:"w-full",value:e.row.path})]}):eu(e)}}],ep=[{name:"database-postgres-first-column",key:"database-postgres-first-column",renderCell:function(e){return e.row.error_severity?(0,F.jsxs)(q.VK,{children:[(0,F.jsx)(q.io,{value:e.row.timestamp}),(0,F.jsx)(q.TK,{value:e.row.error_severity}),(0,F.jsx)(q.VG,{className:"w-full",value:e.row.event_message})]}):eu(e)}}],eh=[{name:"functions-edge-first-column",key:"functions-edge-first-column",renderCell:function(e){return e.row.status_code||e.row.method?(0,F.jsxs)(q.VK,{children:[(0,F.jsx)(q.io,{value:e.row.timestamp}),(0,F.jsx)(q.XA,{row:e,value:e.row.status_code}),(0,F.jsx)(q.VG,{value:e.row.method}),(0,F.jsx)(q.VG,{value:e.row.id})]}):eu(e)}}],ex=[{name:"functions-logs-first-column",key:"functions-logs-first-column",renderCell:function(e){return e.row.event_type||e.row.level?(0,F.jsxs)(q.VK,{children:[(0,F.jsx)(q.io,{value:e.row.timestamp}),"uncaughtException"===e.row.event_type?(0,F.jsx)(q.TK,{value:e.row.event_type,uppercase:!1}):(0,F.jsx)(q.TK,{value:e.row.level}),(0,F.jsx)(q.VG,{className:"w-full",value:e.row.event_message})]}):eu(e)}}],eg=n(59227),ev=n(30173),ej=n(8888),eb=n(37552),ey=n(58943);function ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eO=function(e,t,n,s){var a=t?r.ae[t]:void 0,o=s&&a?O(a,s):"",i=eN(eN({},n),{},{project:e,sql:o}),l="".concat(J.T5,"/projects/").concat(e,"/analytics/endpoints/logs.all?").concat((0,r.GT)(i)),c=!!(s&&a),u=(0,ey.a)(["projects",e,"log",s],function(e){var t=e.signal;return(0,eb.U2)(l,{signal:t})},{enabled:c,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),d=u.data,m=u.error,f=u.isLoading,p=u.isRefetching,h=u.refetch,x=m?m.message:null;return{logData:null!=d&&d.result?d.result[0]:void 0,isLoading:c&&f||p,error:x,refresh:function(){return h()}}},e_=function(e){var t,n,s,a,o,i,l,c,u,d,m,f=e.log;return(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding," space-y-6"),children:[(0,F.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,F.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Event Message"}),(0,F.jsx)("div",{className:"text-xs text-wrap font-mono text-foreground whitespace-pre-wrap overflow-x-auto",children:(null===(t=f.metadata)||void 0===t?void 0:t.msg)||f.event_message})]}),(0,F.jsx)(q.tS,{value:f.timestamp}),(null===(n=f.metadata)||void 0===n?void 0:n.status)&&(0,F.jsx)(q.Yj,{label:"Status",value:String(null===(s=f.metadata)||void 0===s?void 0:s.status),valueRender:(0,F.jsx)(q.XA,{value:null===(a=f.metadata)||void 0===a?void 0:a.status})}),(null===(o=f.metadata)||void 0===o?void 0:o.level)&&(0,F.jsx)(q.Yj,{label:"Severity",value:null===(i=f.metadata)||void 0===i?void 0:i.level,valueRender:(0,F.jsx)(q.TK,{value:null===(l=f.metadata)||void 0===l?void 0:l.level})}),(null===(c=f.metadata)||void 0===c?void 0:c.path)&&(0,F.jsx)(q.Yj,{label:"Request Path",value:null===(u=f.metadata)||void 0===u?void 0:u.path}),(null===(d=f.metadata)||void 0===d?void 0:d.error)&&(0,F.jsx)(q.Yj,{label:"Error Message",value:null===(m=f.metadata)||void 0===m?void 0:m.error}),(0,F.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,F.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Metadata"}),(0,F.jsx)("pre",{className:" className={`text-foreground text-sm col-span-8 overflow-x-auto text-xs font-mono`}",dangerouslySetInnerHTML:{__html:(0,q.wv)(f.metadata)}})]})]})},eS=function(){return(0,F.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark"})},ek=function(e){var t,n,s,a,o,i,l,c,u,d,m,f,p=e.log,h=null==p?void 0:null===(t=p.metadata[0])||void 0===t?void 0:null===(n=t.request)||void 0===n?void 0:n[0],x=null==p?void 0:null===(s=p.metadata[0])||void 0===s?void 0:null===(a=s.response)||void 0===a?void 0:a[0],g=null==h?void 0:h.method,v=null==x?void 0:x.status_code,j=null==h?void 0:null===(o=h.headers)||void 0===o?void 0:null===(i=o[0])||void 0===i?void 0:i.cf_connecting_ip,b=null==h?void 0:null===(l=h.headers)||void 0===l?void 0:null===(c=l[0])||void 0===c?void 0:c.cf_ipcountry,y=null==h?void 0:null===(u=h.headers)||void 0===u?void 0:null===(d=u[0])||void 0===d?void 0:d.x_client_info,w=null==h?void 0:null===(m=h.headers)||void 0===m?void 0:null===(f=m[0])||void 0===f?void 0:f.referer;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding," space-y-2"),children:[(0,F.jsx)(q.Yj,{label:"Status",value:v,valueRender:(0,F.jsx)(q.XA,{value:v})}),(0,F.jsx)(q.Yj,{label:"Method",value:g}),(0,F.jsx)(q.tS,{value:p.timestamp}),(0,F.jsx)(q.Yj,{label:"IP Address",value:j}),(0,F.jsx)(q.Yj,{label:"Origin Country",value:b}),y&&(0,F.jsx)(q.Yj,{label:"Client",value:y}),w&&(0,F.jsx)(q.Yj,{label:"Referer",value:w})]}),(0,F.jsx)(eS,{}),(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding),children:[(0,F.jsx)("h3",{className:"text-lg text-foreground mb-4",children:"Request Metadata"}),(0,F.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,F.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:h?(0,q.wv)(p.metadata[0].request[0]):""}})})]}),(0,F.jsx)(eS,{}),(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding),children:[(0,F.jsx)("h3",{className:"text-lg text-foreground mb-4",children:"Response Metadata"}),(0,F.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,F.jsx)("div",{dangerouslySetInnerHTML:{__html:x?(0,q.wv)(p.metadata[0].response[0]):""}})})]})]})},eE=function(e){var t,n,s,a,o,i,l,c,u=e.log,d=null==u?void 0:null===(t=u.metadata[0])||void 0===t?void 0:null===(n=t.parsed[0])||void 0===n?void 0:n.user_name,m=null==u?void 0:null===(s=u.metadata[0])||void 0===s?void 0:null===(a=s.parsed[0])||void 0===a?void 0:a.session_id,f=null==u?void 0:null===(o=u.metadata[0])||void 0===o?void 0:null===(i=o.parsed[0])||void 0===i?void 0:i.hint,p=null==u?void 0:null===(l=u.metadata[0])||void 0===l?void 0:null===(c=l.parsed[0])||void 0===c?void 0:c.error_severity;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:r.W.log_selection_x_padding,children:[(0,F.jsx)("span",{className:"col-span-4 text-sm text-foreground-lighter",children:"Event message"}),(0,F.jsx)("div",{className:"text-wrap mt-2 overflow-x-auto whitespace-pre-wrap font-mono  text-xs text-foreground",children:u.event_message})]}),(0,F.jsx)(eS,{}),(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding," space-y-2"),children:[(0,F.jsx)(q.Yj,{label:"Severity",value:p,valueRender:(0,F.jsx)(q.TK,{value:p})}),(0,F.jsx)(q.tS,{value:u.timestamp}),(0,F.jsx)(q.Yj,{label:"Postgres Username",value:d}),(0,F.jsx)(q.Yj,{label:"Session ID",value:m})]}),f&&(0,F.jsx)("div",{className:"mt-4 ".concat(r.W.log_selection_x_padding),children:(0,F.jsx)(V.b,{variant:"warning",withIcon:!0,title:f})}),(0,F.jsx)(eS,{}),(0,F.jsxs)("div",{className:r.W.log_selection_x_padding,children:[(0,F.jsx)("h3",{className:"mb-4 text-lg text-foreground",children:"Metadata"}),(0,F.jsx)("pre",{className:"syntax-highlight overflow-x-auto text-sm",children:(0,F.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:u.metadata?(0,q.wv)(u.metadata[0]):""}})})]})]})},eP=function(e){var t=e.log,n=function(e){var t=e.label,n=e.value,r=e.code;return(0,F.jsxs)("div",{className:"grid grid-cols-12",children:[(0,F.jsx)("span",{className:"text-foreground-lighter text-sm col-span-4",children:t}),(0,F.jsx)("span",{className:"text-foreground text-sm col-span-8 overflow-x-auto ".concat(r&&"text-xs font-mono"),children:(0,F.jsx)("pre",{dangerouslySetInnerHTML:{__html:(0,q.wv)(n)}})})]})};return(0,F.jsx)("div",{className:"overflow-hidden overflow-x-auto space-y-6",children:Object.entries(t).map(function(e,t){var s=(0,o.Z)(e,2),a=s[0],i=s[1];return(0,F.jsx)("div",{className:"".concat(r.W.log_selection_x_padding),children:i&&"object"==typeof i?(0,F.jsx)(n,{label:a,value:i}):(0,F.jsx)(q.Yj,{label:a,value:null===i?"NULL ":String(i)})},"".concat(a,"-").concat(t))})})},eC=function(e){var t=e.log;return(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding," space-y-6"),children:[(0,F.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,F.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Event Message"}),(0,F.jsx)("div",{className:"text-xs text-wrap font-mono text-foreground whitespace-pre-wrap overflow-x-auto",children:t.event_message})]}),(0,F.jsx)(q.tS,{value:t.timestamp}),(0,F.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,F.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Metadata"}),(0,F.jsx)("pre",{className:" className={`text-foreground text-sm col-span-8 overflow-x-auto text-xs font-mono`}",dangerouslySetInnerHTML:{__html:(0,q.wv)(t.metadata||{})}})]})]})};function eT(e){return Object.fromEntries(Object.entries(e).filter(function(e){return!["host","url"].includes((0,o.Z)(e,1)[0])}).map(function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return"headers"===n?[n,r.map(function(e){return Object.fromEntries(Object.entries(e).filter(function(e){return!(0,o.Z)(e,1)[0].startsWith("_")}))})]:[n,r]}))}var eZ=function(e){var t,n,s,a=e.log,o=null===(t=a.metadata)||void 0===t?void 0:t[0],i=null==o?void 0:null===(n=o.request)||void 0===n?void 0:n[0],l=null==o?void 0:null===(s=o.response)||void 0===s?void 0:s[0],c=null==i?void 0:i.method,u=null==l?void 0:l.status_code,d=new URL(null==i?void 0:i.url),m=o.execution_time_ms,f=o.deployment_id;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding," space-y-2"),children:[(0,F.jsx)(q.Yj,{label:"Status",value:u,valueRender:(0,F.jsx)(q.XA,{value:u})}),(0,F.jsx)(q.Yj,{label:"Method",value:c}),(0,F.jsx)(q.tS,{value:a.timestamp}),(0,F.jsx)(q.Yj,{label:"Execution Time",value:"".concat(m,"ms")}),(0,F.jsx)(q.Yj,{label:"Deployment ID",value:f}),(0,F.jsx)(q.Yj,{label:"Log ID",value:a.id}),(0,F.jsx)(q.Yj,{label:"Request Path",value:d.pathname+d.search})]}),(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding),children:[(0,F.jsx)("h3",{className:"text-lg text-foreground mb-4",children:"Request Metadata"}),(0,F.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,F.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:i?(0,q.wv)(eT(i)):""}})})]}),(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding),children:[(0,F.jsx)("h3",{className:"text-lg text-foreground mb-4",children:"Response Metadata"}),(0,F.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,F.jsx)("div",{dangerouslySetInnerHTML:{__html:l?(0,q.wv)(eT(l)):""}})})]})]})},eD=function(e){var t=e.log,n=t.metadata[0];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding),children:[(0,F.jsx)("span",{className:"text-foreground-lighter text-sm col-span-4",children:"Event message"}),(0,F.jsx)("div",{className:"text-xs text-wrap font-mono text-foreground mt-2 whitespace-pre-wrap overflow-x-auto",children:t.event_message})]}),(0,F.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark"}),(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding," space-y-2"),children:[(0,F.jsx)(q.Yj,{label:"Severity",value:n.level,valueRender:(0,F.jsx)(q.TK,{value:n.level})}),(0,F.jsx)(q.Yj,{label:"Deployment version",value:n.version}),(0,F.jsx)(q.tS,{value:t.timestamp}),(0,F.jsx)(q.Yj,{label:"Execution ID",value:n.execution_id}),(0,F.jsx)(q.Yj,{label:"Deployment ID",value:n.deployment_id})]}),(0,F.jsxs)("div",{className:"".concat(r.W.log_selection_x_padding),children:[(0,F.jsx)("h3",{className:"text-lg text-foreground mb-4",children:"Metadata"}),(0,F.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,F.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:n?(0,q.wv)(n):""}})})]})]})},eH=function(e){var t=e.projectRef,n=e.log,r=e.onClose,s=e.queryType,a=e.params,o=eO(t,s,void 0===a?{}:a,null==n?void 0:n.id),i=o.logData,l=o.isLoading,c=(0,h.useMemo)(function(){return i&&s?"Log ID\n".concat(i.id,"\n\nLog Timestamp (UTC)\n").concat(j(i.timestamp)?v(i.timestamp):i.timestamp,"\n\nLog Event Message\n").concat(i.event_message,"\n\nLog Metadata\n").concat(JSON.stringify(i.metadata,null,2),"\n"):JSON.stringify(i||n,null,2)},[i]);return(0,F.jsxs)("div",{className:"relative flex h-full flex-grow flex-col border border-l border-overlay overflow-y-scroll bg-background",children:[(0,F.jsx)("div",{className:"absolute flex\n          h-full w-full flex-col items-center justify-center gap-2 overflow-y-scroll bg-background text-center opacity-0 transition-all "+(n?"z-0 opacity-0":"z-10 opacity-100"),children:(0,F.jsxs)("div",{className:"flex\n          w-full\n          max-w-sm\n          scale-95\n          flex-col\n          items-center\n          justify-center\n          gap-6\n          text-center\n          opacity-0\n          transition-all delay-300 duration-500 "+(n||l?"mt-0 scale-95 opacity-0":"mt-8 scale-100 opacity-100"),children:[(0,F.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-control px-2",children:[(0,F.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-surface-300"}),(0,F.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:(0,F.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})})})]}),(0,F.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,F.jsx)("h3",{className:"text-sm text-foreground",children:"Select an Event"}),(0,F.jsx)("p",{className:"text-xs text-foreground-lighter",children:"Select an Event to view the code snippet (pretty view) or complete JSON payload (raw view)."})]})]})}),(0,F.jsxs)("div",{className:"relative h-px flex-grow bg-surface-100",children:[(0,F.jsxs)("div",{className:"pt-4 px-4 flex flex-col gap-4",children:[(0,F.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,F.jsx)("div",{className:"transition ".concat(l?"opacity-0":"opacity-100"),children:(0,F.jsx)(ev.Z,{text:c,type:"default",title:"Copy log to clipboard"})}),(0,F.jsx)(I.z,{type:"text",className:"cursor-pointer transition hover:text-foreground h-8 w-8 px-0 py-0 flex items-center justify-center",onClick:r,children:(0,F.jsx)(eg.Z,{size:14,strokeWidth:2,className:"text-foreground-lighter"})})]}),(0,F.jsx)("div",{className:"h-px w-full bg-selection rounded "})]}),l&&(0,F.jsx)(ej.Z,{}),(0,F.jsx)("div",{className:"flex flex-col space-y-6 bg-surface-100 py-4",children:!l&&(0,F.jsx)(function(){switch(s){case"api":if(!i)return null;if(!i.metadata)return(0,F.jsx)(eC,{log:i});return(0,F.jsx)(ek,{log:i});case"database":if(!i)return null;if(!i.metadata)return(0,F.jsx)(eC,{log:i});return(0,F.jsx)(eE,{log:i});case"fn_edge":if(!i)return null;if(!i.metadata)return(0,F.jsx)(eC,{log:i});return(0,F.jsx)(eZ,{log:i});case"functions":if(!i)return null;if(!i.metadata)return(0,F.jsx)(eC,{log:i});return(0,F.jsx)(eD,{log:i});case"auth":if(!i)return null;if(!i.metadata)return(0,F.jsx)(eC,{log:i});return(0,F.jsx)(e_,{log:i});default:if(s&&i&&b(i))return(0,F.jsx)(eC,{log:i});if(s&&!i||!n)return null;return(0,F.jsx)(eP,{log:n})}},{})})]})]})},eR=n(14665),eI=function(e){var t=e.error;return(0,F.jsx)(eR.Z.TextArea,{size:"tiny",value:"string"==typeof t?t:JSON.stringify(t,null,2),borderless:!0,className:"mt-4 w-full font-mono",copy:!0,rows:7})},eA=n(30119),eM=function(e){var t=e.error,n=e.isCustomQuery;return(0,F.jsxs)("div",{className:"flex flex-col gap-2 text-foreground-light",children:[(0,F.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,F.jsx)("p",{children:"This query requires too much memory to be executed."}),(0,F.jsx)("p",{children:n?"Avoid selecting entire objects and instead select specific keys using dot notation.":"Avoid querying across a large datetime range."}),!n&&(0,F.jsx)("p",{children:"Please contact support if this error persists."})]}),(0,F.jsx)(eA.Z,{className:"text-sm",justified:!1,openBehaviour:"multiple",type:"default",chevronAlign:"left",size:"small",iconPosition:"left",children:(0,F.jsx)(eA.Z.Item,{id:"1",header:"Full error message",children:(0,F.jsx)(eR.Z.TextArea,{size:"tiny",value:JSON.stringify(t,null,2),borderless:!0,className:"mt-4 w-full font-mono",copy:!0,rows:5})})})]})};function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eF=function(e){var t=e.data,n=void 0===t?[]:t,r=e.queryType,s=e.onHistogramToggle,a=e.isHistogramShowing,o=e.isLoading,i=e.error,l=e.projectRef,u=e.params,d=(0,X.oR)().ui,m=(0,h.useState)(null),f=m[0],p=m[1],x=null==n?void 0:n[0],g=Object.keys(n[0]||{}),v=g.includes("id"),j=g.includes("timestamp"),y=g.map(function(e,t){return{key:"logs-column-".concat(t),name:e,resizable:!0,renderCell:function(t){var n,r=null===(n=t.row)||void 0===n?void 0:n[e];return r&&"object"==typeof r?JSON.stringify(r):null===r?"NULL":String(r)},renderHeaderCell:function(t){return e},minWidth:128}}),w=y;if(r)switch(r){case"api":w=ef;break;case"database":w=ep;break;case"fn_edge":w=eh;break;case"functions":w=ex;break;case"auth":w=em;break;default:w=x&&b(x)?ed:y}var N=JSON.stringify(n),O=(0,h.useMemo)(function(){var e=(0,er.Z)(new Set(n));if(!v)return[e,{}];var t=e.reduce(function(e,t){return e[t.id]=t,e},{});return[e,t]},[N]),_=O[0],S=O[1];(0,h.useEffect)(function(){n&&!n.find(function(e){return(0,c.isEqual)(e,f)})&&p(null)},[N]);var k=(0,h.useMemo)(function(){return v&&j?Object.values(S).sort(function(e,t){return t.timestamp-e.timestamp}):_},[N]),E=(0,h.useCallback)(function(e,t){return(0,F.jsx)(es.X2,eq(eq({},t),{},{isRowSelected:!1,selectedCellIdx:void 0}))},[]),P=function(){(0,ec.vQ)(N,function(){d.setNotification({category:"success",message:"Results copied to clipboard."})})};return n?(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("section",{className:"flex w-full flex-col "+(r?"":"shadow-lg"),style:{maxHeight:r?"calc(100vh - 42px - 3rem)":"calc(100vh - 42px - 10rem)"},children:[!r&&(0,F.jsx)(function(){return(0,F.jsxs)("div",{className:"flex w-full items-center justify-between rounded-tl rounded-tr border-t border-l border-r bg-surface-100 px-5 py-2",children:[(0,F.jsx)("div",{className:"flex items-center gap-2",children:n&&n.length?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{className:"text-sm text-foreground",children:"Query results"}),(0,F.jsx)("span",{className:"text-sm text-foreground-light",children:n&&n.length})]}):(0,F.jsx)("span",{className:"text-xs text-foreground",children:"Results will be shown below"})}),(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,F.jsx)(I.z,{type:"default",icon:a?(0,F.jsx)(ea.Z,{}):(0,F.jsx)(eo.Z,{}),onClick:s,children:"Histogram"}),(0,F.jsx)(I.z,{type:"default",icon:(0,F.jsx)(ei.Z,{}),onClick:P,children:"Copy to clipboard"}),(0,F.jsx)(el.Z,{data:n,children:"Download"})]})]})},{}),(0,F.jsxs)("div",{className:"flex h-full flex-row ".concat(r?"":"border-l border-r"),children:[(0,F.jsx)(es.ZP,{style:{height:"100%"},className:"\n            flex-1 flex-grow\n            ".concat(r?" data-grid--simple-logs":"data-grid--logs-explorer","\n          "),rowHeight:40,headerRowHeight:r?0:28,onSelectedCellChange:function(e){var t=e.rowIdx;v&&p(n[t])},selectedRows:new Set([]),columns:w,rowClass:function(e){return["font-mono tracking-tight",(0,c.isEqual)(e,f)?"!bg-border-stronger rdg-row--focused":" !bg-background hover:!bg-surface-100 cursor-pointer"].join(" ")},rows:k,rowKeyGetter:function(e){return v?e.id:JSON.stringify(e)},renderers:{renderRow:E,noRowsFallback:o?null:(0,F.jsxs)("div",{className:"mx-auto flex h-full w-full items-center justify-center space-y-12 py-4 transition-all delay-200 duration-500",children:[!i&&(0,F.jsxs)("div",{className:"mt-16 flex scale-100 flex-col items-center justify-center gap-6 text-center opacity-100",children:[(0,F.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,F.jsx)("div",{className:"relative flex h-4 w-32 items-center rounded border border-dashed border-stronger px-2"}),(0,F.jsx)("div",{className:"relative flex h-4 w-32 items-center rounded border border-dashed border-stronger px-2",children:(0,F.jsx)("div",{className:"absolute right-1 -bottom-4 text-foreground-light",children:(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,F.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]}),(0,F.jsxs)("div",{className:"flex flex-col gap-1 px-5",children:[(0,F.jsx)("h3",{className:"text-lg text-foreground",children:"No results"}),(0,F.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Try another search, or adjusting the filters"})]})]}),i&&function(){if(!i)return null;var e,t=eI;return"object"==typeof i&&null!==(e=i.error)&&void 0!==e&&e.errors.find(function(e){return"resourcesExceeded"===e.reason})&&(t=eM),(0,F.jsx)("div",{className:"flex w-1/2 justify-center px-5",children:(0,F.jsx)(V.b,{variant:"danger",title:"Sorry! An error occurred when fetching data.",withIcon:!0,children:(0,F.jsx)(t,eq({},{isCustomQuery:!r,error:i}))})})}()]})}}),k.length>0?(0,F.jsx)("div",{className:r?"flex w-1/2 flex-col":f?"flex w-1/2 flex-col":"hidden w-0",children:(0,F.jsx)(eH,{projectRef:l,onClose:function(){return p(null)},log:f,queryType:r,params:u})}):null]})]})}):null},eG=n(82499),ez=function(e){var t=e.data,n=e.onBarClick;return(0,F.jsx)(eG.Z,{minimalHeader:!0,size:"tiny",yAxisKey:"count",xAxisKey:"timestamp",data:t,title:"Logs / Time",onBarClick:function(e){e.timestamp&&n(e.timestamp)},customDateFormat:"MMM D, HH:mm:s"})};n(27910)},46833:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(8647),s=n(95235),a=n(2784),o=n(38770),i=n(12223),l=n(52322);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=function(e){return(0,l.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:o.Z},e))},d=n(83606),m=function(e){var t=e.onClick,n=e.buttonType,s=e.icon,o=e.children,i=e.disabled,c=e.data,m=e.title,f=(0,a.useRef)(null),p=function(){var e;null===(e=f.current)||void 0===e||e.link.click()},h=(0,a.useMemo)(function(){var e=null==c?void 0:c[0];if(e&&c){var t=Object.keys(e);return c.map(function(e){return t.reduce(function(t,n){return"object"==typeof e[n]?t[n]=JSON.stringify(e[n]):t[n]=String(e[n]),t},{})})}},[JSON.stringify(c)]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.CSVLink,{ref:f,className:"hidden",data:h||[],filename:"supabase_logs.csv",title:m}),(0,l.jsx)(r.z,{type:void 0===n?"default":n,icon:s||(0,l.jsx)(u,{}),disabled:i,onClick:function(e){t&&t(e),p()},children:o})]})}},82499:function(e,t,n){var r=n(64464),s=n(28879),a=n.n(s),o=n(10264),i=n.n(o),l=n(2784),c=n(80739),u=n(25556),d=n(47857),m=n(24908),f=n(11011),p=n(80292),h=n(14073),x=n(85720),g=n(52322);a().extend(i()),t.Z=function(e){var t,n,s=e.data,o=e.yAxisKey,i=e.xAxisKey,v=e.format,j=e.customDateFormat,b=void 0===j?r.EE.FULL:j,y=e.title,w=e.highlightedValue,N=e.highlightedLabel,O=e.displayDateInUtc,_=e.minimalHeader,S=e.valuePrecision,k=e.className,E=void 0===k?"":k,P=e.size,C=void 0===P?"normal":P,T=e.onBarClick,Z=(0,h.D3)(C).Container,D=(0,l.useState)(null),H=D[0],R=D[1];if(0===s.length)return(0,g.jsx)(x.Z,{size:C,className:E});var I=function(e){return O?a()(e).utc():a()(e)},A=null!==H&&s&&void 0!==s[H]&&I(s[H][i]).format(b)||N,M=null!==H?null===(t=s[H])||void 0===t?void 0:t[o]:w;return(0,g.jsxs)("div",{className:["flex flex-col gap-3",E].join(" "),children:[(0,g.jsx)(p.Z,{title:y,format:v,customDateFormat:b,highlightedValue:"number"==typeof M?(0,h.V2)(M,S):M,highlightedLabel:A,minimalHeader:_}),(0,g.jsx)(Z,{children:(0,g.jsxs)(c.v,{data:s,margin:{top:0,right:0,left:0,bottom:0},className:"overflow-visible",onMouseMove:function(e){e.activeTooltipIndex!==H&&R(e.activeTooltipIndex)},onMouseLeave:function(){return R(null)},onClick:function(e){var t,n,r=null==e?void 0:null===(t=e.activePayload)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.payload;T&&T(r,e)},children:[(0,g.jsx)(u.K,{dataKey:i,interval:s.length-2,angle:0,tick:!1,axisLine:{stroke:r.ZE.AXIS},tickLine:{stroke:r.ZE.AXIS}}),(0,g.jsx)(d.u,{content:function(){return null}}),(0,g.jsx)(m.$,{dataKey:o,fill:r.ZE.GREEN_1,animationDuration:300,maxBarSize:48,children:null==s?void 0:s.map(function(e,t){return(0,g.jsx)(f.b,{className:"transition-all duration-300 ".concat(T?"cursor-pointer":""),fill:H===t||null===H?r.ZE.GREEN_1:r.ZE.GREEN_2,enableBackground:12},"cell-".concat(t))})})]})}),s&&(0,g.jsxs)("div",{className:"text-foreground-lighter -mt-9 flex items-center justify-between text-xs",children:[(0,g.jsx)("span",{children:I(s[0][i]).format(b)}),(0,g.jsx)("span",{children:I(null===(n=s[(null==s?void 0:s.length)-1])||void 0===n?void 0:n[i]).format(b)})]})]})}},80292:function(e,t,n){var r=n(52322);t.Z=function(e){var t=e.format,n=e.highlightedValue,s=e.highlightedLabel,a=e.title,o=e.minimalHeader,i=void 0!==o&&o,l=(0,r.jsx)("h3",{className:"text-foreground-lighter "+(i?"text-xs":"text-sm"),children:a}),c=(0,r.jsxs)("h5",{className:"text-foreground text-xl font-normal ".concat(i?"text-base":"text-2xl"),children:[void 0!==n&&String(n),(0,r.jsx)("span",{className:"text-lg",children:"function"==typeof t?t(n):t})]}),u=(0,r.jsx)("h5",{className:"text-foreground-lighter text-xs",children:s});return i?(0,r.jsxs)("div",{className:"flex flex-row items-center gap-x-4",style:{minHeight:"1.8rem"},children:[a&&l,(0,r.jsxs)("div",{className:"flex flex-row items-baseline gap-x-2",children:[void 0!==n&&c,u]})]}):(0,r.jsxs)("div",{className:"h-16",children:[a&&l,void 0!==n&&c,u]})}},64464:function(e,t,n){n.d(t,{EE:function(){return s},FK:function(){return o},Ki:function(){return i},ZE:function(){return a}});var r,s,a={TICK:"hsl(var(--background-overlay-hover))",AXIS:"hsl(var(--background-overlay-hover))",GREEN_1:"hsl(var(--brand-default))",GREEN_2:"hsl(var(--brand-500))"},o=function(e){return e.map(function(e){var t,n=null!==(t=({slate:11})[e])&&void 0!==t?t:9;return{lighter:"var(--colors-".concat(e).concat(n-1,")"),base:"var(--colors-".concat(e).concat(n,")"),darker:"var(--colors-".concat(e).concat(n+1,")")}})},i=["brand","slate","blue","yellow","indigo"];(r=s||(s={})).FULL="MMM D, YYYY, hh:mma",r.DATE_ONLY="MMM D, YYYY"},14073:function(e,t,n){n.d(t,{Bh:function(){return g},D3:function(){return j},Hx:function(){return v},V2:function(){return h},ww:function(){return b}});var r=n(95235),s=n(81333),a=n(28879),o=n.n(a),i=n(2784),l=n(61660),c=n(64464),u=n(10264),d=n.n(u),m=n(52322);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}o().extend(d());var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return x(e)?g(e,t):String(e)},x=function(e){return String(e).includes(".")},g=function(e,t){if(!x(e))return String(e)+"."+"0".repeat(t);var n=String(e).split("."),r=(0,s.Z)(n,2);return r[0]+"."+r[1].slice(0,t)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.EE.FULL,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?o().utc(e).format(t):o()(e).format(t)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tiny:76,small:96,normal:160,large:280},n=t[e];return{Container:(0,i.useMemo)(function(){return function(e){var t=e.children;return(0,m.jsx)(l.h,{height:n,minHeight:n,width:"100%",children:t})}},[e]),minHeight:n}},b=function(e){var t=e.data,n=e.xAxisKey,a=e.yAxisKey,o=e.stackKey,l=e.variant,c=void 0===l?"values":l,u=(0,i.useMemo)(function(){return t?Object.entries(t.reduce(function(e,t){var r=t[n],s=t[a],i=t[o];return e[r]||(e[r]={}),e[r][i]=s,e},{})).map(function(e){var t=(0,s.Z)(e,2),a=t[0];return p(p({},t[1]),{},(0,r.Z)({},n,Number.isNaN(Number(a))?a:Number(a)))}):[]},[JSON.stringify(t)]),d=(0,i.useMemo)(function(){return Object.keys(u[0]||{}).filter(function(e){return e!==n&&e!==a}).sort()},[JSON.stringify(u[0]||{})]),m=(0,i.useMemo)(function(){if("percentages"===c)return u.map(function(e){var t=Object.entries(e),n=t.filter(function(e){var t=(0,s.Z)(e,2),n=t[0];return t[1],d.includes(n)}).reduce(function(e,t){var n=(0,s.Z)(t,2);return e+(n[0],n[1])},0);return t.reduce(function(e,t){var a=(0,s.Z)(t,2),o=a[0],i=a[1];return d.includes(o)?p(p({},e),{},(0,r.Z)({},o,0!==i?i/n:0)):p(p({},e),{},(0,r.Z)({},o,i))},{})})},[JSON.stringify(u)]);return{dataKeys:d,stackedData:u,percentagesStackedData:m}}},85720:function(e,t,n){var r=n(75095),s=n(14073),a=n(52322);t.Z=function(e){var t=e.title,n=e.message,o=e.className,i=e.size,l=(0,s.D3)(i).minHeight;return(0,a.jsxs)("div",{className:"border-control flex flex-grow w-full flex-col items-center justify-center space-y-2 border border-dashed text-center "+(void 0===o?"":o),style:{minHeight:l+20},children:[(0,a.jsx)(r.Z,{className:"text-border-stronger"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-foreground-light text-xs",children:void 0===t?"No data to show":t}),n&&(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:n})]})]})}},81250:function(e,t,n){var r=n(96412),s=n(13089),a=n(95235),o=function(){function e(t,n,s){(0,r.Z)(this,e),(0,a.Z)(this,"_line",void 0),(0,a.Z)(this,"_text",void 0),(0,a.Z)(this,"_lines",void 0),(0,a.Z)(this,"model",void 0),(0,a.Z)(this,"offset",void 0),(0,a.Z)(this,"lineNumber",void 0),this.model=t,this.offset=n,this.lineNumber=s,this._text=t.getValue(),this._lines=this._text.split(/\r?\n/g),this._line=this._lines[s]}return(0,s.Z)(e,[{key:"hasNext",value:function(){return this.lineNumber>=0||this.offset>=0}},{key:"isFowardDQuote",value:function(){return!!this.hasForward()&&34===this.peekForward()}},{key:"isNextDQuote",value:function(){return!!this.hasNext()&&34===this.peekNext()}},{key:"isNextPeriod",value:function(){return!!this.hasNext()&&46===this.peekNext()}},{key:"peekNext",value:function(){return this.offset<0?this.lineNumber>0?10:0:this._line.charCodeAt(this.offset)}},{key:"hasForward",value:function(){return this.lineNumber<this._lines.length||this.offset<this._line.length}},{key:"peekForward",value:function(){return this.offset===this._line.length?this.lineNumber===this._lines.length?0:10:this._line.charCodeAt(this.offset+1)}},{key:"next",value:function(){if(this.offset<0)return this.lineNumber>0?(this.lineNumber--,this._line=this._lines[this.lineNumber],this.offset=this._line.length-1,10):(this.lineNumber=-1,0);var e=this._line.charCodeAt(this.offset);return this.offset--,e}},{key:"readArguments",value:function(){for(var e=0,t=0,n=0,r=0;this.hasNext();){var s=this.next();switch(s){case 40:if(--e<0)return r;break;case 41:e++;break;case 123:n--;break;case 125:n++;break;case 91:t--;break;case 93:t++;break;case 34:case 39:for(;this.hasNext()&&s!==this.next(););break;case 44:!e&&!t&&!n&&r++}}return -1}},{key:"readIdent",value:function(){for(var e=!1,t=!1,n="";this.hasNext();){var r=this.peekNext();if(e&&!t&&!this._isIdentPart(r))break;if(r=this.next(),!e&&t&&34===r){e=!0;continue}if(e||32!==r&&9!==r&&10!=r){if(!e&&(34===r||this._isIdentPart(r)))e=!0,t=34===r,n=String.fromCharCode(r)+n;else if(e){if(t){if(0===r||(n=String.fromCharCode(r)+n,34===r))break}else n=String.fromCharCode(r)+n}}}return n}},{key:"readIdents",value:function(e){for(var t=[];e>0;){e--;var n=this.readIdent();if(!n||(t.push(n),!this.isNextPeriod()))break}return t.reverse()}},{key:"_isIdentPart",value:function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}}]),e}();t.Z=o},30173:function(e,t,n){var r=n(95235),s=n(82269),a=n(8647),o=n(210),i=n(51459),l=n(2784),c=n(52322),u=["text","children","onClick","bounceIconOnCopy"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t=e.text,n=e.children,r=e.onClick,d=e.bounceIconOnCopy,f=(0,s.Z)(e,u),p=(0,l.useState)(!1),h=p[0],x=p[1];return(0,l.useEffect)(function(){if(h){var e=setTimeout(function(){return x(!1)},2e3);return function(){return clearTimeout(e)}}},[h]),(0,c.jsx)(a.z,m(m({onClick:function(e){x(!0),(0,o.vQ)(t),null==r||r(e)},icon:(0,c.jsx)(i.Z,{size:"tiny",className:[h&&d?"animate-bounce":"","transition"].join(" ")})},f),{},{children:null!=n?n:h?"Copied":"Copy"}))}},34161:function(e,t,n){n.d(t,{M:function(){return k}});var r=n(81333),s=n(2784),a=n(37726),o=n.n(a),i=n(82654),l=n(8647),c=n(79382),u=n(96980),d=n(51803),m=n(88688),f=n(16587),p=n(73053),h=n(28879),x=n.n(h),g=n(95235),v=n(80717),j=n(52322);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,g.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=function(e){var t=e.type,n=e.time,r=e.setTime,a=e.setStartTime,o=e.setEndTime,i=e.startTime,l=e.endTime,c=e.startDate,u=e.endDate,d=(0,s.useState)(!1),m=d[0],f=d[1];function h(){1===n.HH.length&&(n.HH="0"+n.HH),1===n.mm.length&&(n.mm="0"+n.mm),1===n.ss.length&&(n.ss="0"+n.ss),n.HH||(n.HH="00"),n.mm||(n.mm="00"),n.ss||(n.ss="00");var e=!1,s=!1;(0,p.default)(new Date(c),"dd/mm/yyyy")==(0,p.default)(new Date(u),"dd/mm/yyyy")&&("start"===t&&(n.HH&&Number(n.HH)>Number(l.HH)&&(l.HH=n.HH,e=!0),n.HH&&Number(n.HH)>=Number(l.HH)&&n.mm&&Number(n.mm)>Number(l.mm)&&(l.mm=n.mm,e=!0),n.HH&&Number(n.HH)>=Number(l.HH)&&n.mm&&Number(n.mm)>=Number(l.mm)&&n.ss&&Number(n.ss)>Number(l.ss)&&(l.ss=n.ss,e=!0)),"end"===t&&(n.HH&&Number(n.HH)<Number(i.HH)&&(i.HH=n.HH,s=!0),n.HH&&Number(n.HH)<=Number(i.HH)&&n.mm&&Number(n.mm)<Number(i.mm)&&(i.mm=n.mm,s=!0),n.HH&&Number(n.HH)<=Number(i.HH)&&n.mm&&Number(n.mm)<=Number(i.mm)&&n.ss&&Number(n.ss)<Number(i.ss)&&(i.ss=n.ss,s=!0))),r(y({},n)),e&&o(y({},l)),s&&a(y({},i)),f(!1)}function x(e,t){var s={HH:n.HH,mm:n.mm,ss:n.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}s[t]=e,r(y({},s))}}var g=function(e){e.target.select(),f(!0)};return(0,s.useEffect)(function(){h()},[c,u]),(0,j.jsxs)("div",{className:"\n        flex h-7 items-center justify-center\n        gap-0 rounded border border-strong bg-surface-100 text-xs text-foreground-light\n        ".concat(m&&" border-stronger outline outline-2 outline-border","\n    "),children:[(0,j.jsx)("div",{className:"mr-1 text-foreground-lighter",children:(0,j.jsx)(v.Z,{size:14,strokeWidth:1.5})}),(0,j.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:g,pattern:"[0-23]*",placeholder:"00",onChange:function(e){return x(e.target.value,"HH")},"aria-label":"Hours",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.HH}),(0,j.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,j.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:g,pattern:"[0-12]*",placeholder:"00",onChange:function(e){return x(e.target.value,"mm")},"aria-label":"Minutes",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.mm}),(0,j.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,j.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:g,pattern:"[0-59]*",placeholder:"00",onChange:function(e){return x(e.target.value,"ss")},"aria-label":"Seconds",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.ss})]})},N=new Date,O=new Date,_={HH:"00",mm:"00",ss:"00"},S={HH:"23",mm:"59",ss:"59"},k=function(e){var t=e.to,n=e.from,a=e.onChange,h=e.triggerButtonType,g=e.triggerButtonClassName,v=e.triggerButtonTitle,b=e.minDate,y=e.maxDate,k=e.hideTime,E=e.hideClear,P=e.selectsRange,C=void 0===P||P,T=e.renderFooter,Z=e.children,D=(0,s.useState)(!1),H=D[0],R=D[1],I=(0,s.useState)(null),A=I[0],M=I[1],L=(0,s.useState)(null),q=L[0],F=L[1],G=(0,s.useState)(N),z=G[0],U=G[1],W=(0,s.useState)(O),Y=W[0],K=W[1],V=(0,s.useState)(_),B=V[0],X=V[1],J=(0,s.useState)(S),Q=J[0],$=J[1];return(0,s.useEffect)(function(){if(n){if(n!==(null==A?void 0:A.toISOString())){var e=x()(n),r=e.toDate();M(r),U(r),X({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else M(null);if(t){if(t!==(null==q?void 0:q.toISOString())){var s=x()(t),a=s.toDate();F(a),K(a),$({HH:s.format("HH"),mm:s.format("mm"),ss:s.format("ss")})}}else F(null)},[t,n]),(0,j.jsxs)(i.J2,{open:H,onOpenChange:R,children:[(0,j.jsx)(i.xo,{asChild:!0,children:(0,j.jsx)(l.z,{title:v,type:void 0===h?"default":h,icon:(0,j.jsx)(c.Z,{}),className:void 0===g?"":g,children:void 0!==Z?Z:(0,j.jsx)(j.Fragment,{children:C&&A&&q&&A!==q?(0,j.jsxs)(j.Fragment,{children:[(0,p.default)(new Date(A),"dd MMM")," -"," ",(0,p.default)(new Date(q),"dd MMM")]}):A||q?(0,p.default)(new Date(A||q),"dd MMM"):"Custom"})})}),(0,j.jsx)(i.yk,{align:"center",side:"bottom",className:"p-0",children:(0,j.jsxs)(j.Fragment,{children:[void 0!==k&&k?null:(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"flex items-stretch justify-between py-2",children:[C?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,j.jsx)(w,{type:"start",startTime:B,endTime:Q,time:B,setTime:X,setStartTime:X,setEndTime:$,startDate:z,endDate:Y})}),(0,j.jsx)("div",{className:"\n                      flex \n                      w-12 \n                      items-center \n                      justify-center\n                      text-foreground-lighter\n                    ",children:(0,j.jsx)(u.Z,{strokeWidth:1.5,size:14})})]}):null,(0,j.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,j.jsx)(w,{type:"end",startTime:B,endTime:Q,time:Q,setTime:$,setStartTime:X,setEndTime:$,startDate:z,endDate:Y})})]})}),(0,j.jsx)("div",{className:"px-3 py-4",children:(0,j.jsx)(o(),{inline:!0,selectsRange:C,selected:z,onChange:function(e){!function(e){if(e){if(e instanceof Date)U(e),K(e);else{var t=(0,r.Z)(e,2),n=t[0],s=t[1];U(n),K(s)}}else U(null),K(null)}(e)},dateFormat:"MMMM d, yyyy h:mm aa",startDate:z,endDate:Y,minDate:b,maxDate:y,dayClassName:function(){return"cursor-pointer"},renderCustomHeader:function(e){var t=e.date,n=e.decreaseMonth,r=e.increaseMonth,s=e.prevMonthButtonDisabled,a=e.nextMonthButtonDisabled;return(0,j.jsx)("div",{className:"flex items-center justify-between px-2 py-2",children:(0,j.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,j.jsx)("button",{onClick:n,disabled:s,type:"button",className:"\n                        ".concat(s&&"cursor-not-allowed opacity-50","\n                        text-foreground-light hover:text-foreground focus:outline-none\n                    "),children:(0,j.jsx)(d.Z,{size:16,strokeWidth:2})}),(0,j.jsx)("span",{className:"text-sm text-foreground-light",children:(0,p.default)(t,"MMMM yyyy")}),(0,j.jsx)("button",{onClick:r,disabled:a,type:"button",className:"\n                        ".concat(a&&"cursor-not-allowed opacity-50","\n                        text-foreground-light hover:text-foreground focus:outline-none\n                    "),children:(0,j.jsx)(m.Z,{size:16,strokeWidth:2})})]})})}})}),(void 0===T?function(){return null}:T)({from:(null==z?void 0:z.toISOString())||null,to:(null==Y?void 0:Y.toISOString())||null}),(0,j.jsx)(f.Z.Separator,{}),(0,j.jsxs)("div",{className:"flex items-center justify-end gap-2 py-2 px-3 pb-4",children:[!(void 0!==E&&E)&&(0,j.jsx)(l.z,{type:"default",onClick:function(){R(!1),U(N),K(O),X(_),$(S),M(null),F(null),a&&a({from:null,to:null})},children:"Clear"}),(0,j.jsx)(l.z,{onClick:function(){var e;return R(!1),M(z),F(Y),e={from:x()(z).second(Number(B.ss)).minute(Number(B.mm)).hour(Number(B.HH)).toISOString(),to:x()(Y||z).second(Number(Q.ss)).minute(Number(Q.mm)).hour(Number(Q.HH)).toISOString()},void(a&&a(e))},children:"Apply"})]})]})})]})}},30119:function(e,t,n){var r=n(95235),s=n(2784),a=n(45458),o=n(99176),i=n(77740),l=n(52322);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=(0,s.createContext)({chevronAlign:"left",justified:!0,type:"default"});function d(e){var t=e.children,n=e.className,s=e.onChange,i=e.openBehaviour,d=e.type,m=void 0===d?"default":d,f=e.defaultValue,p=void 0===f?void 0:f,h=e.justified,x=e.chevronAlign,g=[(0,a.Z)("accordion").variants[m].base];return n&&g.push(n),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.fC,{type:void 0===i?"multiple":i,onValueChange:function(e){s&&s(e),e==typeof String&&e.split(" ")},defaultValue:p,className:g.join(" "),children:(0,l.jsx)(u.Provider,{value:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},{chevronAlign:void 0===x?"left":x,justified:void 0!==h&&h,type:m,defaultValue:p}),children:(0,l.jsx)("div",{children:t})})})})}d.Item=function(e){var t=e.children,n=e.className,r=e.header,c=e.id,d=e.disabled,m=(0,a.Z)("accordion"),f=(0,s.useState)(!1),p=f[0],h=f[1],x=(0,s.useContext)(u),g=x.type,v=x.justified,j=x.chevronAlign,b=[m.variants[g].trigger];v&&b.push(m.justified),n&&b.push(n);var y=[m.chevron.base,m.chevron.align[j]];return p&&!d&&y.unshift("!rotate-180"),(0,l.jsxs)(o.ck,{value:c,className:m.variants[g].container,disabled:d,onClick:function(){h(!p)},children:[(0,l.jsxs)(o.xz,{className:b.join(" "),children:[r,!d&&(0,l.jsx)(i.Z,{"aria-hidden":!0,className:y.join(" "),strokeWidth:2})]}),(0,l.jsx)(o.VY,{className:m.variants[g].content,children:(0,l.jsx)("div",{className:m.variants[g].panel,children:t})})]})},t.Z=d},75095:function(e,t,n){var r=n(95235);n(2784);var s=n(7342),a=n(12223),o=n(52322);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,o.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},79382:function(e,t,n){var r=n(95235);n(2784);var s=n(78046),a=n(12223),o=n(52322);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,o.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},7722:function(e,t,n){var r=n(95235);n(2784);var s=n(99792),a=n(12223),o=n(52322);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,o.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}}}]);