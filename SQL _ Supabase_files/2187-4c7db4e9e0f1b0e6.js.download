"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2187],{56702:function(e,t,r){r.d(t,{Z:function(){return z}});var n=r(39097),s=r.n(n),i=r(5632),o=r(43991),c=r(70203),a=r(42730),l=r(58136),u=r(32711),d=r(90175),p=r(84974),f=r(79624),h=r(46620),x=r(24990),j=r(50071),m=r(52322),b=function(){var e=(0,c.lL)(),t=null==e?void 0:e.slug;return(0,m.jsxs)(x.fC,{delayDuration:0,children:[(0,m.jsx)(x.xz,{type:"button",asChild:!0,className:"px-1",children:(0,m.jsx)(s(),{id:"organization-settings",href:t?"/org/".concat(t,"/general"):"/",children:(0,m.jsx)(j.Z,{size:18,strokeWidth:1.5,className:"text-foreground-light"})})}),(0,m.jsx)(x.h_,{children:(0,m.jsxs)(x.VY,{side:"bottom",children:[(0,m.jsx)(x.Eh,{className:"radix-tooltip-arrow"}),(0,m.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,m.jsx)("span",{className:"text-xs text-foreground",children:"Organization settings"})})]})})]})},g=r(20406),v=r(28526),y=r.n(v),O=r(2784),w=r(84964),N=r(44183),P=r(38617),k=r(40250),Z=r(93306),S=r(2653),C=function(){var e,t,r=(0,w.QJ)(),n=(0,i.useRouter)(),o=(0,O.useState)(!1),c=o[0],a=o[1],l=(0,N.Un)().profile,u=(0,k.f$)().setIsOpen,d=(0,P.F)(),p=d.theme,f=d.setTheme,h=(e=(0,g.Z)(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.next=4,n.push("/sign-in");case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,m.jsxs)(Z.h_,{open:c,onOpenChange:function(){return a(!c)},modal:!1,children:[(0,m.jsx)(Z.$F,{asChild:!0,children:(0,m.jsx)("button",{id:"user-settings-dropdown",className:"flex items-center justify-center border font-bold rounded-full h-7 w-7 text-foreground-light bg-surface-100",children:null!=l&&l.first_name?null==l?void 0:null===(t=l.first_name)||void 0===t?void 0:t[0]:(0,m.jsx)(S.Z,{size:14,strokeWidth:2})})}),(0,m.jsx)(Z.AW,{align:"end",className:"w-60",children:(0,m.jsxs)(Z.Qk,{children:[(0,m.jsxs)("div",{className:"px-2 py-1.5",children:[(0,m.jsxs)("p",{className:"text-sm text-foreground",children:[null==l?void 0:l.first_name," ",null==l?void 0:l.last_name]}),(0,m.jsx)("p",{className:"text-sm text-foreground-light truncate",children:null==l?void 0:l.primary_email})]},"profile"),(0,m.jsx)(Z.VD,{}),(0,m.jsx)(Z.Xi,{className:"cursor-pointer",onClick:function(){return a(!1)},asChild:!0,children:(0,m.jsx)(s(),{href:"/account/me",children:"Preferences"})}),(0,m.jsx)(Z.Xi,{className:"cursor-pointer",onClick:function(){return a(!1)},asChild:!0,children:(0,m.jsx)(s(),{href:"/account/tokens",children:"Access tokens"})}),(0,m.jsx)(Z.Xi,{className:"cursor-pointer",onClick:function(){return a(!1)},asChild:!0,children:(0,m.jsx)(s(),{href:"/account/audit",children:"Audit logs"})}),(0,m.jsx)(Z.VD,{}),(0,m.jsxs)(Z.Xi,{className:"cursor-pointer",onSelect:function(){a(!1),u(!0)},children:[(0,m.jsx)("span",{children:"Command menu"}),(0,m.jsx)(Z.KM,{children:"âŒ˜K"})]}),(0,m.jsx)(Z.VD,{}),(0,m.jsx)(Z.Ju,{children:"Theme"}),(0,m.jsxs)(Z._x,{value:p,onValueChange:function(e){f(e)},children:[(0,m.jsx)(Z.qB,{value:"system",children:"System"}),(0,m.jsx)(Z.qB,{value:"dark",children:"Dark"}),(0,m.jsx)(Z.qB,{value:"light",children:"Light"})]}),(0,m.jsx)(Z.VD,{}),(0,m.jsx)(Z.Xi,{className:"cursor-pointer",onClick:function(){h(),a(!1)},children:(0,m.jsx)("span",{children:"Log out"})})]})})]})},D=function(){var e=(0,i.useRouter)(),t=(0,o.UO)().ref,r=(0,c.Vm)(),n=(0,c.lL)(),x=(0,c.P5)("branchManagement"),j=(null==r?void 0:r.is_branch_enabled)===!0||(null==r?void 0:r.parent_project_ref)!==void 0;return(0,m.jsxs)("div",{className:"flex items-center justify-between px-4 py-1 bg-background border-b",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,m.jsx)(s(),{href:void 0!==n?"/org/".concat(null==n?void 0:n.slug):"/",className:"block mr-3",children:(0,m.jsx)("img",{src:"".concat(e.basePath,"/img/supabase-logo.svg"),alt:"Supabase",className:"mx-auto h-[40px] w-6 cursor-pointer rounded"})}),(0,m.jsx)(f.Z,{isNewNav:!0}),void 0!==t&&(0,m.jsx)(h.Z,{isNewNav:!0}),void 0!==t&&x&&(0,m.jsx)(m.Fragment,{children:j?(0,m.jsx)(d.Z,{isNewNav:!0}):(0,m.jsx)(p.Z,{isNewNav:!0})})]}),(0,m.jsxs)("div",{className:"flex items-center gap-4",children:[(0,m.jsxs)("div",{className:"flex items-center gap-3",children:[(0,m.jsx)(a.Z,{alt:!0}),(0,m.jsx)(u.Z,{alt:!0}),(0,m.jsx)(l.Z,{alt:!0}),(0,m.jsx)(b,{})]}),(0,m.jsx)("div",{className:"flex items-center gap-3",children:(0,m.jsx)(C,{})})]})]})},z=function(e){var t=e.children,r=(0,c.P5)("navigationLayoutV2"),n=(0,c.P5)("ongoingIncident"),s=r?49:0;return(0,m.jsxs)("div",{children:[r&&(0,m.jsx)(D,{}),(0,m.jsx)("div",{style:{height:n?"calc(100vh - ".concat(44,"px - ").concat(s,"px)"):"calc(100vh - ".concat(s,"px)"),maxHeight:n?"calc(100vh - ".concat(44,"px - ").concat(s,"px)"):"calc(100vh - ".concat(s,"px)")},children:t})]})}},90175:function(e,t,r){var n=r(3016),s=r(39097),i=r.n(s),o=r(5632),c=r(2784),a=r(43991),l=r(22812),u=r(10896),d=r(70203),p=r(15742),f=r(97346),h=r(23733),x=r(82654),j=r(8647),m=r(35852),b=r(73302),g=r(96535),v=r(46620),y=r(52322),O=function(e){var t,r=e.branch,n=e.isSelected,s=e.setOpen,c=(0,o.useRouter)(),a=(0,v.u)(c.route,c.query),l=null!==(t=null==a?void 0:a.replace("[ref]",r.project_ref))&&void 0!==t?t:"/project/".concat(r.project_ref);return(0,y.jsx)(i(),{passHref:!0,href:l,children:(0,y.jsxs)(p.di,{value:r.name,className:"cursor-pointer w-full flex items-center justify-between",onSelect:function(){s(!1),c.push(l)},onClick:function(){s(!1)},children:[(0,y.jsx)("p",{className:"truncate w-60",title:r.name,children:r.name}),n&&(0,y.jsx)(f.Z,{})]})})};t.Z=function(e){var t=e.isNewNav,r=(0,o.useRouter)(),s=(0,a.UO)().ref,f=(0,d.Vm)(),v=(null==f?void 0:f.parent_project_ref)!==void 0,w=void 0!==f?v?f.parent_project_ref:s:void 0,N=(0,u.V)({projectRef:w}),P=N.data,k=N.isLoading,Z=N.isError,S=N.isSuccess,C=(0,c.useState)(!1),D=C[0],z=C[1],_=null==P?void 0:P.find(function(e){return e.project_ref===s});return(0,y.jsxs)(y.Fragment,{children:[k&&(0,y.jsx)(l.Z,{className:"w-[90px]"}),Z&&(0,y.jsxs)("div",{className:"flex items-center space-x-2 text-amber-900",children:[(0,y.jsx)(h.Z,{size:16,strokeWidth:2}),(0,y.jsx)("p",{className:"text-sm",children:"Failed to load branches"})]}),S&&P.length>0&&(0,y.jsx)("div",{className:"flex items-center px-2",children:(0,y.jsxs)(x.J2,{open:D,onOpenChange:z,modal:!1,children:[(0,y.jsx)(x.xo,{asChild:!0,children:(0,y.jsx)(j.z,{type:"text",className:"pr-2",iconRight:(0,y.jsx)(m.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),children:(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)("p",{className:void 0!==t&&t?"text-sm":"text-xs",children:null==_?void 0:_.name}),null!=_&&_.is_default?(0,y.jsx)(b.Z,{color:"amber",children:"Production"}):(0,y.jsx)(b.Z,{color:"green",children:"Preview Branch"})]})})}),(0,y.jsx)(x.yk,{className:"p-0",side:"bottom",align:"start",children:(0,y.jsxs)(p.mY,{children:[(0,y.jsx)(p.sZ,{placeholder:"Find branch..."}),(0,y.jsxs)(p.e8,{children:[(0,y.jsx)(p.rb,{children:"No branches found"}),(0,y.jsx)(p.fu,{children:(0,y.jsx)(g.x,{className:"max-h-[210px] overflow-y-auto",children:null==P?void 0:P.map(function(e){return(0,y.jsx)(O,{branch:e,isSelected:e.id===(null==_?void 0:_.id),setOpen:z},e.id)})})}),(0,y.jsx)(p.fu,{className:"border-t",children:(0,y.jsx)(p.di,{className:"cursor-pointer w-full",onSelect:function(e){z(!1),r.push("/project/".concat(s,"/branches"))},onClick:function(){return z(!1)},children:(0,y.jsxs)(i(),{href:"/project/".concat(s,"/branches"),className:"w-full flex items-center gap-2",children:[(0,y.jsx)(n.Z,{size:14,strokeWidth:1.5}),(0,y.jsx)("p",{children:"Manage branches"})]})})})]})]})})]})})]})}},84974:function(e,t,r){r.d(t,{Z:function(){return j}});var n=r(8647),s=r(74160),i=r(70203),o=r(39097),c=r.n(o),a=r(2784),l=r(82654),u=r(73302),d=r(95223),p=r(52322),f=function(e){var t=e.isNewNav,r=(0,a.useState)(!1),i=r[0],o=r[1];return(0,p.jsxs)(l.J2,{open:i,onOpenChange:o,modal:!1,children:[(0,p.jsx)(l.xo,{asChild:!0,children:(0,p.jsx)(n.z,{type:void 0!==t&&t?"default":"text",icon:(0,p.jsx)(s.Z,{strokeWidth:1.5}),children:"Enable branching"})}),(0,p.jsxs)(l.yk,{align:"start",side:"bottom",className:"space-y-4 w-80",style:{marginLeft:"-18px"},children:[(0,p.jsx)(u.Z,{color:"scale",children:"Alpha Testing"}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(s.Z,{strokeWidth:2}),(0,p.jsx)("p",{children:"Database Branching"})]}),(0,p.jsx)("p",{className:"text-xs text-foreground-light",children:"Register for early access and you'll be contacted by email when your organization is enrolled in database branching."}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(n.z,{asChild:!0,children:(0,p.jsx)(c(),{href:"https://forms.supabase.com/branching-request",rel:"noreferrer",target:"_blank",children:"Join waitlist"})}),(0,p.jsx)(n.z,{type:"default",icon:(0,p.jsx)(d.Z,{strokeWidth:1.5}),children:(0,p.jsx)(c(),{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/platform/branching",children:"View the docs"})})]})]})]})},h=r(9747),x=r(44172),j=function(e){var t,r,o=e.isNewNav,c=void 0!==o&&o,a=(0,x.WZ)(),l=(0,i.lL)();return null!==(t=null==l?void 0:null===(r=l.opt_in_tags)||void 0===r?void 0:r.includes(h.PV.PREVIEW_BRANCHES))&&void 0!==t&&t?(0,p.jsx)(n.z,{type:c?"default":"text",icon:(0,p.jsx)(s.Z,{strokeWidth:1.5}),onClick:function(){return a.setShowEnableBranchingModal(!0)},children:"Enable branching"}):(0,p.jsx)(f,{isNewNav:c})}},79624:function(e,t,r){var n=r(39097),s=r.n(n),i=r(5632),o=r(2784),c=r(22812),a=r(54947),l=r(97415),u=r(70203),d=r(82654),p=r(8647),f=r(35852),h=r(73302),x=r(15742),j=r(96535),m=r(97346),b=r(31375),g=r(52322);t.Z=function(e){var t=e.isNewNav,r=void 0!==t&&t,n=(0,i.useRouter)(),v=(0,u.lL)(),y=(0,a.tl)(),O=y.data,w=y.isLoading,N=(0,u.N3)("organizations:create"),P=null==v?void 0:v.slug,k=null==v?void 0:v.name,Z=(0,l.G)({orgSlug:P}),S=Z.data,C=Z.isSuccess,D=(0,o.useState)(!1),z=D[0],_=D[1];return w?(0,g.jsx)(c.Z,{className:"w-[90px]"}):(0,g.jsx)("div",{className:"flex items-center px-2",children:(0,g.jsxs)(d.J2,{open:z,onOpenChange:_,modal:!1,children:[(0,g.jsx)(d.xo,{asChild:!0,children:(0,g.jsx)("div",{className:"flex items-center space-x-2 cursor-pointer",children:(0,g.jsx)(p.z,{type:"text",className:"pr-2",iconRight:(0,g.jsx)(f.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),children:(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsx)("p",{className:r?"text-sm":"text-xs",children:k}),C&&(0,g.jsx)(h.Z,{color:"scale",children:null==S?void 0:S.plan.name})]})})})}),(0,g.jsx)(d.yk,{className:"p-0",side:"bottom",align:"start",children:(0,g.jsxs)(x.mY,{children:[(0,g.jsx)(x.sZ,{placeholder:"Find organization..."}),(0,g.jsxs)(x.e8,{children:[(0,g.jsx)(x.rb,{children:"No organizations found"}),(0,g.jsx)(x.fu,{children:(0,g.jsx)(j.x,{className:(O||[]).length>7?"h-[210px]":"",children:null==O?void 0:O.map(function(e){var t=n.pathname.includes("[slug]")?n.pathname.replace("[slug]",e.slug):r?"/org/".concat(e.slug):"/org/".concat(e.slug,"/general");return(0,g.jsx)(x.di,{value:"".concat(e.name," - ").concat(e.slug),className:"cursor-pointer w-full",onSelect:function(){_(!1),n.push(t)},onClick:function(){return _(!1)},children:(0,g.jsxs)(s(),{href:t,className:"w-full flex items-center justify-between",children:[e.name,e.slug===P&&(0,g.jsx)(m.Z,{})]})},e.slug)})})}),N&&(0,g.jsx)(x.fu,{className:"border-t",children:(0,g.jsx)(x.di,{className:"cursor-pointer w-full",onSelect:function(e){_(!1),n.push("/new")},onClick:function(){return _(!1)},children:(0,g.jsxs)(s(),{href:"/new",className:"flex items-center gap-2 w-full",children:[(0,g.jsx)(b.Z,{size:14,strokeWidth:1.5}),(0,g.jsx)("p",{children:"New organization"})]})})})]})]})})]})})}},46620:function(e,t,r){r.d(t,{u:function(){return v}});var n=r(39097),s=r.n(n),i=r(5632),o=r(2784),c=r(43991),a=r(22812),l=r(29298),u=r(70203),d=r(9747),p=r(15742),f=r(97346),h=r(82654),x=r(8647),j=r(35852),m=r(96535),b=r(31375),g=r(52322),v=function(e,t){if(!(Object.entries(t).length>1))return e;var r="bucketId"in t;return e.split("/").slice(0,r?5:4).join("/")},y=function(e){var t,r=e.project,n=e.setOpen,o=(0,i.useRouter)(),a=(0,c.UO)().ref,l=v(o.route,o.query),u=null!==(t=null==l?void 0:l.replace("[ref]",r.ref))&&void 0!==t?t:"/project/".concat(r.ref);return(0,g.jsx)(p.di,{value:"".concat(r.name,"-").concat(r.ref),className:"cursor-pointer w-full",onSelect:function(){o.push(u),n(!1)},onClick:function(){return n(!1)},children:(0,g.jsxs)(s(),{href:u,className:"w-full flex items-center justify-between",children:[r.name,r.ref===a&&(0,g.jsx)(f.Z,{})]})},r.ref)};t.Z=function(e){var t=e.isNewNav,r=void 0!==t&&t,n=(0,i.useRouter)(),f=(0,c.UO)().ref,v=(0,u.Vm)(),O=(0,u.lL)(),w=(0,l.Sy)(),N=w.data,P=w.isLoading,k=(0,u.N3)("projects:create"),Z=(null==v?void 0:v.parentRef)!==(null==v?void 0:v.ref),S=r?null==N?void 0:N.filter(function(e){return e.organization_id===(null==O?void 0:O.id)}).sort(function(e,t){return e.name.localeCompare(t.name)}):null==N?void 0:N.sort(function(e,t){return e.name.localeCompare(t.name)}),C=Z?null==S?void 0:S.find(function(e){return e.ref===(null==v?void 0:v.parentRef)}):null==S?void 0:S.find(function(e){return e.ref===f}),D=(0,o.useState)(!1),z=D[0],_=D[1];return P||!C?(0,g.jsx)(a.Z,{className:"w-[90px]"}):d.Qy?(0,g.jsx)("div",{className:"flex items-center px-2",children:(0,g.jsxs)(h.J2,{open:z,onOpenChange:_,modal:!1,children:[(0,g.jsx)(h.xo,{asChild:!0,children:(0,g.jsx)(x.z,{type:"text",className:"pr-2",iconRight:(0,g.jsx)(j.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),children:(0,g.jsx)("div",{className:"flex items-center space-x-2",children:(0,g.jsx)("p",{className:r?"text-sm":"text-xs",children:null==C?void 0:C.name})})})}),(0,g.jsx)(h.yk,{className:"p-0",side:"bottom",align:"start",children:(0,g.jsxs)(p.mY,{children:[(0,g.jsx)(p.sZ,{placeholder:"Find project..."}),(0,g.jsxs)(p.e8,{children:[(0,g.jsx)(p.rb,{children:"No projects found"}),(0,g.jsx)(p.fu,{children:(0,g.jsx)(m.x,{className:(S||[]).length>7?"h-[210px]":"",children:null==S?void 0:S.map(function(e){return(0,g.jsx)(y,{project:e,setOpen:_},e.ref)})})}),k&&(0,g.jsx)(p.fu,{className:"border-t",children:(0,g.jsx)(p.di,{className:"cursor-pointer w-full",onSelect:function(){_(!1),n.push("/new/".concat(null==O?void 0:O.slug))},onClick:function(){return _(!1)},children:(0,g.jsxs)(s(),{href:"/new/".concat(null==O?void 0:O.slug),onClick:function(){_(!1)},className:"w-full flex items-center gap-2",children:[(0,g.jsx)(b.Z,{size:14,strokeWidth:1.5}),(0,g.jsx)("p",{children:"New project"})]})})})]})]})})]})}):(0,g.jsx)(x.z,{type:"text",children:(0,g.jsx)("span",{className:r?"text-sm":"text-xs",children:null==C?void 0:C.name})})}},42730:function(e,t,r){r.d(t,{Z:function(){return M}});var n,s=r(2784),i=r(82654),o=r(8647),c=r(66212),a=r(81333),l=r(20406),u=r(28526),d=r.n(u),p=r(43991),f=r(34002),h=r(39097),x=r.n(h),j=r(5632),m=r(14665),b=r(59227),g=r(93306),v=r(39730),y=r(33725),O=r(95235),w=r(70854),N=r(12223),P=r(52322);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var Z=function(e){return(0,P.jsx)(N.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,O.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:w.Z},e))},S=r(82269),C=r(62350),D=r(62202),z=r(81229),_=["onError"];function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(){return(R=(0,l.Z)(d().mark(function e(t){var r,n,s,i,o,c,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.message,n=t.pathname,s=t.projectRef,i=t.organizationSlug,e.next=3,(0,z.v_)("/platform/feedback/send",{body:{message:r,category:"Feedback",tags:["dashboard-feedback"],projectRef:s,organizationSlug:i,pathname:n}});case 3:if(c=(o=e.sent).data,!(a=o.error)){e.next=8;break}throw a;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onError,r=(0,S.Z)(e,_);return(0,C.D)(function(e){return function(e){return R.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,O.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({onError:function(e,r,n){return(0,l.Z)(d().mark(function s(){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===t?D.ZP.error("Failed to submit feedback: ".concat(e.message)):t(e,r,n);case 1:case"end":return s.stop()}},s)}))()}},r))},Y=r(70203),F=r(210),L=r(70536),I=function(e){for(var t="image/png",r=atob(e.substr("data:".concat(t,";base64,").length)),n=[],s=0;s<r.length;s+=1024){for(var i=r.slice(s,s+1024),o=Array(i.length),c=0;c<i.length;c++)o[c]=i.charCodeAt(c);var a=new Uint8Array(o);n.push(a)}return new Blob(n,{type:t})},T=(n=(0,l.Z)(d().mark(function e(t,r){var n,s,i,o,c,a,l,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,L.eI)("https://obuldanrptloktxcffvn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9idWxkYW5ycHRsb2t0eGNmZnZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTIyNjkzMjYsImV4cCI6MjAwNzg0NTMyNn0.1S6qpBbHtEmGuMsIx5UOhRiFd4YbVv-yLTrLk6tVGmM",{auth:{persistSession:!1,autoRefreshToken:!1,multiTab:!1,detectSessionInUrl:!1,localStorage:{getItem:function(e){},setItem:function(e,t){},removeItem:function(e){}}}}),s=I(r),i="".concat(t||"no-project","/").concat((0,F.k$)(),".png"),o={cacheControl:"3600"},e.next=6,n.storage.from("feedback-attachments").upload(i,s,o);case 6:if(a=(c=e.sent).data,!(l=c.error)){e.next=12;break}return console.error("Failed to upload:",l),e.abrupt("return",void 0);case 12:if(!a){e.next=18;break}return e.next=15,n.storage.from("feedback-attachments").createSignedUrls([a.path],31536e4);case 15:return u=e.sent.data,e.abrupt("return",null==u?void 0:u[0].signedUrl);case 18:return e.abrupt("return",void 0);case 19:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}),W=function(e){var t,r,n,i=e.onClose,c=e.feedback,u=e.setFeedback,h=e.screenshot,O=e.setScreenshot,w=(0,j.useRouter)(),N=(0,p.UO)(),k=N.ref,S=N.slug,C=(0,Y.oR)().ui,D=(0,s.useRef)(null),z=(0,s.useRef)(),_=(0,s.useState)(!1),E=_[0],R=_[1],L=(0,s.useState)(!1),W=L[0],M=L[1],V=U().mutateAsync;(0,s.useEffect)(function(){var e;null==D||null===(e=D.current)||void 0===e||e.focus()},[D]);var A=(t=(0,l.Z)(d().mark(function e(){var t;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t;return!((null!==(t=null==e?void 0:e.children)&&void 0!==t?t:[]).length>0)||"feedback-widget"!==e.children[0].id},M(!0),e.next=4,(0,F.Vs)(100);case 4:(0,f.YM)(document.body,{filter:t}).then(function(e){return O(e)}).catch(function(e){C.setNotification({error:e,category:"error",message:"Failed to capture screenshot",duration:4e3})}).finally(function(){M(!1)});case 5:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),q=(r=(0,l.Z)(d().mark(function e(t){var r,n,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.persist(),r=t.target.files||t.dataTransfer.items,n=(0,a.Z)(r,1)[0],(s=new FileReader).onload=function(e){var t;O(null===(t=e.target)||void 0===t?void 0:t.result)},s.readAsDataURL(n),t.target.value="";case 6:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),B=(n=(0,l.Z)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0===c.length&&void 0!==h)){e.next=4;break}return e.abrupt("return",C.setNotification({category:"error",message:"Please include a message in your feedback.",duration:4e3}));case 4:if(!(c.length>0)){e.next=23;break}if(R(!0),!h){e.next=12;break}return e.next=9,T(k,h);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=void 0;case 13:return r=void 0!==(t=e.t0)?"".concat(c,"\n\nAttachments:\n").concat(t):c,e.prev=15,e.next=18,V({projectRef:k,organizationSlug:S,message:r,pathname:w.asPath});case 18:u(""),C.setNotification({category:"success",message:"Feedback sent. Thank you!\n\nPlease be aware that we do not provide responses to feedback. If you require assistance or a reply, consider submitting a support ticket."});case 20:return e.prev=20,R(!1),e.finish(20);case 23:return e.abrupt("return",i());case 24:case"end":return e.stop()}},e,null,[[15,,20,23]])})),function(){return n.apply(this,arguments)});return(0,P.jsxs)("div",{id:"feedback-widget",className:"text-area-text-sm",children:[(0,P.jsx)(m.Z.TextArea,{className:"w-80 p-3",size:"small",placeholder:"Ideas on how to improve this page.\nUse the Support Form for technical issues.",rows:5,value:c,onChange:function(e){u(e.target.value)}}),(0,P.jsx)("div",{className:"w-full h-px bg-border"}),(0,P.jsxs)("div",{className:"w-80 space-y-3 px-3 py-2 pb-4",children:[(0,P.jsxs)("div",{className:"flex justify-between space-x-2",children:[(0,P.jsx)(o.z,{type:"default",onClick:i,children:"Cancel"}),(0,P.jsxs)("div",{className:"flex items-center space-x-2",children:[void 0!==h?(0,P.jsx)("div",{style:{backgroundImage:'url("'.concat(h,'")')},onClick:function(){var e=I(h),t=URL.createObjectURL(e);window.open(t,"_blank")},className:"cursor-pointer rounded h-[26px] w-[30px] border border-control relative bg-cover bg-center bg-no-repeat",children:(0,P.jsx)("button",{className:"cursor-pointer rounded-full bg-red-900 h-3 w-3 flex items-center justify-center absolute -top-1 -right-1",onClick:function(e){e.stopPropagation(),O(void 0)},children:(0,P.jsx)(b.Z,{size:8,strokeWidth:3})})}):(0,P.jsxs)(g.h_,{children:[(0,P.jsx)(g.$F,{children:(0,P.jsx)(o.z,{asChild:!0,type:"default",disabled:W,loading:W,className:"px-2 py-1.5",icon:(0,P.jsx)(v.Z,{size:14}),children:(0,P.jsx)("span",{})})}),(0,P.jsxs)(g.AW,{side:"bottom",align:"end",children:[(0,P.jsxs)(g.Xi,{className:"flex gap-2",onSelect:function(){z.current&&z.current.click()},children:[(0,P.jsx)(y.Z,{size:14}),"Upload screenshot"]},"upload-screenshot"),(0,P.jsxs)(g.Xi,{className:"flex gap-2",onSelect:function(){return A()},children:[(0,P.jsx)(Z,{size:14}),"Capture screenshot"]},"capture-screenshot")]})]}),(0,P.jsx)("input",{type:"file",ref:z,className:"hidden",accept:"image/png",onChange:q}),(0,P.jsx)(o.z,{disabled:E,loading:E,onClick:B,children:"Send feedback"})]})]}),(0,P.jsxs)("p",{className:"text-xs text-foreground-light",children:["Have a technical issue? Contact"," ",(0,P.jsx)(x(),{href:"/support/new",children:(0,P.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"Supabase support"})})," ","or"," ",(0,P.jsx)("a",{href:"https://supabase.com/docs",target:"_blank",rel:"noreferrer",children:(0,P.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"browse our docs"})}),"."]})]})]})},M=function(e){var t=e.alt,r=(0,s.useState)(!1),n=r[0],a=r[1],l=(0,s.useState)(""),u=l[0],d=l[1],p=(0,s.useState)(),f=p[0],h=p[1];return(0,P.jsxs)(i.J2,{modal:!1,open:n,onOpenChange:function(e){a(e),e||h(void 0)},children:[(0,P.jsx)(i.xo,{asChild:!0,children:(0,P.jsx)(o.z,{asChild:!0,onClick:function(){a(function(e){return!e})},type:"default",icon:void 0!==t&&t?null:(0,P.jsx)(c.Z,{size:16,strokeWidth:1.5,className:"text-foreground-lighter"}),children:(0,P.jsx)("span",{className:"hidden md:flex",children:"Feedback"})})}),(0,P.jsx)(i.yk,{side:"bottom",align:"end",className:"w-full p-0",children:(0,P.jsx)(W,{onClose:function(){d(""),h(void 0),a(!1)},feedback:u,setFeedback:d,screenshot:f,setScreenshot:h})})]})}},58136:function(e,t,r){var n=r(24990),s=r(38421),i=r.n(s),o=r(39097),c=r.n(o),a=r(5632),l=r(38183),u=r(82654),d=r(8647),p=r(81253),f=r(70249),h=r(71813),x=r(80943),j=r(15688),m=r(16587),b=r(66212),g=r(52322);t.Z=function(e){var t=e.alt,r=void 0!==t&&t,s=(0,a.useRouter)(),o=s.query.ref;return(0,g.jsxs)(u.J2,{children:[(0,g.jsxs)(n.fC,{delayDuration:0,children:[(0,g.jsx)(u.xo,{asChild:!0,children:(0,g.jsx)(n.xz,{asChild:!0,children:(0,g.jsx)("div",{className:"relative flex items-center",children:(0,g.jsx)(d.z,{id:"help-popover-button",type:r?"text":"default",className:r?"px-1":"",icon:(0,g.jsx)(p.Z,{size:r?18:16,strokeWidth:1.5,className:r?"text-foreground-light":"text-foreground-lighter"}),children:!r&&(0,g.jsx)("span",{children:"Help"})})})})}),r?(0,g.jsx)(n.h_,{children:(0,g.jsxs)(n.VY,{side:"bottom",children:[(0,g.jsx)(n.Eh,{className:"radix-tooltip-arrow"}),(0,g.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow space-y-2 border border-background",children:(0,g.jsx)("p",{className:"text-xs text-foreground",children:"Help"})})]})}):null]}),(0,g.jsxs)(u.yk,{className:"w-[400px] space-y-4 p-0 py-5",align:"end",side:"bottom",children:[(0,g.jsxs)("div",{className:"mb-5 space-y-4 px-5",children:[(0,g.jsx)("h5",{className:"text-foreground",children:"Need help with your project?"}),(0,g.jsx)("p",{className:"text-sm text-foreground-lighter",children:"For issues with your project hosted on supabase.com, or other inquiries about our hosted services."}),(0,g.jsxs)("div",{className:"space-x-1",children:[(0,g.jsx)(d.z,{asChild:!0,type:"default",icon:(0,g.jsx)(f.Z,{}),children:(0,g.jsx)(c(),{href:"https://supabase.com/docs/guides/platform/troubleshooting",target:"_blank",rel:"noreferrer",children:"Troubleshooting"})}),(0,g.jsx)(d.z,{asChild:!0,type:"text",size:"tiny",icon:(0,g.jsx)(h.Z,{}),children:(0,g.jsx)(c(),{href:"https://supabase.com/docs/",target:"_blank",rel:"noreferrer",children:"Docs"})}),(0,g.jsx)(d.z,{asChild:!0,type:"text",size:"tiny",icon:(0,g.jsx)(x.Z,{}),children:(0,g.jsx)(c(),{href:"https://status.supabase.com/",target:"_blank",rel:"noreferrer",children:"Supabase Status"})})]}),(0,g.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Expected response time is based on your billing plan. Pro and Pay as You Go plans are prioritized."}),(0,g.jsx)("div",{children:(0,g.jsx)(d.z,{asChild:!0,type:"default",icon:(0,g.jsx)(j.Z,{}),children:(0,g.jsx)(c(),{href:"/support/new".concat(o?"?ref=".concat(o):""),children:"Contact Support"})})})]}),(0,g.jsx)(m.Z.Separator,{}),(0,g.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,g.jsxs)("div",{className:"mb-4 px-5",children:[(0,g.jsx)("h5",{className:"mb-2",children:"Reach out to the community"}),(0,g.jsx)("p",{className:"text-sm text-foreground-lighter",children:"For other support, including questions on our client libraries, advice, or best practices."})]}),(0,g.jsx)("div",{className:"px-5",children:(0,g.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",style:{background:"#404EED"},children:(0,g.jsxs)("a",{href:"https://discord.supabase.com",target:"_blank",rel:"noreferrer",className:"dark block cursor-pointer",children:[(0,g.jsx)(i(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(s.basePath,"/img/support/discord-bg-small.jpg"),layout:"fill",objectFit:"cover",alt:"discord illustration header"}),(0,g.jsx)(d.z,{type:"secondary",icon:(0,g.jsx)(l.Z,{src:"".concat(s.basePath,"/img/discord-icon.svg"),className:"h-4 w-4"}),children:(0,g.jsx)("span",{style:{color:"#404EED"},children:"Join Discord server"})})]})})}),(0,g.jsx)("div",{className:"px-5",children:(0,g.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",children:(0,g.jsxs)("a",{href:"https://github.com/supabase/supabase/discussions",target:"_blank",rel:"noreferrer",className:"block cursor-pointer",children:[(0,g.jsx)(i(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(s.basePath,"/img/support/github-bg.jpg?v-1"),layout:"fill",objectFit:"cover",alt:"discord illustration header"}),(0,g.jsx)(d.z,{type:"secondary",icon:(0,g.jsx)(b.Z,{}),children:"GitHub Discussions"})]})})})]})]})]})}},32711:function(e,t,r){r.d(t,{Z:function(){return en}});var n=r(95235),s=r(20406),i=r(28526),o=r.n(i),c=r(24990),a=r(29750),l=r(55830),u=r(28879),d=r.n(u),p=r(5632),f=r(2784),h=r(16587),x=r(8647),j=r(11748),m=r(43019),b=r(12223),g=r(52322);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var y=function(e){return(0,g.jsx)(b.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:m.Z},e))},O=r(96980),w=r(89700),N=r(58943),P=r(37552),k=r(9747),Z={list:function(){return["notifications"]}};function S(){return(S=(0,s.Z)(o().mark(function e(t){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.U2)("".concat(k.T5,"/notifications"),{signal:t});case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,N.a)(Z.list(),function(e){return function(e){return S.apply(this,arguments)}(e.signal)},e)},D=r(82269),z=r(62350),_=r(62202),E=r(81229),R=["onSuccess","onError"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(){return(Y=(0,s.Z)(o().mark(function e(t){var r,n,s,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ids,e.next=3,(0,E.r$)("/platform/notifications",{body:{ids:r}});case 3:if(s=(n=e.sent).data,!(i=n.error)){e.next=8;break}throw i;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,r=e.onError,i=(0,D.Z)(e,R),c=(0,l.NL)();return(0,z.D)(function(e){return function(e){return Y.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({onSuccess:function(e,r,n){return(0,s.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.invalidateQueries(Z.list());case 2:return s.next=4,null==t?void 0:t(e,r,n);case 4:case"end":return s.stop()}},s)}))()},onError:function(e,t,n){return(0,s.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===r?_.Am.error("Failed to update notifications: ".concat(e.message)):r(e,t,n);case 1:case"end":return s.stop()}},s)}))()}},i))},L=r(40186),I=r(36516),T=r(29298),W=r(70203),M=r(59227),V=["onSuccess","onError"];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function q(){return(q=(0,s.Z)(o().mark(function e(t){var r,n,s,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ids,e.next=3,(0,E.IV)("/platform/notifications",{body:{ids:r}});case 3:if(s=(n=e.sent).data,!(i=n.error)){e.next=8;break}throw i;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,r=e.onError,i=(0,D.Z)(e,V),c=(0,l.NL)();return(0,z.D)(function(e){return function(e){return q.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({onSuccess:function(e,r,n){return(0,s.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.invalidateQueries(Z.list());case 2:return s.next=4,null==t?void 0:t(e,r,n);case 4:case"end":return s.stop()}},s)}))()},onError:function(e,t,n){return(0,s.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===r?_.Am.error("Failed to dismiss notifications: ".concat(e.message)):r(e,t,n);case 1:case"end":return s.stop()}},s)}))()}},i))},H=r(39097),J=r.n(H),G=r(95223),X=function(e){e.project;var t=e.organization,r=e.changelogLink,n=e.availableActions,s=e.onSelectRestartProject,i=e.onSelectApplyMigration,o=e.onSelectRollbackMigration,c=(0,p.useRouter)(),l=function(){return c.push("/org/".concat(t.slug,"/billing?panel=subscriptionPlan"))},u=function(e){switch(e.action_type){case a.Us.UpgradeProjectToPro:return(0,g.jsx)(x.z,{type:"default",onClick:l,children:"Upgrade plan"});case a.Us.SchedulePostgresRestart:return(0,g.jsx)(x.z,{type:"default",onClick:s,children:"Restart project"});case a.Us.MigratePostgresSchema:if(e.reason===a.Fi.Rollback)return(0,g.jsx)(x.z,{type:"default",onClick:o,children:"Rollback"});return(0,g.jsx)(x.z,{type:"default",onClick:i,children:"Apply now"})}};return(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[n.map(function(e){return(0,g.jsx)(f.Fragment,{children:u(e)},"".concat(e.action_type,"_").concat(e.reason))}),r&&(0,g.jsx)(x.z,{asChild:!0,type:"default",icon:(0,g.jsx)(G.Z,{size:12,strokeWidth:2}),children:(0,g.jsx)(J(),{href:r,target:"_blank",rel:"noreferrer",children:"More info"})})]})},Q=r(81333),$=r(25825),K=function(e,t){var r=e.name;if(t.data.name===a.O0.ProjectExceedingTierLimit){var n=t.data.violations.map(function(e){return e.dimension}).reduce(function(e,t){return"".concat(e,", ").concat(t)});return(0,g.jsxs)("p",{className:"text-sm",children:['Your project "',r,'" has exceeded its limits in the following areas:'," ",n,"."]})}if(t.data.name===a.O0.PostgresqlUpgradeAvailable){var s=t.data,i=s.upgrade_type,o=s.additional;if("postgresql-server"===i){var c=o.version_to;return(0,g.jsxs)("p",{className:"text-sm",children:["New version of Postgres (",c,') is now available for project "',r,'".']})}if("extensions"===i){var l=o.name,u=o.version_to;return(0,g.jsxs)("p",{className:"text-sm",children:['New version of "',l,'" (',u,') is now available for project "',r,'".']})}if("schema-migration"===i){var d=o.name,p=o.version_to;return(0,g.jsxs)("div",{className:"text-sm space-y-1",children:[(0,g.jsxs)("p",{children:['A new schema migration is available for your project "',r,'".']}),(0,g.jsx)("ol",{className:"list-disc pl-6",children:(0,g.jsx)("li",{children:(0,g.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,g.jsx)("p",{children:d}),(0,g.jsx)(O.Z,{size:12,strokeWidth:2}),(0,g.jsx)("p",{children:p})]})})})]})}return""}if(t.data.name===a.O0.PostgresqlUpgradeCompleted){var f=t.data,h=f.upgrade_type,j=f.additional;if("postgresql-server"===h){var m=j.version_to;return(0,g.jsxs)("p",{className:"text-sm",children:["Postgres (",m,") has been successfully updated to ",m,' for project "',r,'".']})}if("extensions"===h){var b=j.name,v=j.version_to;return(0,g.jsxs)("p",{className:"text-sm",children:['The extension "',b,'" has been successfully updated to ',v,' for project "',r,'".']})}if("schema-migration"===h){var y=j.version_to;return(0,g.jsxs)("p",{className:"text-sm",children:['The schema migration "',y,'" has been successfully applied for project "',r,'".']})}}else if(t.data.name===a.O0.ProjectUpdateCompleted){var w=t.data.upgrades;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("p",{className:"text-sm",children:['The following services have been successfully updated for project "',r,'":']}),(0,g.jsx)("ol",{className:"list-disc pl-6",children:w.map(function(e){return(0,g.jsx)("li",{children:(0,g.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,g.jsx)("p",{className:"text-sm",children:e.name}),(0,g.jsx)(O.Z,{size:12,strokeWidth:2}),(0,g.jsx)("p",{className:"text-sm",children:e.version_to}),e.changelog_link&&(0,g.jsx)("div",{className:"!ml-4",children:(0,g.jsx)(J(),{href:e.changelog_link,target:"_blank",rel:"noreferrer",children:(0,g.jsx)(G.Z,{className:"cursor-pointer text-foreground-light hover:text-foreground transition",size:12,strokeWidth:2})})})]})},e.name)})})]})}else{if(t.data.name!==a.O0.ProjectInformational)return(0,g.jsxs)("p",{className:"text-sm",children:["Unknown notification type: ",t.notification_name," - Please reach out to support for more information."]});var N,P=null!==(N=t.data.linked_buttons)&&void 0!==N?N:[];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)($.U,{content:t.data.message,className:"text-foreground"}),P.map(function(e,t){return(0,g.jsx)("a",{href:e.url,target:"_blank",children:(0,g.jsx)(x.z,{asChild:!0,type:"default",className:"mr-2 mt-2 mb-2",icon:(0,g.jsx)(G.Z,{size:12,strokeWidth:2}),children:(0,g.jsx)("span",{children:e.text})})},t)})]})}},ee=function(e){var t=(0,Q.Z)(e,1)[0];if(!t)return(0,g.jsx)("p",{className:"text-sm"});switch(t.action_type){case a.Us.SchedulePostgresRestart:return(0,g.jsx)("p",{className:"text-sm",children:"Restart your project to get the latest updates."});case a.Us.UpgradeProjectToPro:return(0,g.jsx)("p",{className:"text-sm",children:"Upgrade your project to ensure continued availability."});case a.Us.PgBouncerRestart:return(0,g.jsx)("p",{className:"text-sm",children:"Restart your connection pooler to get the latest updates."});case a.Us.MigratePostgresSchema:if(t.deadline)return(0,g.jsxs)("p",{className:"text-sm space-x-1",children:["This patch will be automatically applied after"," ",d()(new Date(t.deadline)).format("DD MMM YYYY, HH:mma")]});default:return""}},et=r(54947),er=function(e){var t,r,n,i=e.notification,c=e.onSelectRestartProject,l=e.onSelectApplyMigration,u=e.onSelectRollbackMigration,p=(0,W.oR)().ui,f=(0,T.Sy)().data,h=(0,et.tl)().data,j=null==f?void 0:f.find(function(e){return e.id===i.project_id}),m=null==h?void 0:h.find(function(e){return e.id===(null==j?void 0:j.organization_id)}),b=d()(i.inserted_at).format("DD MMM YYYY, HH:mma"),v=i.data.changelog_link,y=null!==(r=null===(n=i.meta)||void 0===n?void 0:n.actions_available)&&void 0!==r?r:[],O=B({onError:function(e){p.setNotification({error:e,category:"error",message:"Failed to dismiss notification: ".concat(e.message),duration:4e3})}}),w=O.mutate,N=O.isLoading,P=(t=(0,s.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:w({ids:[t]});case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return j&&m?(0,g.jsxs)("div",{className:"flex py-2",children:[(0,g.jsx)("div",{className:"flex min-w-[50px] justify-center",children:i.notification_status!==a.Ez.Seen&&(0,g.jsx)("div",{className:"mt-1.5 h-2 w-2 rounded-full bg-green-900"})}),(0,g.jsxs)("div",{className:"flex-grow mr-8 flex flex-col gap-4",children:[(0,g.jsxs)("div",{className:"w-full flex justify-between",children:[(0,g.jsxs)("div",{className:"w-9/10 space-y-2",children:[K(j,i),ee(y),(0,g.jsx)("p",{className:"text-foreground-light text-sm !mt-2",children:b})]}),(0,g.jsx)("div",{className:"w-1/10 flex justify-end",children:(0,g.jsx)("div",{children:(0,g.jsx)(x.z,{className:"!px-1 group",type:"text",loading:N,icon:(0,g.jsx)(M.Z,{size:14,strokeWidth:2,className:"text-foreground-light group-hover:text-foreground transition"}),onClick:function(){return P(i.id)}})})})]}),(y.length>0||void 0!==v)&&(0,g.jsx)("div",{className:"flex items-center",children:(0,g.jsx)(X,{project:j,organization:m,changelogLink:v,availableActions:y,onSelectRestartProject:function(){return c(j,i)},onSelectApplyMigration:function(){return l(j,i)},onSelectRollbackMigration:function(){return u(j,i)}})})]})]}):null},en=function(e){var t,r,i,u,m,b,v,N,Z,S,D,z,_,E,R,U,Y,M,V,A=e.alt,q=void 0!==A&&A,B=(0,l.NL)(),H=(0,p.useRouter)(),J=(0,W.oR)(),G=J.meta,X=J.ui,Q=C().data,$=F({onError:function(){return console.error("Failed to update notifications")}}).mutate,K=(0,f.useState)(),ee=K[0],et=K[1],en=(0,f.useState)(),es=en[0],ei=en[1],eo=(0,f.useState)(),ec=eo[0],ea=eo[1],el=(0,f.useState)(),eu=el[0],ed=el[1],ep=(0,I.D)({onSuccess:function(e,t){et(void 0),ed(void 0),(0,T.Ob)(B,t.ref,"OFFLINE"),X.setNotification({category:"success",message:"Restarting services"}),H.push("/project/".concat(t.ref))}}).mutate,ef=null!==(m=null==Q?void 0:Q.filter(function(e){return e.notification_status===a.Ez.New}))&&void 0!==m?m:[],eh=ef.length>0,ex=(t=(0,s.Z)(o().mark(function e(t){var r,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!t&&(n=null!==(r=null==Q?void 0:Q.filter(function(e){return e.notification_status===a.Ez.New}).map(function(e){return e.id}))&&void 0!==r?r:[]).length>0&&$({ids:n});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),ej=(r=(0,s.Z)(o().mark(function e(){var t,r,s,i,c;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!ee||!eu)){e.next=2;break}return e.abrupt("return");case 2:r=eu.id,s=ee.ref,i=ee.region,t={},(0,n.Z)(t,a.Us.PgBouncerRestart,"pgbouncer"),(0,n.Z)(t,a.Us.SchedulePostgresRestart,"postgresql"),(0,n.Z)(t,a.Us.MigratePostgresSchema,"postgresql"),c=t,ep({ref:s,region:i,services:eu.meta.actions_available.map(function(e){return e.action_type}).filter(function(e){return -1!==Object.keys(c).indexOf(e)}).map(function(e){return c[e]}),source_notification_id:r});case 7:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),em=(i=(0,s.Z)(o().mark(function e(){var t,r,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(es){e.next=2;break}return e.abrupt("return");case 2:if(t=(null==eu?void 0:eu.data).additional.resource){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,(0,P.v_)("".concat(k.T5,"/database/").concat(es.ref,"/").concat(t),{});case 8:if((r=e.sent).error){e.next=17;break}return e.next=12,(0,L.T)({ref:es.ref});case 12:(n=e.sent)&&G.setProjectDetails(n),X.setNotification({category:"success",message:'Successfully applied migration for project "'.concat(es.name,'"')}),e.next=18;break;case 17:X.setNotification({error:r.error,category:"error",message:"Failed to apply migration: ".concat(r.error.message)});case 18:ei(void 0);case 19:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),eb=(u=(0,s.Z)(o().mark(function e(){var t,r,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ec){e.next=2;break}return e.abrupt("return");case 2:if(t=(null==eu?void 0:eu.data).additional.resource){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,(0,P.$v)("".concat(k.T5,"/database/").concat(ec.ref,"/").concat(t),{});case 8:if((r=e.sent).error){e.next=17;break}return e.next=12,(0,L.T)({ref:ec.ref});case 12:(n=e.sent)&&G.setProjectDetails(n),X.setNotification({category:"success",message:'Successfully rolled back migration for project "'.concat(ec.name,'"')}),e.next=18;break;case 17:X.setNotification({error:r.error,category:"error",message:"Failed to roll back migration: ".concat(r.error.message)});case 18:ea(void 0);case 19:case"end":return e.stop()}},e)})),function(){return u.apply(this,arguments)});return Q&&Array.isArray(Q)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.Z,{size:"content",align:"end",side:"bottom",sideOffset:8,onOpenChange:ex,overlay:(0,g.jsxs)("div",{className:"w-[400px] lg:w-[700px]",children:[(0,g.jsx)("div",{className:"flex items-center justify-between border-b border-default bg-surface-200 px-4 py-2",children:(0,g.jsx)("p",{className:"text-sm",children:"Notifications"})}),(0,g.jsx)("div",{className:"max-h-[380px] overflow-y-auto py-2",children:0===Q.length?(0,g.jsx)("div",{className:"py-2 px-4",children:(0,g.jsx)("p",{className:"text-sm text-foreground-light",children:"No notifications available"})}):(0,g.jsx)(g.Fragment,{children:Q.map(function(e,t){return(0,g.jsxs)(f.Fragment,{children:[(0,g.jsx)(er,{notification:e,onSelectRestartProject:function(e,t){et(e),ed(t)},onSelectApplyMigration:function(e,t){ei(e),ed(t)},onSelectRollbackMigration:function(e,t){ea(e),ed(t)}}),t!==Q.length-1&&(0,g.jsx)(h.Z.Separator,{})]},e.id)})})})]}),children:(0,g.jsxs)(c.fC,{delayDuration:0,children:[(0,g.jsx)(c.xz,{asChild:!0,children:(0,g.jsxs)("div",{className:"relative flex items-center",children:[eh&&(0,g.jsx)(g.Fragment,{children:q?null:(0,g.jsxs)("div",{className:"absolute -top-1 -right-1 z-50 flex h-3 w-3 items-center justify-center",children:[(0,g.jsx)("div",{className:"h-full w-full animate-ping rounded-full bg-green-800 opacity-60"}),(0,g.jsx)("div",{className:"z-60 absolute top-0 right-0 h-full w-full rounded-full bg-green-900 opacity-80"})]})}),(0,g.jsx)(x.z,{asChild:!0,id:"notification-button",type:q?"text":"default",className:q?"px-1":"",icon:eh?(0,g.jsx)("div",{className:"-mr-3.5 z-10 h-4 w-4 flex items-center justify-center rounded-full bg-foreground",children:(0,g.jsx)("p",{className:"text-xs text-background-alternative",children:ef.length})}):q?(0,g.jsx)(j.Z,{size:18,strokeWidth:1.5,className:"text-foreground-light"}):(0,g.jsx)(y,{size:16,strokeWidth:1.5,className:"text-foreground"}),iconRight:eh?(0,g.jsx)(g.Fragment,{children:q?(0,g.jsx)(j.Z,{size:18,strokeWidth:1.5,className:"text-foreground-light"}):(0,g.jsx)(y,{size:16,strokeWidth:1.5,className:"text-foreground"})}):null,children:(0,g.jsx)("span",{})})]})}),(0,g.jsx)(c.h_,{children:(0,g.jsxs)(c.VY,{side:"bottom",children:[(0,g.jsx)(c.Eh,{className:"radix-tooltip-arrow"}),(0,g.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background flex items-center space-x-1",children:(0,g.jsx)("span",{className:"text-xs text-foreground",children:"Notifications"})})]})})]})}),(0,g.jsx)(w.Z,{danger:!0,visible:void 0!==ee,title:'Restart project "'.concat(null==ee?void 0:ee.name,'"'),description:"Are you sure you want to restart the project? There will be a few minutes of downtime.",buttonLabel:"Restart",buttonLoadingLabel:"Restarting",onSelectCancel:function(){return et(void 0)},onSelectConfirm:ej}),(0,g.jsx)(w.Z,{size:"large",visible:void 0!==es,title:'Apply schema migration for "'.concat(null==es?void 0:es.name,'"'),description:(0,g.jsxs)("div",{className:"text-foreground space-y-2",children:[(0,g.jsxs)("div",{className:"space-y-1",children:[(0,g.jsx)("p",{children:"The following schema migration will be applied to the project"}),(0,g.jsx)("ol",{className:"list-disc pl-6",children:(0,g.jsx)("li",{children:(0,g.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,g.jsx)("p",{children:null==eu?void 0:null===(b=eu.data)||void 0===b?void 0:null===(v=b.additional)||void 0===v?void 0:v.name}),(0,g.jsx)(O.Z,{size:12,strokeWidth:2}),(0,g.jsx)("p",{children:null==eu?void 0:null===(N=eu.data)||void 0===N?void 0:null===(Z=N.additional)||void 0===Z?void 0:Z.version_to})]})})})]}),(0,g.jsxs)("p",{children:["This change can be rolled back anytime up till"," ",d()(new Date(null!==(S=null==eu?void 0:null===(D=eu.meta.actions_available)||void 0===D?void 0:null===(z=D[0])||void 0===z?void 0:z.deadline)&&void 0!==S?S:0)).format("DD MMM YYYY, HH:mma ZZ"),", after which the changes will be finalized and can no longer be undone."]})]}),buttonLabel:"Confirm",buttonLoadingLabel:"Confirm",onSelectCancel:function(){return ei(void 0)},onSelectConfirm:em}),(0,g.jsx)(w.Z,{size:"medium",visible:void 0!==ec,title:'Rollback schema migration for "'.concat(null==ec?void 0:ec.name,'"'),description:(0,g.jsxs)("div",{className:"text-foreground space-y-2",children:[(0,g.jsxs)("div",{className:"space-y-1",children:[(0,g.jsx)("p",{children:"The following schema migration will be rolled back for the project"}),(0,g.jsx)("ol",{className:"list-disc pl-6",children:(0,g.jsx)("li",{children:(0,g.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,g.jsx)("p",{children:null==eu?void 0:null===(_=eu.data)||void 0===_?void 0:null===(E=_.additional)||void 0===E?void 0:E.name}),(0,g.jsx)(O.Z,{size:12,strokeWidth:2}),(0,g.jsx)("p",{children:null==eu?void 0:null===(R=eu.data)||void 0===R?void 0:null===(U=R.additional)||void 0===U?void 0:U.version_to})]})})})]}),(0,g.jsxs)("p",{children:["This migration however will still be applied and finalized after"," ",d()(new Date(null!==(Y=null==eu?void 0:null===(M=eu.meta.actions_available)||void 0===M?void 0:null===(V=M[0])||void 0===V?void 0:V.deadline)&&void 0!==Y?Y:0)).format("DD MMM YYYY, HH:mma ZZ"),", after which the changes can no longer be undone."]})]}),buttonLabel:"Confirm",buttonLoadingLabel:"Confirm",onSelectCancel:function(){return ea(void 0)},onSelectConfirm:eb})]}):null}},55386:function(e,t,r){var n=r(12741),s=r(39097),i=r.n(s);r(2784);var o=r(29027),c=r(88688),a=r(52322);t.Z=function(e){var t=e.title,r=e.description,s=e.children,l=e.footer,u=e.url,d=void 0===u?"":u,p=e.linkHref,f=void 0===p?"":p,h=e.imgUrl,x=e.imgAlt,j=e.onClick,m=e.icon,b=e.className,g=e.loading,v=d||f||j,y=[b,"group relative text-left","bg-surface-100","border border-surface","rounded-md p-5 flex flex-row h-32","transition ease-in-out duration-150"];v&&(y=[].concat((0,n.Z)(y),["cursor-pointer","hover:bg-overlay-hover","hover:border-control"]));var O=function(e){var t=e.children;return(0,a.jsx)("div",{className:"mr-4 flex flex-col",children:t})},w=(0,a.jsxs)("div",{className:y.join(" "),children:[h&&(0,a.jsx)(O,{children:(0,a.jsx)("img",{className:" transition-all group-hover:scale-110 ",src:"".concat(h),alt:"".concat(x),width:"26"})}),m&&(0,a.jsx)(O,{children:m}),(0,a.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2",children:["string"==typeof t?(0,a.jsx)("h5",{className:"text-foreground",children:t}):t,(s||r)&&(0,a.jsxs)("div",{className:"flex w-full flex-1 flex-col",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:r}),(0,a.jsx)("div",{className:"w-full",children:s&&s})]}),l&&(0,a.jsx)("div",{className:"w-full !mt-auto",children:l})]}),v&&(0,a.jsx)("div",{className:" absolute right-4 top-4 text-foreground-lighter transition-all duration-200 group-hover:right-3 group-hover:text-foreground ",children:void 0!==g&&g?(0,a.jsx)(o.Z,{className:"animate-spin"}):(0,a.jsx)(c.Z,{})})]});return j?(0,a.jsx)(function(e){var t=e.children;return(0,a.jsx)("button",{onClick:j,children:t})},{children:w}):f?(0,a.jsx)(function(e){var t=e.children;return(0,a.jsx)(i(),{href:f,children:t})},{children:w}):d?(0,a.jsx)(function(e){var t=e.children;return(0,a.jsx)("a",{href:d,children:t})},{children:w}):(0,a.jsx)(function(e){var t=e.children;return(0,a.jsx)("div",{children:t})},{children:w})}},89700:function(e,t,r){var n=r(2784),s=r(36849),i=r(43635),o=r(8647),c=r(52322);t.Z=function(e){var t=e.visible,r=void 0!==t&&t,a=e.danger,l=void 0!==a&&a,u=e.title,d=void 0===u?"":u,p=e.description,f=void 0===p?"":p,h=e.size,x=e.buttonLabel,j=void 0===x?"":x,m=e.buttonLoadingLabel,b=void 0===m?"":m,g=e.onSelectCancel,v=void 0===g?function(){}:g,y=e.onSelectConfirm,O=void 0===y?function(){}:y;(0,n.useEffect)(function(){r&&P(!1)},[r]);var w=(0,n.useState)(!1),N=w[0],P=w[1],k=function(){P(!0),O()};return(0,c.jsx)(s.C,{header:d,visible:r,title:d,description:f,size:void 0===h?"small":h,hideFooter:!0,onCancel:v,children:(0,c.jsx)(i.Z,{initialValues:{},validateOnBlur:!0,onSubmit:function(){return k()},validate:function(){return[]},children:function(){return(0,c.jsxs)("div",{className:"space-y-4 py-4",children:[(0,c.jsx)(s.C.Content,{children:(0,c.jsx)("p",{className:"text-sm text-foreground-light",children:f})}),(0,c.jsx)(s.C.Separator,{}),(0,c.jsx)(s.C.Content,{children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(o.z,{block:!0,htmlType:"button",type:"default",onClick:v,disabled:N,children:"Cancel"}),(0,c.jsx)(o.z,{htmlType:"submit",block:!0,type:l?"danger":"primary",disabled:N,loading:N,children:b&&N?b:j||"Confirm"})]})})]})}})})}},88281:function(e,t,r){var n=r(39097),s=r.n(n),i=r(2784),o=r(59476),c=r(63060),a=r(8647),l=r(95223),u=r(52322);t.Z=function(e){var t=e.icon,r=e.title,n=e.description,d=e.url,p=e.urlLabel,f=e.defaultVisibility,h=e.hideCollapse,x=e.button,j=e.className,m=void 0===j?"":j,b=e.block,g=(0,i.useState)(void 0!==f&&f),v=g[0],y=g[1];return(0,u.jsx)("div",{className:"".concat(void 0!==b&&b?"block w-full":"","\n      block w-full rounded border bg-surface-200 py-3 ").concat(m),children:(0,u.jsxs)("div",{className:"flex flex-col px-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex w-full space-x-3 lg:items-start",children:[t&&(0,u.jsx)("span",{className:"text-foreground-lighter",children:t}),(0,u.jsx)("div",{className:"flex-grow",children:(0,u.jsx)("h5",{className:"text-sm text-foreground",children:r})})]}),n&&!(void 0!==h&&h)?(0,u.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:function(){return y(!v)},children:v?(0,u.jsx)(o.Z,{size:14,strokeWidth:1.5}):(0,u.jsx)(c.Z,{size:14,strokeWidth:1.5})}):null]}),(n||d||x)&&(0,u.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(v?"mt-3":""),style:{maxHeight:v?500:0},children:[(0,u.jsx)("div",{className:"text-foreground-light text-sm",children:n}),d&&(0,u.jsx)(a.z,{asChild:!0,type:"default",icon:(0,u.jsx)(l.Z,{}),children:(0,u.jsx)(s(),{href:d,target:"_blank",rel:"noreferrer",className:"pt-2",children:void 0===p?"Read more":p})}),x&&(0,u.jsx)("div",{children:x})]})]})})}},90861:function(e,t,r){r.d(t,{x:function(){return n}});var n={is_readonly_mode_enabled:{bannerContent:{warning:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"},critical:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"}},cardContent:{warning:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."},critical:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."}},docsUrl:"https://supabase.com/docs/guides/platform/database-size#disabling-read-only-mode",buttonText:"View database settings",metric:"read_only"},disk_io_exhaustion:{bannerContent:{warning:{title:"Your project is about to deplete its Disk IO Budget, and may become unresponsive once fully exhausted",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project has depleted its Disk IO Budget, and may become unresponsive",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project is depleting its Disk IO Budget",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has depleted its Disk IO Budget",description:"It may become unresponsive"}},docsUrl:"https://supabase.com/docs/guides/platform/exhaust-disk-io",buttonText:"Check usage",metric:"disk_io"},disk_space_exhaustion:{bannerContent:{warning:{title:"Your project is about to exhaust its disk space budget, and may become unresponsive once fully exhausted",description:"You can opt to increase your disk size up to 200GB on the database settings page."},critical:{title:"Your project has exhausted its disk space budget, and may become unresponsive",description:"You can opt to increase your disk size up to 200GB on the database settings page."}},cardContent:{warning:{title:"Project is exhausting disk space budget",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has exhausted disk space budget",description:"It may become unresponsive"}},docsUrl:"https://supabase.com/docs/guides/platform/database-size#disk-management",buttonText:void 0,metric:"disk_space"},cpu_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high CPU usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's CPU usage is at 100% and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high CPU usage",description:"Performance is affected"},critical:{title:"Project CPU usage is at 100%",description:"Performance is affected"}},docsUrl:"https://supabase.com/docs/guides/platform/exhaust-cpu",buttonText:"Check usage",metric:"cpu"},memory_and_swap_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high memory usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's memory usage is at 100%, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high memory usage",description:"Performance is affected"},critical:{title:"Project memory usage is at 100%",description:"Performance is affected"}},docsUrl:"https://supabase.com/docs/guides/platform/exhaust-ram",buttonText:"Check usage",metric:"ram"},multiple_resource_warnings:{bannerContent:{warning:{title:"Your project is currently exhausting multiple resources, and its performance is affected",description:"Check which resources are reaching their threshold on your project's usage page."},critical:{title:"Your project has exhausted multiple resources, and its performance is affected",description:"Check which resources have reached their threshold on your project's usage page."}},cardContent:{warning:{title:"Project is exhausting multiple resources",description:"Performance is affected."},critical:{title:"Project has exhausted multiple resources",description:"Performance is affected."}},docsUrl:void 0,buttonText:"Check usage",metric:null}}},21806:function(e,t,r){r.d(t,{L:function(){return s}});var n=r(90861),s=function(e,t,r){if("is_readonly_mode_enabled"===t)return n.x.is_readonly_mode_enabled.cardContent.warning;var s,i,o=e[t];if("string"==typeof o)return null===(s=n.x[t])||void 0===s?void 0:null===(i=s[r])||void 0===i?void 0:i[o]}},10896:function(e,t,r){r.d(t,{V:function(){return h}});var n=r(95235),s=r(82269),i=r(20406),o=r(28526),c=r.n(o),a=r(58943),l=r(81229),u=r(6464),d=["enabled"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(){return(f=(0,i.Z)(c().mark(function e(t,r){var n,s,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef){e.next=3;break}throw Error("Project ref is required");case 3:return e.next=5,(0,l.U2)("/v1/projects/{ref}/branches",{params:{path:{ref:n}},signal:r});case 5:if(i=(s=e.sent).data,!(o=s.error)){e.next=14;break}if("Preview branching is not enabled for this project."!==o.message){e.next=13;break}return e.abrupt("return",[]);case 13:throw o;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=function(e){var t=e.projectRef,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.enabled,o=(0,s.Z)(r,d);return(0,a.a)(u.x.list(t),function(e){return function(e,t){return f.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({enabled:(void 0===i||i)&&void 0!==t},o))}},6464:function(e,t,r){r.d(t,{x:function(){return n}});var n={list:function(e){return["projects",e,"branches"]},detail:function(e){return["branches",e]}}},36516:function(e,t,r){r.d(t,{D:function(){return h}});var n=r(95235),s=r(82269),i=r(20406),o=r(28526),c=r.n(o),a=r(62350),l=r(62202),u=r(81229),d=["onSuccess","onError"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(){return(f=(0,i.Z)(c().mark(function e(t){var r,n,s,i,o,a,l,d;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ref,n=t.region,i=void 0===(s=t.services)?["postgresql"]:s,o=t.source_notification_id,e.next=3,(0,u.v_)("/platform/projects/{ref}/restart-services",{params:{path:{ref:r}},body:{restartRequest:{region:n,services:i,source_notification_id:o}}});case 3:if(l=(a=e.sent).data,!(d=a.error)){e.next=8;break}throw d;case 8:return e.abrupt("return",l);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,r=e.onError,o=(0,s.Z)(e,d);return(0,a.D)(function(e){return function(e){return f.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({onSuccess:function(e,r,n){return(0,i.Z)(c().mark(function s(){return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,null==t?void 0:t(e,r,n);case 2:case"end":return s.stop()}},s)}))()},onError:function(e,t,n){return(0,i.Z)(c().mark(function s(){return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===r?l.Am.error("Failed to restart project: ".concat(e.message)):r(e,t,n);case 1:case"end":return s.stop()}},s)}))()}},o))}},68821:function(e,t,r){r.d(t,{U:function(){return n}});var n={orgSubscription:function(e){return["organizations",e,"subscription"]},orgPlans:function(e){return["organizations",e,"plans"]},addons:function(e){return["projects",e,"addons"]}}},97415:function(e,t,r){r.d(t,{G:function(){return x}});var n=r(95235),s=r(82269),i=r(20406),o=r(28526),c=r.n(o),a=r(58943),l=r(37552),u=r(9747),d=r(68821),p=["enabled"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(){return(h=(0,i.Z)(c().mark(function e(t,r){var n,s;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.orgSlug){e.next=3;break}throw Error("orgSlug is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/organizations/").concat(n,"/billing/subscription"),{signal:r});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=function(e){var t=e.orgSlug,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.enabled,o=(0,s.Z)(r,p);return(0,a.a)(d.U.orgSubscription(t),function(e){return function(e,t){return h.apply(this,arguments)}({orgSlug:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({enabled:(void 0===i||i)&&void 0!==t},o))}},73302:function(e,t,r){var n=r(45458),s=r(52322);t.Z=function(e){var t=e.color,r=void 0===t?"brand":t,i=e.children,o=e.size,c=e.dot,a=e.className,l=(0,n.Z)("badge"),u=[l.base];return r&&u.push(l.color[r]),"large"===o&&u.push(l.size.large),a&&u.push(a),(0,s.jsxs)("span",{className:u.join(" "),children:[c&&(0,s.jsx)("svg",{className:"".concat(l.dot," ").concat(l.color[r]),fill:"currentColor",viewBox:"0 0 8 8",children:(0,s.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),i]})}},43635:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(82269),s=r(95235),i=r(2784),o=r(63397),c=r(52815),a=r(52322),l=["validate"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){if(!t.error)return delete e[t.key],e;if(t)return d(d({},e),{},(0,s.Z)({},t.key,t.error));throw Error()}function f(e){var t=e.validate,r=(0,n.Z)(e,l),s=(0,i.useReducer)(p,null),u=s[0],f=s[1],h=(0,o.TA)(d(d({validateOnBlur:!0},r),{},{validationSchema:r.validationSchema,initialValues:r.initialValues,onSubmit:r.onSubmit,validate:t||function(){return u}}));return(0,a.jsx)("form",{id:r.id,name:r.name,onSubmit:h.handleSubmit,className:r.className,style:r.style,method:"POST",children:(0,a.jsx)(c.o,{values:h.values,errors:h.errors,formContextOnChange:h.handleChange,handleBlur:h.handleBlur,touched:h.touched,fieldLevelValidation:function(e,t){f({key:e,error:t})},children:r.children({errors:h.errors,touched:h.touched,isSubmitting:h.isSubmitting,isValidating:h.isValidating,submitCount:h.submitCount,initialValues:h.initialValues,values:h.values,handleReset:h.handleReset,resetForm:h.resetForm,setFieldValue:h.setFieldValue})})})}},88688:function(e,t,r){var n=r(95235);r(2784);var s=r(65),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},35852:function(e,t,r){var n=r(95235);r(2784);var s=r(19521),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},74160:function(e,t,r){var n=r(95235);r(2784);var s=r(58980),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},81253:function(e,t,r){var n=r(95235);r(2784);var s=r(19119),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},39730:function(e,t,r){var n=r(95235);r(2784);var s=r(73661),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},11748:function(e,t,r){var n=r(95235);r(2784);var s=r(95425),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},15688:function(e,t,r){var n=r(95235);r(2784);var s=r(56177),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},66212:function(e,t,r){var n=r(95235);r(2784);var s=r(55271),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},59476:function(e,t,r){var n=r(95235);r(2784);var s=r(90706),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},72637:function(e,t,r){var n=r(95235);r(2784);var s=r(70523),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},50071:function(e,t,r){var n=r(95235);r(2784);var s=r(69026),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},70249:function(e,t,r){var n=r(95235);r(2784);var s=r(3909),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},33725:function(e,t,r){var n=r(95235);r(2784);var s=r(77563),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}},2653:function(e,t,r){var n=r(95235);r(2784);var s=r(79048),i=r(12223),o=r(52322);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:s.Z},e))}}}]);