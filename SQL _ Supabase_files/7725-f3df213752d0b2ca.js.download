"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7725],{89635:function(e,t,n){n.d(t,{CM:function(){return b},$L:function(){return j},ZP:function(){return y}});var r=n(36849),s=n(76635),a=n(60229),i=n(52322),o=function(e){var t=e.operation,n=void 0===t?"":t,r=e.onSelectOperation,o=void 0===r?s.noop:r;return(0,i.jsxs)("div",{className:"flex justify-between space-x-12",children:[(0,i.jsxs)("div",{className:"flex w-1/3 flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-base text-foreground-light",htmlFor:"allowed-operation",children:"Allowed operation"}),(0,i.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Select an operation for this policy"})]}),(0,i.jsx)("div",{className:"w-2/3",children:(0,i.jsx)("div",{className:"flex items-center space-x-8",children:(0,i.jsx)(a.Z.Group,{type:"small-cards",size:"tiny",id:"allowed-operation",children:["SELECT","INSERT","UPDATE","DELETE","ALL"].map(function(e){return(0,i.jsx)(a.Z,{name:"allowed-operation",label:e,value:e,checked:n===e,onChange:function(e){return o(e.target.value)}},e)})})})})]})},c=n(24990),l=n(2784),u=n(81253),d=n(33869),p=n(70203),m=function(e){var t=e.operation,n=void 0===t?"":t,r=e.definition,a=e.check,o=e.onUpdatePolicyUsing,m=void 0===o?s.noop:o,h=e.onUpdatePolicyCheck,f=void 0===h?s.noop:h,g=function(e){return["SELECT","UPDATE","DELETE","ALL"].includes(e)||!e},x=function(e){return["INSERT","UPDATE","ALL"].includes(e)},b=(0,p.D9)(n)||"";return(0,l.useEffect)(function(){g(b)&&!g(n)&&m(void 0),x(b)&&!x(n)&&f(void 0)},[n]),(0,i.jsxs)("div",{className:"space-y-4",children:[g(n)&&(0,i.jsxs)("div",{className:"flex space-x-12",children:[(0,i.jsxs)("div",{className:"flex w-1/3 flex-col space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("label",{className:"text-base text-foreground-light",htmlFor:"policy-name",children:"USING expression"}),(0,i.jsxs)(c.fC,{delayDuration:0,children:[(0,i.jsx)(c.xz,{children:(0,i.jsx)(u.Z,{className:"text-foreground-light",size:16,strokeWidth:1.5})}),(0,i.jsx)(c.h_,{children:(0,i.jsxs)(c.VY,{side:"bottom",children:[(0,i.jsx)(c.Eh,{className:"radix-tooltip-arrow"}),(0,i.jsxs)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow w-[300px] space-y-2 border border-background",children:[(0,i.jsx)("p",{className:"text-xs text-foreground",children:"This expression will be added to queries that refer to the table if row-level security is enabled."}),(0,i.jsx)("p",{className:"text-xs text-foreground",children:"Rows for which the expression returns true will be visible. Any rows for which the expression returns false or null will not be visible to the user (in a SELECT), and will not be available for modification (in an UPDATE or DELETE)."}),(0,i.jsx)("p",{className:"text-xs text-foreground",children:"Such rows are silently suppressed - no error is reported."})]})]})})]})]}),(0,i.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Provide a SQL conditional expression that returns a boolean."})]}),(0,i.jsx)("div",{className:"w-2/3 ".concat(x(n)?"h-32":"h-56"),children:(0,i.jsx)(d.Z,{defaultValue:void 0===r?"":r,onInputChange:m})})]}),x(n)&&(0,i.jsxs)("div",{className:"flex space-x-12",children:[(0,i.jsxs)("div",{className:"flex w-1/3 flex-col space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("label",{className:"text-base text-foreground-light",htmlFor:"policy-name",children:"WITH CHECK expression"}),(0,i.jsxs)(c.fC,{delayDuration:0,children:[(0,i.jsx)(c.xz,{children:(0,i.jsx)(u.Z,{className:"text-foreground-light",size:16,strokeWidth:1.5})}),(0,i.jsx)(c.h_,{children:(0,i.jsxs)(c.VY,{side:"bottom",children:[(0,i.jsx)(c.Eh,{className:"radix-tooltip-arrow"}),(0,i.jsxs)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow w-[300px] space-y-2 border border-background",children:[(0,i.jsx)("p",{className:"text-xs text-foreground",children:"This expression will be used in INSERT and UPDATE queries against the table if row-level security is enabled."}),(0,i.jsx)("p",{className:"text-xs text-foreground",children:"Only rows for which the expression evaluates to true will be allowed. An error will be thrown if the expression evaluates to false or null for any of the records inserted or any of the records that result from the update."}),(0,i.jsx)("p",{className:"text-xs text-foreground",children:"Note that this expression is evaluated against the proposed new contents of the row, not the original contents."})]})]})})]})]}),(0,i.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Provide a SQL conditional expression that returns a boolean."})]}),(0,i.jsx)("div",{className:"w-2/3 ".concat(g(n)?"h-32":"h-56"),children:(0,i.jsx)(d.Z,{defaultValue:void 0===a?"":a,onInputChange:f})})]})]})},h=n(8647),f=n(95223),g=function(e){var t=e.showTemplates,n=e.onViewTemplates,r=void 0===n?s.noop:n,a=e.onReviewPolicy,o=void 0===a?s.noop:a;return(0,i.jsxs)("div",{className:"flex justify-between items-center border-t px-6 py-4 border-default",children:[(0,i.jsx)("a",{href:"https://supabase.com/docs/learn/auth-deep-dive/auth-policies",target:"_blank",rel:"noreferrer",children:(0,i.jsx)(h.z,{type:"link",icon:(0,i.jsx)(f.Z,{size:14,strokeWidth:1.5}),children:"Documentation"})}),(0,i.jsxs)("div",{className:"flex w-full items-center justify-end gap-2",children:[t&&(0,i.jsx)(h.z,{type:"default",onClick:r,children:"View templates"}),(0,i.jsx)(h.z,{type:"primary",onClick:o,children:"Review"})]})]})},x=n(14665),b=function(e){var t=e.name,n=void 0===t?"":t,r=e.limit,s=e.onUpdatePolicyName;return(0,i.jsxs)("div",{className:"flex space-x-12",children:[(0,i.jsxs)("div",{className:"flex w-1/3 flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-base text-foreground-light",htmlFor:"policy-name",children:"Policy name"}),(0,i.jsx)("p",{className:"text-sm text-foreground-lighter",children:"A descriptive name for your policy"})]}),(0,i.jsx)("div",{className:"relative w-2/3",children:(0,i.jsx)(x.Z,{id:"policy-name",value:n,onChange:function(e){return s(e.target.value)},actions:(0,i.jsxs)("span",{className:"mr-3 text-sm text-foreground-lighter",children:[n.length,"/",void 0===r?100:r]})})})]})},v=n(73564),j=function(e){var t=e.roles,n=e.selectedRoles,r=e.onUpdateSelectedRoles,s=t.map(function(e){return{id:e.id,name:e.name,value:e.name,disabled:!1}});return(0,i.jsxs)("div",{className:"flex space-x-12",children:[(0,i.jsxs)("div",{className:"flex w-1/3 flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-foreground-light text-base",htmlFor:"policy-name",children:"Target roles"}),(0,i.jsx)("p",{className:"text-foreground-lighter text-sm",children:"Apply policy to the selected roles"})]}),(0,i.jsx)("div",{className:"relative w-2/3",children:(0,i.jsx)(v.Z,{options:s,value:n,placeholder:"Defaults to all (public) roles if none selected",searchPlaceholder:"Search for a role",onChange:r})})]})},y=function(e){var t,n,s,a,c=e.isNewPolicy,l=void 0===c||c,u=e.roles,d=e.policyFormFields,p=void 0===d?{}:d,h=e.onUpdatePolicyFormFields,f=void 0===h?function(){}:h,x=e.onViewTemplates,v=e.onReviewPolicy,y=null!==(t=null==p?void 0:p.command)&&void 0!==t?t:"",w=null!==(n=null==p?void 0:p.definition)&&void 0!==n?n:"",k=null!==(s=null==p?void 0:p.check)&&void 0!==s?s:"",N=(null!==(a=null==p?void 0:p.roles)&&void 0!==a?a:[]).filter(function(e){return"public"!==e});return(0,i.jsxs)("div",{className:"",children:[(0,i.jsxs)("div",{className:"space-y-8 py-8",children:[(0,i.jsx)(r.C.Content,{children:(0,i.jsx)(b,{name:p.name,limit:63,onUpdatePolicyName:function(e){return f({name:e})}})}),(0,i.jsx)(r.C.Separator,{}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.C.Content,{children:(0,i.jsx)(o,{operation:y,onSelectOperation:function(e){return f({command:e})}})}),(0,i.jsx)(r.C.Separator,{})]}),(0,i.jsx)(r.C.Content,{children:(0,i.jsx)(j,{roles:void 0===u?[]:u,selectedRoles:N,onUpdateSelectedRoles:function(e){return f({roles:e})}})}),(0,i.jsx)(r.C.Separator,{}),(0,i.jsx)(r.C.Content,{children:(0,i.jsx)(m,{operation:y,definition:w,check:k,onUpdatePolicyUsing:function(e){return f({definition:e})},onUpdatePolicyCheck:function(e){return f({check:e})}})})]}),(0,i.jsx)(g,{showTemplates:l,onViewTemplates:void 0===x?function(){}:x,onReviewPolicy:void 0===v?function(){}:v})]})}},30340:function(e,t,n){n.d(t,{$A:function(){return N},rE:function(){return j},yV:function(){return $},pT:function(){return q},tV:function(){return ep},jm:function(){return H}});var r=n(20406),s=n(28526),a=n.n(s),i=n(4300),o=n(70203),c=n(76635),l=n(46776),u=n(5632),d=n(2784),p=n(81253),m=n(53526),h=n(85577),f=n(89700),g=n(88281),x=n(55830),b=n(68040),v=n(52322),j=(0,l.Pi)(function(e){var t,n,s,l,j,y=e.tables,w=e.hasTables,k=e.isLocked,N=(0,u.useRouter)(),O=(0,i.UO)().ref,S=(0,o.oR)(),P=S.ui,C=S.meta,E=(0,x.NL)(),Z=C.roles.list(function(e){return!C.roles.systemRoles.includes(e.name)}),_=(0,d.useState)({}),I=_[0],L=_[1],D=(0,d.useState)({}),A=D[0],T=D[1],R=(0,d.useState)({}),z=R[0],F=R[1],U=(0,d.useState)({}),M=U[0],B=U[1],q=function(){F({}),L({})},W=function(){B({}),T({})},V=function(e){T(e)},G=function(e){L({schema:e.schema,table:e.name})},H=function(e){F(e),L({schema:e.schema,table:e.table})},Y=function(e){B(e)},Q=(t=(0,r.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:P.setNotification({category:"success",message:"Policy successfully saved!"}),q();case 2:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),K=(n=(0,r.Z)(a().mark(function e(){var t,n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:A.id,rls_enabled:!A.rls_enabled},e.next=3,C.tables.update(t.id,t);case 3:if(!(n=e.sent).error){e.next=6;break}return e.abrupt("return",P.setNotification({category:"error",message:"Failed to toggle RLS: ".concat(n.error.message)}));case 6:return e.next=8,E.invalidateQueries(b.W.list(O,A.schema));case 8:W();case 9:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),X=(s=(0,r.Z)(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.policies.create(t);case 2:if(!(n=e.sent).error){e.next=6;break}return P.setNotification({category:"error",message:"Error adding policy: ".concat(n.error.message)}),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),J=(l=(0,r.Z)(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.policies.update(t.id,t);case 2:if(!(n=e.sent).error){e.next=6;break}return P.setNotification({category:"error",message:"Error updating policy: ".concat(n.error.message)}),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),ee=(j=(0,r.Z)(a().mark(function e(){var t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.policies.del(M.id);case 2:"boolean"!=typeof(t=e.sent)&&t.error?P.setNotification({category:"error",message:"Error deleting policy: ".concat(t.error.message)}):P.setNotification({category:"success",message:"Successfully deleted policy!"}),W();case 5:case"end":return e.stop()}},e)})),function(){return j.apply(this,arguments)});return(0,v.jsxs)(v.Fragment,{children:[y.length>0?y.map(function(e){return(0,v.jsx)("section",{children:(0,v.jsx)(ep,{table:e,isLocked:k,onSelectToggleRLS:V,onSelectCreatePolicy:G,onSelectEditPolicy:H,onSelectDeletePolicy:Y})},e.id)}):w?(0,v.jsx)(m.Z,{}):(0,v.jsx)("div",{className:"flex-grow",children:(0,v.jsx)(h.Z,{size:"large",title:"Row-Level Security (RLS) Policies",ctaButtonLabel:"Create a table",infoButtonLabel:"What is RLS?",infoButtonUrl:"https://supabase.com/docs/guides/auth/row-level-security",onClickCta:function(){return N.push("/project/".concat(O,"/editor"))},children:(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)(g.Z,{title:"What are policies?",icon:(0,v.jsx)(p.Z,{strokeWidth:2}),description:(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("p",{className:"text-sm",children:"Policies restrict, on a per-user basis, which rows can be returned by normal queries, or inserted, updated, or deleted by data modification commands."}),(0,v.jsx)("p",{className:"text-sm",children:"This is also known as Row-Level Security (RLS). Each policy is attached to a table, and the policy is executed each time its accessed."})]})}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Create a table in this schema first before creating a policy."})]})})}),(0,v.jsx)($,{visible:!(0,c.isEmpty)(I),roles:Z,schema:I.schema,table:I.table,selectedPolicyToEdit:z,onSelectCancel:q,onCreatePolicy:X,onUpdatePolicy:J,onSaveSuccess:Q}),(0,v.jsx)(f.Z,{danger:!0,visible:!(0,c.isEmpty)(M),title:"Confirm to delete policy",description:'This is permanent! Are you sure you want to delete the policy "'.concat(M.name,'"'),buttonLabel:"Delete",buttonLoadingLabel:"Deleting",onSelectCancel:W,onSelectConfirm:ee}),(0,v.jsx)(f.Z,{danger:A.rls_enabled,visible:!(0,c.isEmpty)(A),title:"Confirm to ".concat(A.rls_enabled?"disable":"enable"," RLS"),description:"Are you sure you want to ".concat(A.rls_enabled?"disable":"enable",' row level security for the table "').concat(A.name,'"?'),buttonLabel:"Confirm",buttonLoadingLabel:"Saving",onSelectCancel:W,onSelectConfirm:K})]})}),y=n(95235),w=n(36849),k=n(13734),N={SELECTION:"SELECTION",TEMPLATES:"TEMPLATES",EDITOR:"EDITOR",REVIEW:"REVIEW"},O=n(12741);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,y.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=function(e,t){var n=e.definition,r=e.check,s=P(P({},e),{},{definition:n?n.replace(/\s+/g," ").trim():void 0===n?null:n,check:r?r.replace(/\s+/g," ").trim():void 0===r?null:r});if((0,c.isEmpty)(t))return E(s);if((0,c.isEqual)(e,t))return{};var a={};return((0,c.isEqual)(s.name,t.name)||(a.name=s.name),(0,c.isEqual)(s.definition,t.definition)||(a.definition=s.definition),(0,c.isEqual)(s.check,t.check)||(a.check=s.check),(0,c.isEqual)(s.roles,t.roles)||(a.roles=s.roles),(0,c.isEmpty)(a))?{}:Z(s,a)},E=function(e){var t=e.name,n=e.definition,r=e.check,s=e.command,a=e.schema,i=e.table,o=0===e.roles.length?["public"]:e.roles;return{description:"Add policy for the ".concat(s,' operation under the policy "').concat(t,'"'),statement:['CREATE POLICY "'.concat(t,'" ON "').concat(a,'"."').concat(i,'"'),"AS PERMISSIVE FOR ".concat(s),"TO ".concat(o.join(", ")),"".concat(n?"USING (".concat(n,")"):""),"".concat(r?"WITH CHECK (".concat(r,")"):"")].join("\n")}},Z=function(e,t){var n,r=e.name,s=e.schema,a=e.table,i=(0,c.has)(t,["definition"]),o=(0,c.has)(t,["check"]),l=(0,c.has)(t,["name"]),u=(0,c.has)(t,["roles"]),d=Object.keys(t),p="Update policy's ".concat(1===d.length?d[0]:"".concat(d.slice(0,d.length-1).join(", ")," and ").concat(d[d.length-1])," "),m=0===(null!==(n=null==t?void 0:t.roles)&&void 0!==n?n:[]).length?["public"]:t.roles,h='ALTER POLICY "'.concat(r,'" ON "').concat(s,'"."').concat(a,'"');return{description:p,statement:["BEGIN;"].concat((0,O.Z)(i?["  ".concat(h," USING (").concat(t.definition,");")]:[]),(0,O.Z)(o?["  ".concat(h," WITH CHECK (").concat(t.check,");")]:[]),(0,O.Z)(u?["  ".concat(h," TO ").concat(m.join(", "),";")]:[]),(0,O.Z)(l?["  ".concat(h,' RENAME TO "').concat(t.name,'";')]:[]),["COMMIT;"]).join("\n")}},_=function(e){var t=e.command,n=e.definition,r=e.check,s=e.roles;return P(P({},e),{},{action:"PERMISSIVE",command:t||void 0,definition:n||void 0,check:r||void 0,roles:s.length>0?s:void 0})},I=function(e,t){var n=e.definition,r=e.check,s=P(P({},e),{},{definition:n?n.replace(/\s+/g," ").trim():n,check:r?r.replace(/\s+/g," ").trim():r}),a={id:t.id};return(0,c.isEqual)(s.name,t.name)||(a.name=s.name),(0,c.isEqual)(s.definition,t.definition)||(a.definition=s.definition||void 0),(0,c.isEqual)(s.check,t.check)||(a.check=s.check||void 0),(0,c.isEqual)(s.roles,t.roles)||(0===s.roles.length?a.roles=["public"]:a.roles=s.roles||void 0),a},L=n(89635),D=n(33869),A=n(8647),T=function(e){var t=e.policy,n=void 0===t?{}:t,r=e.onSelectBack,s=void 0===r?c.noop:r,a=e.onSelectSave,i=void 0===a?c.noop:a,o=(0,d.useState)(!1),l=o[0],u=o[1],p=n.statement||"";return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(w.C.Content,{children:(0,v.jsxs)("div",{className:"space-y-6 py-8",children:[(0,v.jsx)("div",{className:"flex items-center justify-between space-y-8",children:(0,v.jsx)("div",{className:"flex flex-col",children:(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"This is the SQL statement that will be used to create your policy."})})}),(0,v.jsx)("div",{className:"space-y-4 overflow-y-auto",style:{maxHeight:"25rem"},children:(0,c.isEmpty)(n)?(0,v.jsx)("div",{className:"my-10 flex items-center justify-center space-x-2 opacity-50",children:(0,v.jsx)("p",{className:"text-base text-foreground-light",children:"There are no changes made to this policy"})}):(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("span",{children:n.description}),(0,v.jsx)("div",{className:"h-40",children:(0,v.jsx)(D.Z,{readOnly:!0,defaultValue:p})})]})})]})}),(0,v.jsxs)("div",{className:"flex w-full items-center justify-end gap-2 border-t px-6 py-4 border-default",children:[(0,v.jsx)(A.z,{type:"default",onClick:s,children:"Back to edit"}),(0,v.jsx)(A.z,{type:"primary",disabled:(0,c.isEmpty)(n),onClick:function(){u(!0),i()},loading:l,children:"Save policy"})]})]})},R=n(86699),z=n(12223);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var U=function(e){return(0,v.jsx)(z.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,y.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:R.Z},e))},M=n(34040),B=n(55386),q=function(e){var t=e.description,n=e.onViewTemplates,r=void 0===n?c.noop:n,s=e.onViewEditor,a=void 0===s?c.noop:s;return(0,v.jsx)(w.C.Content,{children:(0,v.jsxs)("div",{className:"space-y-6 py-8",children:[(0,v.jsx)("div",{children:(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:void 0===t?"":t})}),(0,v.jsxs)("div",{className:"grid grid-cols-1 gap-2 lg:grid-cols-1",children:[(0,v.jsx)(B.Z,{title:"Get started quickly",description:"Create a policy from a template",icon:(0,v.jsx)("div",{className:"flex",children:(0,v.jsx)("div",{className:" flex h-8 w-8 items-center justify-center rounded bg-foreground text-background   ",children:(0,v.jsx)(U,{size:14,strokeWidth:2})})}),onClick:r}),(0,v.jsx)(B.Z,{title:"For full customization",description:"Create a policy from scratch",icon:(0,v.jsx)("div",{className:"flex",children:(0,v.jsx)("div",{className:" flex h-8 w-8 items-center justify-center rounded bg-foreground text-background   ",children:(0,v.jsx)(M.Z,{size:14,strokeWidth:2})})}),onClick:a})]}),(0,v.jsxs)("p",{className:"text-sm text-foreground-light",children:["Not sure what policies are? Check out our resources"," ",(0,v.jsx)("a",{target:"_blank",rel:"noreferrer",className:"text-brand transition-colors hover:text-brand-600",href:"https://supabase.com/docs/guides/auth#policies",children:"here"}),"."]})]})})},W=function(e){var t=e.selectedTemplate,n=t.id,r=t.templateName,s=t.description,a=t.statement;return(0,v.jsx)("div",{className:"space-y-8",style:{width:"70%"},children:!(0,c.isEmpty)(t)&&(0,v.jsx)("div",{className:"flex h-full flex-col justify-between",children:(0,v.jsxs)("div",{className:"my-5 h-full space-y-6 px-6",children:[(0,v.jsx)("div",{className:"space-y-2",children:(0,v.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,v.jsx)("h3",{className:"text-foreground text-base",children:r}),(0,v.jsx)("p",{className:"text-foreground-light text-sm",children:s})]})}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("label",{className:"text-foreground-light text-sm",children:"Policy SQL template:"}),(0,v.jsx)("div",{className:"h-64",children:(0,v.jsx)(D.Z,{readOnly:!0,queryId:n,defaultValue:a})})]})]})})})},V=n(95490),G=function(e){var t=e.templates,n=e.templatesNote,r=void 0===n?"":n,s=e.selectedTemplate,a=e.setSelectedTemplate,i=void 0===a?c.noop:a;return(0,v.jsxs)("div",{className:"flex flex-col justify-between border-r border-default",style:{width:"30%"},children:[(0,v.jsx)("div",{className:"hide-scrollbar  divide-border-primary space-y-0 divide-y divide-solid overflow-y-auto",style:{maxHeight:"24rem"},children:(0,v.jsx)(V.ZP,{type:"border",children:(void 0===t?[]:t).map(function(e,t){var n=s===e;return(0,v.jsx)("div",{className:"border-b border-overlay hover:bg-surface-200 "+(n?"bg-surface-300":""),children:(0,v.jsx)(V.ZP.Item,{active:n,onClick:function(){return i(e)},children:(0,v.jsx)("div",{className:"truncate py-2",children:e.templateName})},e.id)},t)})})}),r&&(0,v.jsx)("div",{className:"px-4 py-2",children:(0,v.jsx)("p",{className:"text-xs text-foreground-lighter",children:r})})]})},H=function(e){var t=e.templates,n=void 0===t?[]:t,r=e.templatesNote,s=e.onUseTemplate,a=void 0===s?c.noop:s,i=(0,d.useState)(n[0]),o=i[0],l=i[1];return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex justify-between border-t border-default",children:[(0,v.jsx)(G,{templatesNote:void 0===r?"":r,templates:n,selectedTemplate:o,setSelectedTemplate:l}),(0,v.jsx)(W,{selectedTemplate:o})]}),(0,v.jsxs)("div",{className:"flex w-full items-center justify-end gap-3 border-t px-6 py-4 border-default",children:[(0,v.jsx)("span",{className:"text-sm text-foreground-lighter",children:"This will override any existing code you've written"}),(0,v.jsx)(A.z,{type:"primary",disabled:(0,c.isEmpty)(o),onClick:function(){return a(o)},children:"Use this template"})]})]})},Y=n(51803),Q=function(e){var t=e.view,n=e.schema,r=e.table,s=e.isNewPolicy,a=e.onSelectBackFromTemplates,i=void 0===a?c.noop:a;return t===N.TEMPLATES?(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsx)("span",{onClick:i,className:"cursor-pointer text-foreground-lighter transition-colors hover:text-foreground",children:(0,v.jsx)(Y.Z,{strokeWidth:2,size:14})}),(0,v.jsx)("h4",{className:"m-0 text-lg",children:"Select a template to use for your new policy"})]})}):(0,v.jsx)("div",{className:"flex items-center space-x-3",children:(0,v.jsx)("h4",{className:"m-0 truncate text-lg",children:t===N.EDITOR||t===N.SELECTION?"".concat(s?"Adding new policy to":"Editing policy from"," ").concat(n,".").concat(r):t===N.REVIEW?"Reviewing policy to be ".concat(s?"created":"updated"," on ").concat(n,".").concat(r):void 0})})};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){(0,y.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $=function(e){var t,n=e.visible,s=void 0!==n&&n,i=e.roles,l=e.schema,u=void 0===l?"":l,p=e.table,m=void 0===p?"":p,h=e.selectedPolicyToEdit,f=void 0===h?{}:h,g=e.onSelectCancel,x=void 0===g?c.noop:g,b=e.onCreatePolicy,j=void 0===b?function(){return!1}:b,y=e.onUpdatePolicy,O=void 0===y?function(){return!1}:y,S=e.onSaveSuccess,P=void 0===S?c.noop:S,E=(0,o.oR)().ui,Z=(0,c.isEmpty)(f),D=Z?{schema:u,table:m,name:"",definition:"",check:"",command:null,roles:[]}:f,A=(0,d.useState)(""),R=A[0],z=A[1],F=(0,d.useState)(N.EDITOR),U=F[0],M=F[1],B=(0,d.useState)(D),W=B[0],V=B[1],G=(0,d.useState)(""),Y=G[0],K=G[1],$=(0,d.useState)(!1),J=$[0],ee=$[1],et=(0,d.useState)(!1),en=et[0],er=et[1];(0,d.useEffect)(function(){s&&(Z?es():ea(),V(D))},[s]);var es=function(){return M(N.SELECTION)},ea=function(){return M(N.EDITOR)},ei=function(){z(U),M(N.TEMPLATES)},eo=(t=(0,r.Z)(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=6;break}return e.next=3,j(t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,O(t);case 8:e.t0=e.sent;case 9:e.t0?ea():P();case 11:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,v.jsx)(w.C,{size:U===N.SELECTION?"medium":"xxlarge",closable:!0,hideFooter:!0,visible:s,contentStyle:{padding:0},header:[(0,v.jsx)(Q,{view:U,isNewPolicy:Z,schema:u,table:m,onSelectBackFromTemplates:function(){return M(R)}},"0")],onCancel:function(){J?er(!0):x()},children:(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)(k.Z,{visible:en,header:"Discard changes",buttonLabel:"Discard",onSelectCancel:function(){return er(!1)},onSelectConfirm:function(){x(),er(!1),ee(!1)},children:(0,v.jsx)(w.C.Content,{children:(0,v.jsx)("p",{className:"py-4 text-sm text-foreground-light",children:"There are unsaved changes. Are you sure you want to close the editor? Your changes will be lost."})})}),U===N.SELECTION?(0,v.jsx)(q,{description:"Write rules with PostgreSQL's policies to fit your unique business needs.",onViewTemplates:ei,onViewEditor:ea}):U===N.EDITOR?(0,v.jsx)(L.ZP,{isNewPolicy:Z,roles:void 0===i?[]:i,policyFormFields:W,onUpdatePolicyFormFields:function(e){ee(!0),e.name&&e.name.length>63||V(X(X({},W),e))},onViewTemplates:ei,onReviewPolicy:function(){var e=W.name,t=W.definition,n=W.check,r=W.command;return 0===e.length?E.setNotification({category:"error",message:"Do give your policy a name"}):r?["SELECT","DELETE"].includes(r)&&!t?E.setNotification({category:"error",message:"Did you forget to provide a USING expression for your policy?",duration:4e3}):"INSERT"!==r||n?"UPDATE"!==r||t||n?void(K(C(W,f)),M(N.REVIEW)):E.setNotification({category:"error",message:"You will need to provide either a USING, or WITH CHECK expression, or both for your policy",duration:4e3}):E.setNotification({category:"error",message:"Did you forget to provide a WITH CHECK expression for your policy?",duration:4e3}):E.setNotification({category:"error",message:"You will need to allow at one operation in your policy",duration:4e3})}}):U===N.TEMPLATES?(0,v.jsx)(H,{templates:[{id:"policy-1",templateName:"Enable read access to everyone",description:"This policy gives read access to your table for all users via the SELECT operation.",statement:'\nCREATE POLICY "policy_name"\nON '.concat(u,".").concat(m,"\nFOR SELECT USING (\n  true\n);").trim(),name:"Enable read access for all users",definition:"true",check:"",command:"SELECT",roles:[]},{id:"policy-2",templateName:"Enable insert access for authenticated users only",description:"This policy gives insert access to your table for all authenticated users only.",statement:'\nCREATE POLICY "policy_name"\nON '.concat(u,".").concat(m,"\nFOR INSERT \nTO authenticated \nWITH CHECK (true);").trim(),name:"Enable insert for authenticated users only",definition:"",check:"true",command:"INSERT",roles:["authenticated"]},{id:"policy-3",templateName:"Enable update access for users based on their email *",description:'This policy assumes that your table has a column "email", and allows users to update rows which the "email" column matches their email.',statement:'\nCREATE POLICY "policy_name"\nON '.concat(u,".").concat(m,"\nFOR UPDATE USING (\n  auth.jwt() ->> 'email' = email\n) WITH CHECK (\n  auth.jwt() ->> 'email' = email\n);").trim(),name:"Enable update for users based on email",definition:"auth.jwt() ->> 'email' = email",check:"auth.jwt() ->> 'email' = email",command:"UPDATE",roles:[]},{id:"policy-4",templateName:"Enable delete access for users based on their user ID *",description:'This policy assumes that your table has a column "user_id", and allows users to delete rows which the "user_id" column matches their ID',statement:'\nCREATE POLICY "policy_name"\nON '.concat(u,".").concat(m,"\nFOR DELETE USING (\n  auth.uid() = user_id\n);").trim(),name:"Enable delete for users based on user_id",definition:"auth.uid() = user_id",check:"",command:"DELETE",roles:[]},{id:"policy-5",templateName:"Enable insert access for users based on their user ID *",description:'This policy assumes that your table has a column "user_id", and allows users to insert rows which the "user_id" column matches their ID',statement:'\nCREATE POLICY "policy_name"\nON '.concat(u,".").concat(m,"\nFOR INSERT USING (\n  auth.uid() = user_id\n)  WITH CHECK (\n  auth.uid() = user_id\n);").trim(),name:"Enable insert for users based on user_id",definition:"auth.uid() = user_id",check:"true",command:"INSERT",roles:[]}],templatesNote:"* References a specific column in the table",onUseTemplate:function(e){V(X(X({},W),{},{name:e.name,definition:e.definition,check:e.check,command:e.command,roles:e.roles})),ea()}}):U===N.REVIEW?(0,v.jsx)(T,{policy:Y,onSelectBack:ea,onSelectSave:function(){eo(Z?_(W):I(W,f)),ee(!1)}}):(0,v.jsx)("div",{})]})})},J=n(67270),ee=n(45008),et=n(24990),en=n(59491),er=n(93306),es=n(924),ea=n(77426),ei=function(e){var t=e.policy,n=e.onSelectEditPolicy,r=void 0===n?c.noop:n,s=e.onSelectDeletePolicy,a=void 0===s?c.noop:s,i=(0,o.Xo)(en.KA.TENANT_SQL_ADMIN_WRITE,"policies");return(0,v.jsxs)(ee.Z.Content,{className:"flex border-overlay w-full space-x-4 border-b py-4 lg:items-center",children:[(0,v.jsxs)("div",{className:"flex grow flex-col space-y-1",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsx)("p",{className:"font-mono text-xs text-foreground-light",children:t.command}),(0,v.jsx)("p",{className:"text-sm text-foreground",children:t.name})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("p",{className:"text-foreground-light text-sm",children:"Applied to:"}),t.roles.slice(0,3).map(function(e,t){return(0,v.jsx)("code",{className:"text-foreground-light text-xs",children:e},"policy-".concat(e,"-").concat(t))}),(0,v.jsxs)(et.fC,{delayDuration:0,children:[(0,v.jsx)(et.xz,{children:t.roles.length>3&&(0,v.jsxs)("code",{className:"text-foreground-light text-xs",children:["+ ",t.roles.length-3," more roles"]},"policy-etc")}),(0,v.jsx)(et.h_,{children:(0,v.jsxs)(et.VY,{side:"bottom",children:[(0,v.jsx)(et.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background max-w-[220px] text-center",children:(0,v.jsx)("span",{className:"text-xs text-foreground",children:t.roles.slice(3).join(", ")})})]})})]})]})]}),(0,v.jsx)("div",{children:i?(0,v.jsxs)(er.h_,{children:[(0,v.jsx)(er.$F,{children:(0,v.jsx)(A.z,{type:"default",style:{paddingLeft:4,paddingRight:4},icon:(0,v.jsx)(es.Z,{})})}),(0,v.jsxs)(er.AW,{side:"bottom",align:"end",children:[(0,v.jsxs)(er.Xi,{className:"space-x-2",onClick:function(){return r(t)},children:[(0,v.jsx)(M.Z,{size:14}),(0,v.jsx)("p",{children:"Edit"})]}),(0,v.jsx)(er.VD,{}),(0,v.jsxs)(er.Xi,{className:"space-x-2",onClick:function(){return a(t)},children:[(0,v.jsx)(ea.Z,{size:14}),(0,v.jsx)("p",{children:"Delete"})]})]})]}):(0,v.jsxs)(et.fC,{delayDuration:0,children:[(0,v.jsx)(et.xz,{children:(0,v.jsx)(A.z,{disabled:!0,type:"default",style:{paddingLeft:4,paddingRight:4},icon:(0,v.jsx)(es.Z,{})})}),!i&&(0,v.jsx)(et.h_,{children:(0,v.jsxs)(et.VY,{side:"left",children:[(0,v.jsx)(et.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to edit RLS policies"})})]})})]})})]})},eo=n(39097),ec=n.n(eo),el=n(73302),eu=n(22962),ed=function(e){var t=e.table,n=e.isLocked,r=e.onSelectToggleRLS,s=void 0===r?c.noop:r,a=e.onSelectCreatePolicy,i=void 0===a?c.noop:a,l=(0,u.useRouter)().query.ref,d=(0,o.Xo)(en.KA.TENANT_SQL_ADMIN_WRITE,"tables"),p=(0,o.Xo)(en.KA.TENANT_SQL_ADMIN_WRITE,"policies");return(0,v.jsxs)("div",{id:t.id.toString(),className:"flex w-full items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex space-x-4 text-left",children:[(0,v.jsx)(ec(),{href:"/project/".concat(l,"/editor/").concat(t.id),children:(0,v.jsx)("h4",{className:"m-0",children:t.name})}),n?(0,v.jsx)(el.Z,{color:"scale",children:(0,v.jsxs)("span",{className:"flex gap-2 items-center text-xs uppercase text-foreground-lighter",children:[(0,v.jsx)(eu.Z,{width:12})," Locked"]})}):(0,v.jsx)(el.Z,{color:t.rls_enabled?"green":"yellow",children:t.rls_enabled?"RLS enabled":"RLS disabled"})]}),!n&&(0,v.jsx)("div",{className:"flex-1",children:(0,v.jsxs)("div",{className:"flex flex-row-reverse",children:[(0,v.jsxs)(et.fC,{delayDuration:0,children:[(0,v.jsx)(et.xz,{children:(0,v.jsx)(A.z,{type:"outline",disabled:!p,className:"ml-2",onClick:function(){return i(t)},children:"New Policy"})}),!p&&(0,v.jsx)(et.h_,{children:(0,v.jsxs)(et.VY,{side:"bottom",children:[(0,v.jsx)(et.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to create RLS policies"})})]})})]}),(0,v.jsxs)(et.fC,{delayDuration:0,children:[(0,v.jsx)(et.xz,{children:(0,v.jsx)(A.z,{type:"default",disabled:!d,onClick:function(){return s(t)},children:t.rls_enabled?"Disable RLS":"Enable RLS"})}),!d&&(0,v.jsx)(et.h_,{children:(0,v.jsxs)(et.VY,{side:"bottom",children:[(0,v.jsx)(et.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to toggle RLS"})})]})})]})]})})]})},ep=(0,l.Pi)(function(e){var t=e.table,n=e.isLocked,r=e.onSelectToggleRLS,s=void 0===r?c.noop:r,a=e.onSelectCreatePolicy,i=void 0===a?c.noop:a,l=e.onSelectEditPolicy,u=void 0===l?c.noop:l,d=e.onSelectDeletePolicy,p=void 0===d?c.noop:d,m=(0,o.oR)().meta.policies.list(function(e){return e.schema===t.schema&&e.table===t.name});return(0,v.jsxs)(ee.Z,{title:(0,v.jsx)(ed,{table:t,isLocked:n,onSelectToggleRLS:s,onSelectCreatePolicy:i}),children:[0===m.length&&(0,v.jsxs)("div",{className:"p-4 px-6 space-y-1",children:[(0,v.jsx)("p",{className:"text-foreground-light text-sm",children:"No policies created yet"}),!n&&(t.rls_enabled?(0,v.jsx)("p",{className:"text-foreground-light text-sm",children:"RLS is enabled - create a policy to allow access to this table."}):(0,v.jsx)(J.b,{withIcon:!0,variant:"warning",className:"!px-4 !py-3 !mt-3",title:"Warning: RLS is disabled. Your table is publicly readable and writable.",children:"Anyone with the anon. key can modify or delete your data. You should turn on RLS and create access policies to keep your data secure."}))]}),m.map(function(e){return(0,v.jsx)(ei,{policy:e,onSelectEditPolicy:u,onSelectDeletePolicy:p},e.id)})]})})},1986:function(e,t,n){n.d(t,{$:function(){return s},O:function(){return r}});var r=function(e){return{computeInstance:e.find(function(e){return"compute_instance"===e.type}),pitr:e.find(function(e){return"pitr"===e.type}),customDomain:e.find(function(e){return"custom_domain"===e.type})}},s=function(e){return void 0!==e&&e.addons.some(function(e){return"addon_security_hipaa"===e.supabase_prod_id})}},1846:function(e,t,n){n.d(t,{b:function(){return u}});var r=n(2784),s=n(36849),a=n(8647),i=n(25208),o=n(23733),c=n(85459),l=n(52322),u=function(e){var t=e.visible,n=e.onClose;return(0,l.jsx)(s.C,{size:"medium",visible:t,header:"Schemas managed by Supabase",customFooter:(0,l.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,l.jsx)(a.z,{type:"default",onClick:function(){return n()},children:"Understood"})}),onCancel:function(){return n()},children:(0,l.jsxs)(s.C.Content,{className:"py-4 space-y-2",children:[(0,l.jsx)("p",{className:"text-sm",children:"The following schemas are managed by Supabase and are currently protected from write access through the dashboard."}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:c.F.map(function(e){return(0,l.jsx)("code",{className:"text-xs",children:e},e)})}),(0,l.jsx)("p",{className:"text-sm !mt-4",children:"These schemas are critical to the functionality of your Supabase project and hence we highly recommend not altering them."}),(0,l.jsx)("p",{className:"text-sm",children:"You can, however, still interact with those schemas through the SQL Editor although we advise you only do so if you know what you are doing."})]})})};t.Z=function(e){var t=e.schema,n=e.entity,s=(0,r.useState)(!1),c=s[0],d=s[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.bZ,{children:[(0,l.jsx)(o.Z,{strokeWidth:2}),(0,l.jsxs)(i.Cd,{children:["Currently viewing ",n," from a protected schema"]}),(0,l.jsxs)(i.X,{children:[(0,l.jsxs)("p",{className:"mb-2",children:["The ",(0,l.jsx)("code",{className:"text-xs",children:t})," schema is managed by Supabase and is read-only through the dashboard."]}),(0,l.jsx)(a.z,{type:"default",size:"tiny",onClick:function(){return d(!0)},children:"Learn more"})]})]}),(0,l.jsx)(u,{visible:c,onClose:function(){return d(!1)}})]})}},62875:function(e,t,n){var r=n(73302),s=n(8647),a=n(71813),i=n(40900),o=n(9747),c=n(52322);t.Z=function(e){var t=e.language,n=e.officialSupport,l=e.docsUrl,u=e.gitUrl,d=e.altIconName;return(0,c.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,c.jsx)("img",{src:"".concat(o.GW,"/img/libraries/").concat(d?"".concat(d,"-icon.svg"):"".concat(t.toLowerCase(),"-icon.svg")),alt:"".concat(t," logo"),width:"21"}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("div",{children:(0,c.jsxs)("h5",{className:"flex items-center gap-2 text-base text-foreground",children:[t," ",!n&&(0,c.jsx)(r.Z,{color:"green",children:"Community"})]})}),(0,c.jsxs)("div",{className:"flex gap-2",children:[l&&(0,c.jsx)("a",{href:l,target:"_blank",rel:"noreferrer",children:(0,c.jsx)(s.z,{icon:(0,c.jsx)(a.Z,{}),type:"default",children:"Docs"})}),(0,c.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",children:(0,c.jsx)(s.z,{icon:(0,c.jsx)(i.Z,{}),type:"default",children:"See GitHub"})})]})]})]})}},77407:function(e,t,n){var r=n(9747),s=n(38617),a=n(39097),i=n.n(a),o=n(88688),c=n(52322);t.Z=function(e){var t=e.framework,n=e.title,a=e.description,l=e.url,u=(0,s.F)().resolvedTheme;return(0,c.jsx)(i(),{href:l,target:"_blank",rel:"noreferrer",children:(0,c.jsxs)("div",{className:"group relative border bg-surface-100 border-overlay flex h-32 flex-row rounded-md p-4 hover:bg-overlay-hover transition duration-150 ease-in-out",children:[(0,c.jsx)("div",{className:"mr-4 flex flex-col",children:(0,c.jsx)("img",{className:"transition-all group-hover:scale-110",src:"".concat(r.GW,"/img/libraries/").concat(t.toLowerCase()).concat(["expo","nextjs"].includes(t.toLowerCase())&&null!=u&&u.includes("dark")?"-dark":"","-icon.svg"),alt:"".concat(t," logo"),width:26,height:26})}),(0,c.jsxs)("div",{className:"w-4/5 space-y-2",children:[(0,c.jsx)("h5",{className:"text-foreground",children:n}),(0,c.jsx)("p",{className:"text-sm text-foreground-light",children:a})]}),(0,c.jsx)("div",{className:" absolute right-4 top-3 text-foreground-lighter transition-all duration-200 group-hover:right-3 group-hover:text-foreground ",children:(0,c.jsx)(o.Z,{})})]})})}},50527:function(e,t,n){n.d(t,{B:function(){return s},l:function(){return r}});var r=[{language:"JavaScript",officialSupport:!0,releaseState:void 0,docsUrl:"https://supabase.com/docs/reference/javascript/installing",gitUrl:"https://github.com/supabase/supabase-js"},{language:"Flutter",officialSupport:!0,releaseState:void 0,docsUrl:"https://supabase.com/docs/reference/dart/installing",gitUrl:"https://github.com/supabase/supabase-flutter"},{language:"Python",officialSupport:!1,releaseState:"Alpha",docsUrl:"https://supabase.com/docs/reference/python/initializing",gitUrl:"https://github.com/supabase/supabase-py"},{language:"C#",officialSupport:!1,releaseState:void 0,docsUrl:"https://supabase.com/docs/reference/csharp/installing",gitUrl:"https://github.com/supabase-community/supabase-csharp",altIconName:"c-sharp"},{language:"Swift",officialSupport:!1,releaseState:void 0,docsUrl:"https://supabase.com/docs/reference/swift/initializing",gitUrl:"https://github.com/supabase-community/supabase-swift"},{language:"Kotlin",officialSupport:!1,releaseState:void 0,docsUrl:"https://supabase.com/docs/reference/kotlin/installing",gitUrl:"https://github.com/supabase-community/supabase-kt"}],s=[{framework:"Svelte",title:"Svelte kanban board",description:"A Trello clone using Supabase as the storage system.",url:"https://github.com/joshnuss/supabase-kanban"},{framework:"nextjs",title:"Next.js Realtime chat app",description:"Next.js Slack clone app using Supabase realtime subscriptions",url:"https://github.com/supabase/supabase/tree/master/examples/slack-clone/nextjs-slack-clone"},{framework:"nextjs",title:"Next.js Subscription and Auth",description:"The all-in-one starter kit for high-performance SaaS applications.",url:"https://github.com/vercel/nextjs-subscription-payments"},{framework:"Expo",title:"Expo Starter",description:"Template bottom tabs with auth flow (Typescript)",url:"https://github.com/codingki/react-native-expo-template/tree/master/template-typescript-bottom-tabs-supabase-auth-flow"},{framework:"NestJS",title:"NestJS example",description:"NestJS example using Supabase Auth",url:"https://github.com/hiro1107/nestjs-supabase-auth"},{framework:"React",title:"React realtime chat app",description:"Example app of real-time chat using supabase realtime api",url:"https://github.com/shwosner/realtime-chat-supabase-react"},{framework:"JavaScript",title:"Vanilla-js Auth app",description:"Example app of real-time chat using supabase realtime api",url:"https://github.com/supabase/examples/tree/main/supabase-js-v1/auth/javascript-auth"},{framework:"React",title:"React Native todo list app",description:"React Native Todo List example with Expo",url:"https://github.com/supabase/examples/tree/main/supabase-js-v1/todo-list/expo-todo-list"},{framework:"nextjs",title:"Next.js todo list app",description:"Next.js todo list example",url:"https://github.com/supabase/supabase/tree/master/examples/todo-list/nextjs-todo-list"},{framework:"React",title:"React todo List app",description:"React todo List example",url:"https://github.com/supabase/examples/tree/main/supabase-js-v1/todo-list/react-todo-list"},{framework:"Svelte",title:"Svelte todo list app",description:"Sveltejs todo with TailwindCSS and Snowpack",url:"https://github.com/supabase/supabase/tree/master/examples/todo-list/sveltejs-todo-list"},{framework:"VueJS",title:"Vue.js todo list app",description:"Vue.js todo app using TypeScript",url:"https://github.com/supabase/examples/tree/main/supabase-js-v1/todo-list/vue3-ts-todo-list"}]},10209:function(e,t,n){n.d(t,{FP:function(){return A},ML:function(){return I},WY:function(){return T},jA:function(){return L}});var r=n(95235),s=n(82269),a=n(28879),i=n.n(a),o=n(38421),c=n.n(o),l=n(2784),u=n(25825),d=n(29298),p=n(9747),m=n(91516),h=n(39097),f=n.n(h),g=n(40900),x=n(15659),b=n(73302),v=n(8647),j=n(95223),y=n(96980),w=n(52322),k=["title","integration","disabled"],N=["connection","type","actions","showNode","orientation","className"],O=["className","connection","type"],S=["className","showNode","orgSlug","onClick"],P=["className","name","markdown","showNode"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Z=function(e){var t=e.type,n=e.className;switch(t){case"GitHub":return(0,w.jsx)(g.Z,{strokeWidth:2,size:14});case"Vercel":return(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 512 512",className:(0,x.cn)("w-3.5",n),children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M256,48,496,464H16Z"})});case"Supabase":return(0,w.jsx)("img",{src:"".concat(p.GW,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-3.5"});default:return(0,w.jsx)(w.Fragment,{})}},_=function(e){var t=e.src;return(0,w.jsx)("div",{className:"relative border shadow-lg w-8 h-8 rounded-full overflow-hidden",children:(0,w.jsx)(c(),{src:t||"",width:30,height:30,layout:"fill",alt:"avatar",className:"relative"})})},I=l.forwardRef(function(e,t){e.title;var n,r,a,o,c,l=e.integration,u=e.disabled,d=(0,s.Z)(e,k);return(0,w.jsxs)("li",E(E({ref:t,className:"bg-surface-100 border shadow-sm flex justify-between items-center px-8 py-4 rounded-lg"},d),{},{children:[(0,w.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,w.jsx)("div",{className:"flex gap-3 items-center",children:(0,w.jsxs)("div",{className:"flex -space-x-1",children:[(0,w.jsx)(function(){return(0,w.jsx)("div",{className:"bg-black text-white w-8 h-8 rounded flex items-center justify-center",children:(0,w.jsx)(Z,{type:l.integration.name})})},{}),(0,w.jsx)(_,{src:null==l?void 0:null===(n=l.metadata)||void 0===n?void 0:n.account.avatar})]})}),(0,w.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"text-foreground text-sm font-medium",children:(null===(r=l.metadata)||void 0===r?void 0:r.account.name)||void 0!==l.metadata&&"gitHubConnectionOwner"in l.metadata&&(null===(a=l.metadata)||void 0===a?void 0:a.gitHubConnectionOwner)}),(0,w.jsx)(b.Z,{color:"scale",className:"capitalize",children:null===(o=l.metadata)||void 0===o?void 0:o.account.type})]}),(0,w.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,w.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Created ",i()(l.inserted_at).fromNow()]}),(0,w.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Added by ",null==l?void 0:null===(c=l.added_by)||void 0===c?void 0:c.primary_email]})]})]})]}),(0,w.jsx)(v.z,{asChild:!0,disabled:u,type:"default",iconRight:(0,w.jsx)(j.Z,{}),children:u?(0,w.jsx)("p",{children:"Manage"}):(0,w.jsx)(f(),{href:(0,m.H9)(l),target:"_blank",rel:"noopener noreferrer",children:"Manage"})})]}),l.id)}),L=l.forwardRef(function(e,t){var n,r,a,o=e.connection,c=e.type,l=e.actions,u=e.showNode,m=void 0===u||u,h=e.orientation,f=void 0===h?"horizontal":h,g=e.className,b=(0,s.Z)(e,N),v=(0,d.Sy)().data,j=null==v?void 0:v.find(function(e){return e.ref===o.supabase_project_ref});return(0,w.jsxs)("li",E(E({ref:t},b),{},{className:(0,x.cn)(m&&"pl-8 ml-6 border-l border-muted","pb-2","relative"),children:[m&&(0,w.jsx)("div",{className:"absolute w-8 rounded-bl-full border-b border-l border-muted h-10 -left-px"}),(0,w.jsxs)("div",{className:(0,x.cn)("horizontal"===f?"flex items-center justify-between":"flex flex-col gap-3","bg-surface-100 border shadow-sm px-8 py-4 rounded-lg",g),children:[(0,w.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,w.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,w.jsx)(Z,{type:"Supabase"}),(0,w.jsx)("span",{className:"text-sm",children:null==j?void 0:j.name}),(0,w.jsx)(y.Z,{size:14,className:"text-foreground-lighter",strokeWidth:1.5}),null!=o&&null!==(n=o.metadata)&&void 0!==n&&n.framework?(0,w.jsx)("img",{src:"".concat(p.GW,"/img/icons/frameworks/").concat(o.metadata.framework,".svg"),width:21,height:21,alt:"icon"}):(0,w.jsx)("div",{className:"bg-black text-white w-4 h-4 rounded flex items-center justify-center",children:(0,w.jsx)(Z,{type:c,className:"!w-2.5"})}),(0,w.jsx)("span",{className:"text-sm truncate",children:null===(r=o.metadata)||void 0===r?void 0:r.name})]}),(0,w.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,w.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Connected ",i()(null==o?void 0:o.inserted_at).fromNow()]}),(0,w.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Added by ",null==o?void 0:null===(a=o.added_by)||void 0===a?void 0:a.primary_email]})]})]}),(0,w.jsx)("div",{children:l})]})]}),o.id)}),D=l.forwardRef(function(e,t){e.className;var n=e.connection,r=e.type,a=(0,s.Z)(e,O),o=(0,d.Sy)().data,c=null==o?void 0:o.find(function(e){return e.ref===n.supabase_project_ref});return(0,w.jsxs)("li",E(E({ref:t},a),{},{className:(0,x.cn)("bg-surface-100 border shadow-sm flex justify-between items-center px-8 py-4 rounded-lg"),children:[(0,w.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,w.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,w.jsx)(Z,{type:"Supabase"}),(0,w.jsx)("span",{className:"text-sm",children:null==c?void 0:c.name}),(0,w.jsx)(y.Z,{size:14,className:"text-foreground-lighter",strokeWidth:1.5}),(0,w.jsx)(Z,{type:r}),(0,w.jsx)("span",{className:"text-sm",children:n.metadata.name})]}),(0,w.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Connected ",i()(n.inserted_at).fromNow()]})]}),(0,w.jsx)(v.z,{type:"default",children:"Connect"})]}),n.id)}),A=l.forwardRef(function(e,t){var n=e.className,r=e.showNode,a=void 0===r||r,i=(e.orgSlug,e.onClick),o=(0,s.Z)(e,S);return(0,w.jsxs)("div",E(E({ref:t},o),{},{className:(0,x.cn)(a&&"ml-6 pl-8  border-l","pb-2 ","last:border-l-transparent","relative",n),children:[a&&(0,w.jsx)("div",{className:"absolute w-8 rounded-bl-full border-b border-l border-muted h-10 -left-px"}),(0,w.jsx)("div",{className:(0,x.cn)("w-full","border border-dashed bg-surface-100 border-overlay","","flex h-20 px-10 rounded-lg justify-center items-center"),children:(0,w.jsx)(v.z,{type:"default",onClick:function(){return i()},children:"Add new project connection"})})]}))}),T=l.forwardRef(function(e,t){var n=e.className,r=(e.name,e.markdown),a=e.showNode,i=void 0===a||a,o=(0,s.Z)(e,P);return(0,w.jsxs)("div",E(E({},o),{},{ref:t,className:(0,x.cn)(i&&"border-l border-muted ml-6 pl-8","pt-6 pb-3","prose text-sm",n),children:[o.title&&(0,w.jsx)("h5",{className:"text-foreground",children:o.title}),(0,w.jsx)(u.U,{content:void 0===r?"":r,className:""})]}))});I.displayName="IntegrationInstallation",L.displayName="IntegrationConnection",T.displayName="IntegrationConnectionHeader",A.displayName="EmptyIntegrationConnection",D.displayName="IntegrationConnectionOption"},46920:function(e,t,n){var r=n(2784),s=n(36045),a=n(25825),i=n(53334),o=n(12922),c=n(87875),l=n(29298),u=n(70203),d=n(84485),p=n(24888),m=n(74715),h=n(59485),f=n(52322),g=(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 96",className:"w-6",children:(0,f.jsx)("path",{fill:"#ffffff",fillRule:"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",clipRule:"evenodd"})});t.Z=function(e){var t,n=e.projectRef,x=(0,u.lL)(),b=(0,h.x5)(),v=b.githubConnectionsIntegrationId,j=(0,c.T)({orgSlug:null==x?void 0:x.slug}).data,y=null==j?void 0:j.filter(function(e){return"GitHub"===e.integration.name}),w=null==y?void 0:null===(t=y[0])||void 0===t?void 0:t.connections.find(function(e){return e.supabase_project_ref===n}),k=null==y?void 0:y.find(function(e){return e.id===v}),N=(0,l.Sy)({enabled:void 0!==v}),O=N.data,S=N.isLoading,P=(0,r.useMemo)(function(){var e;return null!==(e=null==O?void 0:O.filter(function(e){return e.organization_id===(null==x?void 0:x.id)}).map(function(e){return{id:e.id.toString(),name:e.name,ref:e.ref}}))&&void 0!==e?e:d.Z6},[null==x?void 0:x.id,O]),C=(0,o.q)({integrationId:v},{enabled:void 0!==v}),E=C.data,Z=C.isLoading,_=(0,r.useMemo)(function(){var e;return null!==(e=null==E?void 0:E.map(function(e){return{id:e.id.toString(),name:e.full_name}}))&&void 0!==e?e:d.Z6},[E]),I=(0,i.s)({onSuccess:function(){b.setGithubConnectionsOpen(!1)}}),L=I.mutate,D=I.isLoading,A=(0,m.A)().mutate;return(0,f.jsx)(p.ZP,{header:"Add GitHub repository",size:"large",visible:b.githubConnectionsOpen,hideFooter:!0,onCancel:function(){return b.setGithubConnectionsOpen(!1)},children:(0,f.jsxs)("div",{className:"py-10 flex flex-col gap-6 bg-background h-full",children:[(0,f.jsx)(p.ZP.Content,{children:(0,f.jsx)(a.U,{content:"\n### Choose repository to connect to\n\nCheck the details below before proceeding\n          "})}),(0,f.jsx)(p.ZP.Content,{className:"flex flex-col gap-2",children:(0,f.jsx)(s.Z,{defaultSupabaseProjectRef:n,defaultForeignProjectId:null==w?void 0:w.foreign_project_id,organizationIntegrationId:null==k?void 0:k.id,foreignProjects:_,supabaseProjects:P,onCreateConnections:function(e){var t=null==y?void 0:y[0].connections.find(function(t){return t.supabase_project_ref===e.connection.supabase_project_ref});void 0!==t&&void 0!==x&&A({connectionId:t.id,integrationId:t.organization_integration_id,orgSlug:x.slug}),L(e)},installedConnections:null==k?void 0:k.connections,isLoading:D,loadingForeignProjects:Z,loadingSupabaseProjects:S,integrationIcon:g,choosePrompt:"Choose GitHub Repo"})})]})})}},92203:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(59491),s=n(5632),a=n(48125),i=n(22731),o=n(70203),c=n(11425),l=n(9747),u=function(e,t){var n,r,s,a,i=null!==(n=null==e?void 0:e.ref)&&void 0!==n?n:"default",o=null===(r=null==t?void 0:t.auth)||void 0===r||r,c=null===(s=null==t?void 0:t.storage)||void 0===s||s,u=null===(a=null==t?void 0:t.realtime)||void 0===a||a;return[{title:"Logs Explorer",items:[{key:"explorer",name:"Query",root:!0},l.Qy?{key:"saved",name:"Saved Queries"}:null,{key:"recent",name:"Recent Queries"},{key:"templates",name:"Templates"}].filter(function(e){return e}).map(function(e){var t=e.key,n=e.name,r=e.root;return{name:n,key:t,url:"/project/".concat(i,"/logs/explorer").concat(r?"":"/"+t),items:[]}})},{items:[{name:l.Qy?"API Edge Network":"Kong API",key:"edge-logs",url:"/project/".concat(i,"/logs/edge-logs"),items:[]},{name:"Postgres",key:"postgres-logs",url:"/project/".concat(i,"/logs/postgres-logs"),items:[]},{name:"PostgREST",key:"postgrest-logs",url:"/project/".concat(i,"/logs/postgrest-logs"),items:[]},l.Qy?{name:"Pooler",key:"pooler-logs",url:"/project/".concat(i,"/logs/pooler-logs"),items:[]}:null,,o?{name:"Auth",key:"auth-logs",url:"/project/".concat(i,"/logs/auth-logs"),items:[]}:null,c?{name:"Storage",key:"storage-logs",url:"/project/".concat(i,"/logs/storage-logs"),items:[]}:null,u?{name:"Realtime",key:"realtime-logs",url:"/project/".concat(i,"/logs/realtime-logs"),items:[]}:null].filter(function(e){return e})}]},d=n(52322),p=(0,o.QO)(function(e){var t=e.title,n=e.children,l=(0,s.useRouter)().pathname.split("/"),p=l[l.length-1],m=(0,o.N3)(["project_storage:all","project_auth:all","realtime:all"]),h=m.projectAuthAll,f=m.projectStorageAll,g=m.realtimeAll,x=(0,o.Vm)();return(0,o.Xo)(r.KA.ANALYTICS_READ,"logflare")?(0,d.jsx)(c.ZP,{title:t,product:"Logs",productMenu:(0,d.jsx)(i.Z,{page:p,menu:u(x,{auth:h,storage:f,realtime:g})}),children:(0,d.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:n})}):(0,d.jsx)(c.ZP,{children:(0,d.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:(0,d.jsx)(a.Z,{isFullPage:!0,resourceText:"access your project's logs explorer"})})})})},47796:function(e,t,n){n.d(t,{Z:function(){return L}});var r=n(24990),s=n(59491),a=n(55830),i=n(43991),o=n(39097),c=n.n(o),l=n(2784),u=n(72637),d=n(8647),p=n(36849),m=n(89700),h=n(42984),f=n(95235),g=n(82269),x=n(20406),b=n(28526),v=n.n(b),j=n(62350),y=n(62202),w=n(81229),k=["onSuccess","onError"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(){return(O=(0,x.Z)(v().mark(function e(t){var n,r,s,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ref,e.next=3,(0,w.v_)("/platform/projects/{ref}/restore",{params:{path:{ref:n}},body:{}});case 3:if(s=(r=e.sent).data,!(a=r.error)){e.next=8;break}throw a;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,g.Z)(e,k);return(0,j.D)(function(e){return function(e){return O.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,x.Z)(v().mark(function s(){return v().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,null==t?void 0:t(e,n,r);case 2:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,x.Z)(v().mark(function s(){return v().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?y.Am.error("Failed to restore project: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},P=n(29298),C=n(70203),E=n(9747),Z=n(97064),_=n(97415),I=n(52322),L=function(e){var t,n,o=e.product,f=(0,a.NL)(),g=(0,C.oR)().ui,x=(0,i.UO)().ref,b=(0,C.lL)(),v=(0,Z.d2)().project,j=null==b?void 0:b.slug,y=(0,_.G)({orgSlug:j}).data,w=(null==y?void 0:null===(t=y.plan)||void 0===t?void 0:t.id)==="free",k=(0,h.u)({slug:j}).data,N=(k||[]).length>0,O=(0,l.useState)(!1),L=O[0],D=O[1],A=(0,l.useState)(!1),T=A[0],R=A[1],z=S({onSuccess:function(e,t){(0,P.k7)(f,t.ref,E.S.RESTORING),g.setNotification({category:"success",message:"Restoring project"})}}).mutate,F=(0,C.Xo)(s.KA.INFRA_EXECUTE,"queue_jobs.projects.initialize_or_resume");return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"space-y-4",children:(0,I.jsx)("div",{className:"w-full mx-auto mb-16 max-w-7xl",children:(0,I.jsx)("div",{className:"mx-6 flex h-[500px] items-center justify-center rounded border border-overlay bg-surface-100 p-8",children:(0,I.jsxs)("div",{className:"grid w-[480px] gap-4",children:[(0,I.jsx)("div",{className:"mx-auto flex max-w-[300px] items-center justify-center space-x-4 lg:space-x-8",children:(0,I.jsx)(u.Z,{className:"text-foreground-light",size:50,strokeWidth:1.5})}),(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsxs)("p",{className:"text-center",children:['The project "',null!==(n=null==v?void 0:v.name)&&void 0!==n?n:"",'" is currently paused.']}),(0,I.jsxs)("p",{className:"text-sm text-foreground-light text-center",children:["All of your project's data is still intact, but your project is inaccessible while paused."," ",void 0!==o?(0,I.jsxs)(I.Fragment,{children:["Restore this project to access the"," ",(0,I.jsx)("span",{className:"text-brand",children:o})," page"]}):"Restore this project and get back to building the next big thing!"]}),w&&(0,I.jsx)("p",{className:"text-sm text-foreground-light text-center",children:"You can also prevent project pausing in the future by upgrading to Pro."}),!w&&(0,I.jsxs)("p",{className:"text-sm text-foreground-light text-center",children:["Unpaused projects count towards compute usage. For every hour your instance is active, we'll bill you based on the instance size of your project. See"," ",(0,I.jsx)(c(),{href:"https://supabase.com/docs/guides/platform/org-based-billing#usage-based-billing-for-compute",target:"_blank",rel:"noreferrer",className:"underline",children:"Compute Instance Usage Billing"})," ","for more details."]})]}),(0,I.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,I.jsxs)(r.fC,{delayDuration:0,children:[(0,I.jsx)(r.xz,{children:(0,I.jsx)(d.z,{size:"tiny",type:"primary",disabled:!F,onClick:function(){F?N?R(!0):D(!0):g.setNotification({category:"error",message:"You do not have the required permissions to restore this project"})},children:"Restore project"})}),!F&&(0,I.jsx)(r.h_,{children:(0,I.jsxs)(r.VY,{side:"bottom",children:[(0,I.jsx)(r.Eh,{className:"radix-tooltip-arrow"}),(0,I.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,I.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to resume this project"})})]})})]}),w?(0,I.jsx)(d.z,{asChild:!0,type:"default",children:(0,I.jsx)(c(),{href:"/org/".concat(j,"/billing?panel=subscriptionPlan"),children:"Upgrade to Pro"})}):(0,I.jsx)(d.z,{asChild:!0,type:"default",children:(0,I.jsx)(c(),{href:"/project/".concat(x,"/settings/general"),children:"View project settings"})})]})]})})})}),(0,I.jsx)(m.Z,{visible:L,title:"Restore this project",description:"Confirm to restore this project? Your project's data will be restored to when it was initially paused.",buttonLabel:"Restore project",buttonLoadingLabel:"Restoring project",onSelectCancel:function(){return D(!1)},onSelectConfirm:function(){if(!v)return g.setNotification({error:"Project is required",category:"error",message:"Unable to restore: project is required"});z({ref:v.ref})}}),(0,I.jsx)(p.C,{hideFooter:!0,visible:T,size:"medium",header:"Your organization has members who have exceeded their free project limits",onCancel:function(){return R(!1)},children:(0,I.jsxs)("div",{className:"py-4 space-y-4",children:[(0,I.jsx)(p.C.Content,{children:(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)("p",{className:"text-sm text-foreground-light",children:"The following members have reached their maximum limits for the number of active free plan projects within organizations where they are an administrator or owner:"}),(0,I.jsx)("ul",{className:"pl-5 text-sm list-disc text-foreground-light",children:(k||[]).map(function(e,t){return(0,I.jsxs)("li",{children:[e.username||e.primary_email," (Limit: ",e.free_project_limit," ","free projects)"]},"member-".concat(t))})}),(0,I.jsx)("p",{className:"text-sm text-foreground-light",children:"These members will need to either delete, pause, or upgrade one or more of these projects before you're able to unpause this project."})]})}),(0,I.jsx)(p.C.Separator,{}),(0,I.jsx)(p.C.Content,{children:(0,I.jsx)("div",{className:"flex items-center gap-2",children:(0,I.jsx)(d.z,{htmlType:"button",type:"default",onClick:function(){return R(!1)},block:!0,children:"Understood"})})})]})})]})}},61602:function(e,t,n){var r=n(97729),s=n.n(r),a=n(61740),i=n(9747),o=n(52322);t.Z=function(e){var t=e.children;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s(),{children:(0,o.jsx)("title",{children:"Supabase + Vercel"})}),(0,o.jsxs)("main",{className:"flex flex-col w-full h-full",children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"mx-auto px-4 sm:px-6",children:(0,o.jsx)("div",{className:"max-w-xl flex justify-between items-center mx-auto py-4",children:(0,o.jsx)("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"sr-only",children:"Supabase"}),(0,o.jsx)("img",{className:"h-6 w-auto sm:h-6",src:"".concat(i.GW,"/img/supabase-logo.svg"),alt:""})]})})})})}),(0,o.jsx)(a.Z,{light:!0}),(0,o.jsx)("div",{className:"flex-grow overflow-y-auto",children:(0,o.jsx)("div",{className:"max-w-7xl h-full mx-auto px-4 sm:px-6",children:(0,o.jsx)("div",{className:"max-w-xl h-full mx-auto py-10",children:t})})})]})]})}},11425:function(e,t,n){n.d(t,{p0:function(){return $},g1:function(){return et},_h:function(){return es},zt:function(){return ed},gm:function(){return rR},Uj:function(){return ep.Z},Ix:function(){return ef},q3:function(){return nX},$E:function(){return nY},li:function(){return n0},Vk:function(){return rD},dU:function(){return nJ},_J:function(){return rF},ro:function(){return r7},lz:function(){return sy},Ru:function(){return sN},pj:function(){return sO},ZP:function(){return sP}});var r=n(12741),s=n(20406),a=n(28526),i=n.n(a),o=n(97729),c=n.n(o),l=n(5632),u=n(54947),d=n(70203),p=n(84964),m=n(9747),h=n(56702),f=n(43991),g=n(6277),x=n(39097),b=n.n(x),v=n(52322),j=function(e){var t=e.href,n=e.label,r=e.isActive;return(0,v.jsx)("div",{children:(0,v.jsx)(b(),{href:t,className:(0,g.default)("text-sm",r?"text-foreground":"text-foreground-light hover:text-foreground transition"),children:n})})},y=function(){var e=(0,l.useRouter)(),t=(0,d.lL)();return(0,v.jsx)("div",{className:"space-y-10",children:(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("p",{className:"text-sm font-medium",children:"Organization"}),[{label:"General",pathname:"/org/[slug]/general"},{label:"Members",pathname:"/org/[slug]/team"},{label:"Integrations",pathname:"/org/[slug]/integrations"},{label:"Billing",pathname:"/org/[slug]/billing"},{label:"Usage",pathname:"/org/[slug]/usage"},{label:"Invoices",pathname:"/org/[slug]/invoices"},{label:"OAuth Apps",pathname:"/org/[slug]/apps"},{label:"Audit Logs",pathname:"/org/[slug]/audit"},{label:"Legal Documents",pathname:"/org/[slug]/documents"}].map(function(n){return(0,v.jsx)(j,{label:n.label,href:void 0!==t?n.pathname.replace("[slug]",t.slug):"/",isActive:n.pathname===e.pathname},n.label)})]})})},w=n(76635),k=function(){var e=(0,l.useRouter)(),t=(0,w.compact)([{label:"Preferences",pathname:"/account/me"},{label:"Access Tokens",pathname:"/account/tokens"},{label:"Security",pathname:"/account/security"},{label:"Audit logs",pathname:"/account/audit"}]);return(0,v.jsx)("div",{className:"space-y-10",children:(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("p",{className:"text-sm font-medium",children:"Account Settings"}),t.map(function(t){return(0,v.jsx)(j,{label:t.label,href:t.pathname,isActive:t.pathname===e.pathname},t.label)})]})})},N=function(e){var t=e.children,n=(0,l.useRouter)(),r=(0,f.UO)(),s=r.ref,a=r.slug;return(0,v.jsx)(h.Z,{children:(0,v.jsxs)("div",{className:"flex h-full",children:["/projects"!==n.pathname&&(0,v.jsx)("div",{className:"h-full overflow-y-auto min-w-[280px] border-r px-8 py-8",children:void 0===a&&void 0===s?(0,v.jsx)(k,{}):(0,v.jsx)(y,{})}),(0,v.jsx)("div",{className:"h-full overflow-y-auto flex-grow",children:t})]})})},O=n(95490),S=n(73302),P=n(95235),C=n(2784),E=n(73193),Z=n(12223);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var I=function(e){return(0,v.jsx)(Z.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:E.Z},e))},L=n(2760);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var A=function(e){return(0,v.jsx)(Z.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:L.Z},e))},T=n(90175),R=n(84974),z=n(79624),F=n(46620),U=n(97415),M=n(90213),B=n(46776),q=(0,B.Pi)(function(e){var t=e.defaultValue;return(0,v.jsx)(v.Fragment,{children:null!=t&&t.length?t.map(function(e){return(0,v.jsxs)(C.Fragment,{children:[(0,v.jsx)("span",{className:"text-border-stronger",children:(0,v.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,v.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,v.jsx)("a",{onClick:e.onClick||function(){},className:"text-gray-1100 block px-2 py-1 text-xs leading-5 focus:bg-gray-100 focus:text-gray-900 focus:outline-none ".concat(e.onClick?"cursor-pointer hover:text-white":""),children:e.label})]},e.key)}):null})}),W=n(42730),V=n(58136),G=n(32711),H=function(e){var t=e.customHeaderComponents,n=e.breadcrumbs,r=e.headerBorder,s=(0,f.UO)().ref,a=(0,d.Vm)(),i=(0,d.lL)(),o=(0,d.P5)("branchManagement"),c=(null==a?void 0:a.is_branch_enabled)===!0||(null==a?void 0:a.parent_project_ref)!==void 0,l=(0,M.v)({orgSlug:null==i?void 0:i.slug}).data,u=(0,C.useMemo)(function(){var e;return!!l&&((e=(null==l?void 0:l.usages)||[]).length?e.filter(function(e){if(!e.capped||!e.available_in_plan||e.unlimited)return!1;var t=e.pricing_free_units||0;return e.usage>t}).map(function(e){return e.metric}):[]).length>0},[l]),p=(0,U.G)({orgSlug:null==i?void 0:i.slug}).data,h=(null==p?void 0:p.usage_billing_enabled)===!0,g=(0,d.P5)("overusageBadge")&&void 0!==p&&("free"===p.plan.id||"pro"===p.plan.id)&&!h&&u;return(0,v.jsxs)("div",{className:"flex h-12 max-h-12 items-center justify-between py-2 px-5 ".concat(void 0===r||r?"border-b border-default":""),children:[(0,v.jsxs)("div",{className:"-ml-2 flex items-center text-sm",children:[s&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(z.Z,{}),s&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"text-border-stronger",children:(0,v.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,v.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,v.jsx)(F.Z,{}),g&&(0,v.jsx)("div",{className:"ml-2",children:(0,v.jsx)(b(),{href:"/org/".concat(null==i?void 0:i.slug,"/usage"),children:(0,v.jsx)(S.Z,{color:"red",children:"Exceeding usage limits"})})})]}),a&&o&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"text-border-stronger",children:(0,v.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,v.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),c?(0,v.jsx)(T.Z,{}):(0,v.jsx)(R.Z,{})]})]}),(0,v.jsx)(q,{defaultValue:void 0===n?[]:n})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[t&&t,m.Qy&&(0,v.jsx)(V.Z,{}),m.Qy&&(0,v.jsx)(W.Z,{}),m.Qy&&(0,v.jsx)(G.Z,{})]})]})},Y=function(e){var t=e.title,n=e.header,r=e.breadcrumbs,s=e.children,a=e.sections,i=e.subitems,o=e.subitemsParentKey,c=e.hideSidebar,l=e.customSidebarContent,u=(0,d.P5)("ongoingIncident"),p=(0,d.P5)("navigationLayoutV2"),m=u?"calc(100vh - 44px)":"100vh";return(0,v.jsxs)("div",{className:"flex max-h-full",children:[!(void 0!==c&&c)&&!(!a&&!l)&&(0,v.jsxs)("div",{id:"with-sidebar",style:{height:m,maxHeight:m},className:"h-full bg-background hide-scrollbar w-64 overflow-auto border-r border-default",children:[t&&(0,v.jsx)("div",{className:"mb-2",children:(0,v.jsx)("div",{className:"flex h-12 max-h-12 items-center border-b px-6 border-default",children:(0,v.jsx)("h4",{className:"mb-0 text-lg truncate",title:t,children:t})})}),n&&n,(0,v.jsx)("div",{className:"-mt-1",children:(0,v.jsxs)(O.ZP,{children:[l,a.map(function(e,t){return e.heading?(0,v.jsx)(Q,{section:e,subitems:i,subitemsParentKey:o},e.key):(0,v.jsx)("div",{className:"border-b py-5 px-6 border-default",children:(0,v.jsx)(K,{links:e.links,subitems:i,subitemsParentKey:o})},e.key)})]})})]}),(0,v.jsxs)("div",{className:"flex flex-1 flex-col",children:[!p&&(0,v.jsx)(H,{breadcrumbs:void 0===r?[]:r}),(0,v.jsx)("div",{className:"flex-1 flex-grow overflow-auto",children:s})]})]})},Q=function(e){var t=e.section,n=e.subitems,r=e.subitemsParentKey;return(0,v.jsxs)("div",{className:"border-b py-5 px-6 border-default",children:[t.heading&&(0,v.jsx)(O.ZP.Group,{title:t.heading}),t.versionLabel&&(0,v.jsx)("div",{className:"mb-1 px-3",children:(0,v.jsx)(S.Z,{color:"yellow",children:t.versionLabel})}),(0,v.jsx)(K,{links:t.links,subitems:n,subitemsParentKey:r})]},t.heading)},K=function(e){var t=e.links,n=e.subitems,s=e.subitemsParentKey;return(0,v.jsx)("ul",{className:"space-y-1",children:t.map(function(e,t){var a=e.isActive&&!n,i=(0,v.jsx)(X,{id:"".concat(e.key,"-").concat(t),isActive:a,label:e.label,href:e.href,onClick:e.onClick,isExternal:e.isExternal||!1},"".concat(e.key,"-").concat(t,"-sidebarItem"));if(n&&e.subitemsKey===s){var o=n.map(function(t,n){return(0,v.jsx)(X,{id:"".concat(t.key||t.as,"-").concat(n),isSubitem:!0,label:t.label,onClick:t.onClick,isExternal:e.isExternal||!1},"".concat(t.key||t.as,"-").concat(n,"-sidebarItem"))});i=[i].concat((0,r.Z)(o))}return i})})},X=function(e){var t,n=e.id,r=e.label,s=e.href,a=e.isActive,i=e.isSubitem,o=e.isExternal,c=e.onClick;return(0,w.isUndefined)(s)?(o&&(t=(0,v.jsx)(I,{size:"tiny"})),"Logout"===r&&(t=(0,v.jsx)(A,{size:"tiny"})),(0,v.jsx)(O.ZP.Item,{rounded:!0,style:{marginLeft:i?".5rem":"0rem"},active:!!a,onClick:c||function(){},icon:t,children:i?(0,v.jsx)("p",{className:"text-sm",children:r}):r},n)):(0,v.jsx)(b(),{href:s||"",className:"block",target:o?"_blank":"_self",children:(0,v.jsxs)("span",{className:"group flex max-w-full cursor-pointer items-center space-x-2 border-default py-1 font-normal outline-none ring-foreground focus-visible:z-10 focus-visible:ring-1 group-hover:border-foreground-muted",children:[o&&(0,v.jsx)("span",{className:"truncate text-sm text-foreground-lighter transition group-hover:text-foreground-light",children:(0,v.jsx)(I,{size:"tiny"})}),(0,v.jsx)("span",{title:r,className:"w-full truncate text-sm text-foreground-light transition group-hover:text-foreground",children:i?(0,v.jsx)("p",{children:r}):r})]})})},$=(0,d.QO)(function(e){var t,n=e.children,a=e.title,o=e.breadcrumbs,h=(0,l.useRouter)(),f=(0,u.tl)().data,g=(0,d.lL)(),x=(0,d.P5)("ongoingIncident"),b=(0,d.P5)("navigationLayoutV2"),j=x?"calc(100vh - 44px)":"100vh",y=(0,p.QJ)(),w=(t=(0,s.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return e.next=4,h.push("/sign-in");case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),k=(null!=f?f:[]).map(function(e){return{isActive:h.pathname.startsWith("/org/")&&(null==g?void 0:g.slug)===e.slug,label:e.name,href:"/org/".concat(e.slug,"/general"),key:e.slug}}).sort(function(e,t){return e.label.localeCompare(t.label)}),O=[{heading:"Projects",key:"projects",links:[{isActive:"/projects"===h.pathname,label:"All projects",href:"/projects",key:"all-projects-item"}]}].concat((0,r.Z)(m.Qy&&(null==k?void 0:k.length)>0?[{heading:"Organizations",key:"organizations",links:k}]:[]),(0,r.Z)(m.Qy?[{heading:"Account",key:"account",links:[{isActive:"/account/me"===h.pathname,icon:"".concat(h.basePath,"/img/user.svg"),label:"Preferences",href:"/account/me",key:"/account/me"},{isActive:"/account/tokens"===h.pathname,icon:"".concat(h.basePath,"/img/user.svg"),label:"Access Tokens",href:"/account/tokens",key:"/account/tokens"},{isActive:"/account/security"===h.pathname,icon:"".concat(h.basePath,"/img/user.svg"),label:"Security",href:"/account/security",key:"/account/security"},{isActive:"/account/audit"===h.pathname,icon:"".concat(h.basePath,"/img/user.svg"),label:"Audit Logs",href:"/account/audit",key:"/account/audit"}]}]:[]),[{heading:"Documentation",key:"documentation",links:[{key:"ext-guides",icon:"".concat(h.basePath,"/img/book.svg"),label:"Guides",href:"https://supabase.com/docs",isExternal:!0},{key:"ext-guides",icon:"".concat(h.basePath,"/img/book-open.svg"),label:"API Reference",href:"https://supabase.com/docs/guides/api",isExternal:!0}]}],(0,r.Z)(m.Qy?[{key:"logout-link",links:[{key:"logout",icon:"/icons/feather/power.svg",label:"Logout",href:void 0,onClick:w}]}]:[]));return b?(0,v.jsx)(N,{children:n}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c(),{children:[(0,v.jsx)("title",{children:a?"".concat(a," | Supabase"):"Supabase"}),(0,v.jsx)("meta",{name:"description",content:"Supabase Studio"})]}),(0,v.jsx)("div",{className:"flex h-full",children:(0,v.jsx)("main",{style:{height:j,maxHeight:j},className:"flex flex-col flex-1 w-full overflow-y-auto",children:(0,v.jsx)(Y,{hideSidebar:b,title:a,breadcrumbs:o,sections:O,children:n})})})]})}),J=n(22731),ee=n(35933),et=(0,d.QO)((0,B.Pi)(function(e){var t,n=e.title,s=e.children,a=(0,f.UO)().ref,i=void 0===a?"default":a,o=(0,d.oR)(),c=o.ui,u=o.meta;(0,ee.kM)({projectRef:i});var p=(0,l.useRouter)().pathname.split("/")[4];return(0,C.useEffect)(function(){c.selectedProjectRef&&(u.policies.load(),u.roles.load())},[c.selectedProjectRef]),(0,v.jsx)(sP,{title:n||"Authentication",product:"Authentication",productMenu:(0,v.jsx)(J.Z,{page:p,menu:(t=null!=i?i:"default",[{title:"Manage",items:[{name:"Users",key:"users",url:"/project/".concat(t,"/auth/users"),items:[]}]},{title:"Configuration",items:[{name:"Policies",key:"policies",url:"/project/".concat(t,"/auth/policies"),items:[]}].concat((0,r.Z)(m.Qy?[{name:"Providers",key:"providers",url:"/project/".concat(t,"/auth/providers"),items:[]},{name:"Rate Limits",key:"rate-limits",url:"/project/".concat(t,"/auth/rate-limits"),items:[]},{name:"Email Templates",key:"templates",url:"/project/".concat(t,"/auth/templates"),items:[]},{name:"URL Configuration",key:"url-configuration",url:"/project/".concat(t,"/auth/url-configuration"),items:[]}]:[]))}])}),children:(0,v.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:s})})})),en=n(59227);(0,d.QO)(function(e){var t=e.children,n=(0,d.lL)(),r=(0,d.Vm)();return(0,v.jsx)(sP,{hideHeader:!0,hideIconBar:!0,children:(0,v.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4 border-b py-4 px-5 border-default",children:[(0,v.jsx)(b(),{href:"/org/".concat(null==n?void 0:n.slug,"/billing"),className:"text-foreground-lighter transition-colors hover:text-foreground",children:(0,v.jsx)(en.Z,{size:16,strokeWidth:1.5})}),(0,v.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,v.jsx)("h1",{className:"text-sm text-foreground",children:"Customize your plan"}),(0,v.jsx)("div",{className:"h-6 w-px bg-selection"}),(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:null==n?void 0:n.name}),(0,v.jsx)("span",{className:"text-border-stronger",children:(0,v.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,v.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:null==r?void 0:r.name})]})]})]}),(0,v.jsx)("div",{className:"overflow-auto",children:(0,v.jsx)("section",{className:"relative",children:t})})]})})});var er=function(e,t){var n,s=null!==(n=null==e?void 0:e.ref)&&void 0!==n?n:"default",a=(t||{}).pgNetExtensionExists;return[{title:"Database",items:[{name:"Tables",key:"tables",url:"/project/".concat(s,"/database/tables"),items:[]},{name:"Schema Visualizer",key:"schemas",url:"/project/".concat(s,"/database/schemas"),items:[]},{name:"Triggers",key:"triggers",url:"/project/".concat(s,"/database/triggers"),items:[]},{name:"Functions",key:"functions",url:"/project/".concat(s,"/database/functions"),items:[]},{name:"Extensions",key:"extensions",url:"/project/".concat(s,"/database/extensions"),items:[]},{name:"Roles",key:"roles",url:"/project/".concat(s,"/database/roles"),items:[]},{name:"Replication",key:"replication",url:"/project/".concat(s,"/database/replication"),items:[]}].concat((0,r.Z)(a?[{name:"Webhooks",key:"hooks",url:"/project/".concat(s,"/database/hooks"),items:[]}]:[]),[{name:"Wrappers",key:"wrappers",url:"/project/".concat(s,"/database/wrappers"),items:[]}],(0,r.Z)(m.Qy?[{name:"Backups",key:"backups",url:"/project/".concat(s,"/database/backups/scheduled"),items:[]}]:[]),[{name:"Migrations",key:"migrations",url:"/project/".concat(s,"/database/migrations"),items:[]},{name:"Indexes",key:"indexes",url:"/project/".concat(s,"/database/indexes"),items:[]},{name:"Enumerated Types",key:"types",url:"/project/".concat(s,"/database/types"),items:[]}])}]},es=(0,d.QO)((0,B.Pi)(function(e){var t=e.children,n=(0,d.oR)(),r=n.ui,s=n.meta,a=n.vault,i=(0,d.Vm)(),o=(0,l.useRouter)().pathname.split("/")[4],c=s.extensions.byId("supabase_vault"),u=void 0!==c&&null!==c.installed_version,p=void 0!==s.extensions.byId("pg_net");return(0,C.useEffect)(function(){r.selectedProjectRef&&(s.roles.load(),s.triggers.load(),s.extensions.load(),s.publications.load())},[r.selectedProjectRef]),(0,C.useEffect)(function(){u&&a.load()},[r.selectedProjectRef,u]),(0,v.jsx)(sP,{product:"Database",productMenu:(0,v.jsx)(J.Z,{page:o,menu:er(i,{pgNetExtensionExists:p})}),children:(0,v.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:t})})})),ea=n(8647);function ei(e){var t=e.error;return(0,C.useEffect)(function(){console.error("Error",t)},[]),(0,v.jsxs)("div",{className:"mx-auto flex h-full w-full flex-col items-center justify-center space-y-6",children:[(0,v.jsxs)("div",{className:"flex w-[320px] flex-col items-center justify-center space-y-3",children:[(0,v.jsx)("h4",{className:"text-lg",children:"Something went wrong \uD83E\uDD15"}),(0,v.jsx)("p",{className:"text-center text-sm text-foreground-light",children:"Sorry about that, please try again later or feel free to reach out to us if the problem persists."})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsx)(ea.z,{asChild:!0,children:(0,v.jsx)(b(),{href:"/projects",children:"Head back"})}),(0,v.jsx)(ea.z,{asChild:!0,type:"secondary",children:(0,v.jsx)(b(),{href:"/support/new",children:"Submit a support request"})})]}),(0,v.jsxs)("p",{className:"text-sm text-foreground-light",children:["Error: [",null==t?void 0:t.code,"] ",null==t?void 0:t.message]})]})}var eo=n(38183),ec=n(54064),el=n(71813),eu=n(51422),ed=(0,d.QO)((0,B.Pi)(function(e){var t,n,s,a,i=e.title,o=e.children,c=(0,l.useRouter)(),u=(0,d.oR)(),p=u.ui,h=u.meta,f=h.openApi,g=f.data,x=f.isLoading,b=f.error,j=(0,d.Vm)(),y=(null==j?void 0:j.status)===m.S.INACTIVE,w=(0,eu.cg)()&&c.pathname.endsWith("/graphiql"),k=(0,d.N3)(["project_auth:all"]).projectAuthAll;if((0,C.useEffect)(function(){p.selectedProjectRef&&!y&&h.openApi.load()},[p.selectedProjectRef,y]),b)return(0,v.jsx)(sP,{product:"API Docs",children:(0,v.jsx)(ei,{error:b})});var N=null!==(n=null==j?void 0:j.ref)&&void 0!==n?n:"default",O=(null!==(s=null==g?void 0:g.tables)&&void 0!==s?s:[]).map(function(e){return e.name}),S=(null!==(a=null==g?void 0:g.functions)&&void 0!==a?a:[]).map(function(e){return e.name});return(0,v.jsx)(sP,{title:i||"API Docs",isLoading:x,product:"API Docs",productMenu:!w&&(0,v.jsx)(J.Z,{page:function(){if(c.pathname.endsWith("graphiql"))return"graphiql";var e=c.query,t=e.page,n=e.resource;return t||n?t||n||"":"introduction"}(),menu:(t={authEnabled:k},[{title:"Getting Started",items:[{name:"Introduction",key:"introduction",url:"/project/".concat(N,"/api"),items:[]},{name:"Authentication",key:"auth",url:"/project/".concat(N,"/api?page=auth"),items:[]}].concat((0,r.Z)(null!=t&&t.authEnabled?[{name:"User Management",key:"users",url:"/project/".concat(N,"/api?page=users"),items:[]}]:[]))},{title:"Tables and Views",items:[{name:"Introduction",key:"tables-intro",url:"/project/".concat(N,"/api?page=tables-intro"),items:[]}].concat((0,r.Z)(O.sort().map(function(e){return{name:e,key:e,url:"/project/".concat(N,"/api?resource=").concat(e),items:[]}})))},{title:"Stored Procedures",items:[{name:"Introduction",key:"rpc-intro",url:"/project/".concat(N,"/api?page=rpc-intro"),items:[]}].concat((0,r.Z)(S.map(function(e){return{name:e,key:e,url:"/project/".concat(N,"/api?rpc=").concat(e),items:[]}})))},{title:"GraphQL",items:[{name:"GraphiQL",key:"graphiql",url:"/project/".concat(N,"/api/graphiql"),icon:(0,v.jsx)(eo.Z,{src:"".concat(m.GW,"/img/graphql.svg"),style:{width:"".concat(16,"px"),height:"".concat(16,"px")},className:"text-foreground",preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}),items:[]}]},{title:"More Resources",items:[{name:"Guides",key:"guides",url:"https://supabase.com/docs",icon:(0,v.jsx)(ec.Z,{size:14,strokeWidth:2}),items:[],isExternal:!0},{name:"API Reference",key:"api-reference",url:"https://supabase.com/docs/guides/api",icon:(0,v.jsx)(el.Z,{size:14,strokeWidth:2}),items:[],isExternal:!0}]}])}),children:o})})),ep=n(92203),em=n(21014),eh=n(86866),ef=function(e){var t,n,r,s,a=e.children,i=(0,d.lL)(),o=(0,l.useRouter)(),c=(0,f.UO)().slug,u=null===(t=o.asPath.split("/").at(-1))||void 0===t?void 0:null===(n=t.split("?")[0])||void 0===n?void 0:n.split("#")[0],p=(0,d.N3)("billing:invoices");return(0,d.P5)("navigationLayoutV2")?(0,v.jsx)(N,{children:a}):(0,v.jsxs)($,{title:null!==(r=null==i?void 0:i.name)&&void 0!==r?r:"Supabase",breadcrumbs:[{key:"org-settings",label:"Settings"}],children:[(0,v.jsxs)(eh.tU,{children:[(0,v.jsx)(eh._S,{id:"billing-page-top",children:(0,v.jsxs)(eh.q7,{children:[null!==(s=null==i?void 0:i.name)&&void 0!==s?s:"Organization"," settings"]})}),(0,v.jsx)(eh._S,{children:(0,v.jsx)("nav",{children:(0,v.jsxs)(em.Z,{listClassNames:"border-none",size:"small",type:"underlined",activeId:u,onChange:function(e){o.push("/org/".concat(c,"/").concat(e))},children:[(0,v.jsx)(em.Z.Panel,{id:"general",label:"General",className:"!my-0"}),(0,v.jsx)(em.Z.Panel,{id:"team",label:"Team",className:"!my-0"}),(0,v.jsx)(em.Z.Panel,{id:"integrations",label:"Integrations",className:"!my-0"}),(0,v.jsx)(em.Z.Panel,{id:"billing",label:"Billing",className:"!my-0"}),(0,v.jsx)(em.Z.Panel,{id:"usage",label:"Usage",className:"!my-0"}),p&&(0,v.jsx)(em.Z.Panel,{id:"invoices",label:"Invoices",className:"!my-0"}),(0,v.jsx)(em.Z.Panel,{id:"apps",label:"OAuth Apps",className:"!my-0"}),(0,v.jsx)(em.Z.Panel,{id:"audit",label:"Audit Logs",className:"!my-0"}),(0,v.jsx)(em.Z.Panel,{id:"documents",label:"Legal Documents",className:"!my-0"})]})})})]}),(0,v.jsx)(eh.I7,{}),a]})},eg=n(4300),ex=n(25208),eb=n(35981),ev=n(95223),ej=n(87471),ey=n(90861),ew=n(21806),ek=function(){var e,t,n,r,s,a,i=(0,f.UO)().ref,o=(0,l.useRouter)(),c=(0,ej.q)().data,u=null===(e=null!=c?c:[])||void 0===e?void 0:e.find(function(e){return e.project===i}),d=void 0!==u?u.is_readonly_mode_enabled?["is_readonly_mode_enabled"]:Object.keys(u).filter(function(e){return"project"!==e&&"is_readonly_mode_enabled"!==e&&null!==u[e]}):[],p=void 0!==u&&d.some(function(e){return"critical"===u[e]}),m=d.includes("is_readonly_mode_enabled")||p,h=void 0!==u?(0,ew.L)(u,d[0],"bannerContent"):void 0,g=d.length>1?ey.x.multiple_resource_warnings.bannerContent[p?"critical":"warning"].title:null==h?void 0:h.title,x=d.length>1?ey.x.multiple_resource_warnings.bannerContent[p?"critical":"warning"].description:null==h?void 0:h.description,j=d.length>1?ey.x.multiple_resource_warnings.docsUrl:null===(t=ey.x[d[0]])||void 0===t?void 0:t.docsUrl,y=d.length>1?ey.x.multiple_resource_warnings.metric:null===(n=ey.x[d[0]])||void 0===n?void 0:n.metric,w=null===(r=void 0===y?void 0:null===y?"/project/[ref]/settings/[infra-path]":"disk_space"===y||"read_only"===y?"/project/[ref]/settings/database":"/project/[ref]/settings/[infra-path]#".concat(y))||void 0===r?void 0:null===(s=r.replace("[ref]",null!=i?i:"default"))||void 0===s?void 0:s.replace("[infra-path]","infrastructure"),k=d.length>1?ey.x.multiple_resource_warnings.buttonText:null===(a=ey.x[d[0]])||void 0===a?void 0:a.buttonText;return 0===d.length||void 0===h||(o.pathname.endsWith("/usage")||o.pathname.endsWith("/infrastructure"))&&!d.includes("is_readonly_mode_enabled")||d.includes("is_readonly_mode_enabled")&&o.pathname.endsWith("settings/database")?null:(0,v.jsxs)(ex.bZ,{variant:m?"destructive":"warning",className:"border-0 border-r-0 rounded-none [&>svg]:left-6 px-6 [&>svg]:w-[26px]\n[&>svg]:h-[26px]",children:[(0,v.jsx)(eb.Z,{}),(0,v.jsx)(ex.Cd,{children:g}),(0,v.jsx)(ex.X,{children:x}),(0,v.jsxs)("div",{className:"absolute top-5 right-5 flex items-center space-x-2",children:[void 0!==j&&(0,v.jsx)(ea.z,{asChild:!0,type:"default",icon:(0,v.jsx)(ev.Z,{}),children:(0,v.jsx)(b(),{href:j,children:"Learn more"})}),void 0!==w&&(0,v.jsx)(ea.z,{asChild:!0,type:"default",children:(0,v.jsx)(b(),{href:w,children:null!=k?k:"Check"})})]})]})},eN=n(81333),eO=n(88883),eS=n(63955),eP=n(36849),eC=n(16473),eE=n(74160),eZ=n(61422),e_=n(30195),eI=n(46920),eL=n(45812),eD=n(22812),eA=n(93615),eT=n(50928),eR=n(87875),ez=n(44172),eF=n(50077),eU=n(29027),eM=n(97346),eB=n(10209),eq=n(59485);function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eG=function(e){var t=e.form,n=e.isChecking,r=e.isValid,s=e.integration,a=e.hasGithubIntegrationInstalled,i=(0,f.UO)().ref,o=(0,d.lL)(),c=null==s?void 0:s.connections.find(function(e){return e.supabase_project_ref===i}),l=(0,eq.x5)();function u(){s&&(l.setGithubConnectionsOpen(!0),l.setGithubConnectionsIntegrationId(s.id))}return(0,v.jsx)("div",{className:(0,g.default)("border-t border-b",a?"":"border-warning-300 bg-warning-200"),children:(0,v.jsx)(eP.C.Content,{className:"px-7",children:(0,v.jsxs)("div",{className:"py-6",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("p",{children:"Git Connection"}),(0,v.jsx)(S.Z,{color:"amber",children:"Required"})]}),(0,v.jsx)("p",{className:"text-sm text-foreground-light !mb-4",children:void 0!==c?"Your database preview branches will be based on the branches in the following repository that your project is connected with:":"Your database preview branches will be based on the branches in the Git repository that your project is connected with."}),!a&&(0,v.jsx)(ea.z,{asChild:!0,type:"default",className:"!mt-3",children:(0,v.jsx)(b(),{href:"https://github.com/apps/supabase/installations/new?state=".concat(i),children:"Install Github Integration"})}),a&&!c&&(0,v.jsx)(eB.FP,{showNode:!1,onClick:function(){return u()},orgSlug:null==o?void 0:o.slug}),s&&c&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("ul",{className:"mb-3",children:(0,v.jsx)(eB.jA,{type:"GitHub",connection:c,showNode:!1,actions:(0,v.jsx)(ea.z,{type:"default",onClick:function(){return u()},children:"Configure connection"}),orientation:"vertical"})}),(0,v.jsx)(eC.Wi,{control:t.control,name:"branchName",render:function(e){var t=e.field;return(0,v.jsxs)(eC.xJ,{className:"relative",children:[(0,v.jsx)("label",{className:"text-sm text-foreground-light",children:"Choose your production branch"}),(0,v.jsx)(eC.NI,{children:(0,v.jsx)(eF.I,eV(eV({},t),{},{placeholder:"e.g main"}))}),(0,v.jsx)("div",{className:"absolute top-9 right-3",children:n?(0,v.jsx)(eU.Z,{className:"animate-spin"}):r?(0,v.jsx)(eM.Z,{className:"text-brand",strokeWidth:2}):null}),(0,v.jsx)(eC.zG,{})]})}})]})]})})})};function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eQ=function(){var e,t,n,r=(0,d.oR)().ui,a=(0,f.UO)().ref,o=(0,ez.WZ)(),c=(0,d.lL)(),l=(0,C.useState)(!1),u=l[0],p=l[1],m=(0,eR.T)({orgSlug:null==c?void 0:c.slug}),h=m.data,g=m.error,x=m.isLoading,b=m.isSuccess,j=m.isError,y=null!==(t=null==h?void 0:h.some(function(e){return"GitHub"===e.integration.name}))&&void 0!==t&&t,w=null==h?void 0:h.find(function(e){return"GitHub"===e.integration.name&&e.organization.slug===(null==c?void 0:c.slug)}),k=null==w?void 0:w.connections.find(function(e){return e.supabase_project_ref===a}),N=null!==(n=null==k?void 0:k.metadata.name.split("/"))&&void 0!==n?n:[],O=(0,eN.Z)(N,2),S=O[0],P=O[1],E=(0,eT.s)({onError:function(){}}),Z=E.mutateAsync,_=E.isLoading,I=(0,eA.J)({onSuccess:function(){r.setNotification({category:"success",message:"Successfully created new branch"}),o.setShowEnableBranchingModal(!1)}}),L=I.mutate,D=I.isLoading,A="enable-branching-form",T=e_.Ry({branchName:e_.Z_().refine(function(e){return e.length>1},"Please enter a branch name from ".concat(S,"/").concat(P)).refine((e=(0,s.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.length>0)){e.next=5;break}return e.next=4,Z({organizationIntegrationId:null==w?void 0:w.id,repoOwner:S,repoName:P,branchName:t});case 4:p(!0);case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),p(!1),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(t){return e.apply(this,arguments)}),"Unable to find branch from ".concat(S,"/").concat(P))}),R=(0,eS.cI)({mode:"onBlur",reValidateMode:"onChange",resolver:(0,eO.F)(T),defaultValues:{branchName:""}}),z=R.getValues("branchName").length>0&&!_&&u;return(0,C.useEffect)(function(){R&&o.showEnableBranchingModal&&(p(!1),R.reset())},[R,o.showEnableBranchingModal]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(eP.C,{hideFooter:!0,visible:o.showEnableBranchingModal,onCancel:function(){return o.setShowEnableBranchingModal(!1)},className:"!bg",size:"medium",children:(0,v.jsx)(eC.l0,eY(eY({},R),{},{children:(0,v.jsxs)("form",{id:A,onSubmit:R.handleSubmit(function(e){if(!a)return console.error("Project ref is required");L({projectRef:a,branchName:e.branchName,gitBranch:e.branchName})}),onChange:function(){return p(!1)},children:[(0,v.jsxs)(eP.C.Content,{className:"px-7 py-5 flex items-center space-x-4",children:[(0,v.jsx)(eE.Z,{strokeWidth:2,size:20}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"text-foreground",children:"Enable database branching"}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Manage environments in Supabase"})]})]}),x&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(eP.C.Separator,{}),(0,v.jsx)(eP.C.Content,{className:"px-7 py-6",children:(0,v.jsx)(eD.A,{})}),(0,v.jsx)(eP.C.Separator,{})]}),j&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(eP.C.Separator,{}),(0,v.jsx)(eP.C.Content,{className:"px-7 py-6",children:(0,v.jsx)(eL.Z,{error:g,subject:"Failed to retrieve integrations"})}),(0,v.jsx)(eP.C.Separator,{})]}),b&&(0,v.jsx)(eG,{form:R,isChecking:_,isValid:z,integration:w,hasGithubIntegrationInstalled:y}),(0,v.jsxs)(eP.C.Content,{className:"px-7 py-6 flex flex-col gap-3",children:[(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Please keep in mind the following:"}),(0,v.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,v.jsx)("div",{children:(0,v.jsx)("figure",{className:"w-10 h-10 rounded-md bg-warning-200 border border-warning-300 flex items-center justify-center",children:(0,v.jsx)(eZ.Z,{className:"text-amber-900",size:20,strokeWidth:2})})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"text-sm text-foreground",children:"You will not be able to use the dashboard to make changes to the database"}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Schema changes for database preview branches must be done via Git. We are nonetheless working on allowing the dashboard to make schema changes for preview branches."})]})]})]}),(0,v.jsx)(eP.C.Separator,{}),(0,v.jsx)(eP.C.Content,{className:"px-7",children:(0,v.jsxs)("div",{className:"flex items-center space-x-2 py-2 pb-4",children:[(0,v.jsx)(ea.z,{size:"medium",block:!0,disabled:D,type:"default",onClick:function(){return o.setShowEnableBranchingModal(!1)},children:"Cancel"}),(0,v.jsx)(ea.z,{block:!0,size:"medium",form:A,disabled:D||!z,loading:D,type:"primary",htmlType:"submit",children:"I understand, enable branching"})]})})]})}))}),(0,v.jsx)(eI.Z,{projectRef:a})]})},eK=n(55830),eX=n(62875),e$=n(77407),eJ=n(50527),e0=n(96980),e1=n(43276),e2=n(40186),e4=n(29298),e3=n(37552);function e5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e5(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e8=function(){var e=(0,f.UO)().ref,t=(0,d.Vm)(),n=(0,eK.NL)(),r=(0,C.useRef)();function a(){return o.apply(this,arguments)}function o(){return(o=(0,s.Z)(i().mark(function s(){var a;return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,(0,e3.GC)("".concat(m.T5,"/projects/").concat(t.ref,"/status"),{timeout:2e3});case 4:if(!((a=s.sent)&&!a.error)||a.status!==m.S.ACTIVE_HEALTHY){s.next=14;break}if(clearInterval(r.current),!e){s.next=12;break}return s.next=12,(0,e2.H0)(n,e);case 12:return s.next=14,(0,e4.fr)(n);case 14:case"end":return s.stop()}},s)}))).apply(this,arguments)}return((0,C.useEffect)(function(){return r.current=window.setInterval(a,4e3),function(){clearInterval(r.current)}},[]),void 0===t)?null:(0,v.jsxs)("div",{className:"mx-auto my-16 w-full max-w-7xl items-center justify-center",children:[(0,v.jsxs)("div",{className:"mx-6 flex flex-col space-y-16",children:[(0,v.jsxs)("div",{className:" flex flex-col gap-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsx)("h1",{className:"text-3xl text-foreground",children:null==t?void 0:t.name}),(0,v.jsx)(S.Z,{color:"brand",children:(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(eU.Z,{className:"animate-spin",size:12}),(0,v.jsx)("span",{children:t.status===m.S.UNKNOWN?"Initiating project set up":"Setting up project"})]})})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"text-sm text-foreground-light",children:[" ","We are provisioning your database and API endpoints"]}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:" This may take a few minutes"})]})]}),(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:" grid grid-cols-12 gap-12",children:[(0,v.jsxs)("div",{className:"col-span-12 space-y-12 lg:col-span-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h4",{className:"text-base text-foreground",children:"While you wait"}),(0,v.jsx)(e9,{description:(0,v.jsxs)("p",{className:"text-sm text-foreground-light",children:["Browse the Supabase"," ",(0,v.jsx)(b(),{href:"https://supabase.com/docs",className:"mb-0 text-brand transition-colors hover:text-brand-600",target:"_blank",rel:"noreferrer",children:"documentation"}),"."]})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h4",{className:"text-base text-foreground",children:"Not working?"}),(0,v.jsx)(e9,{description:(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Try refreshing after a couple of minutes."})}),(0,v.jsx)("ul",{children:(0,v.jsx)(e9,{description:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{className:"mb-4 text-sm text-foreground-light",children:"If your dashboard hasn't connected within 2 minutes, you can open a support ticket."}),(0,v.jsx)(ea.z,{asChild:!0,type:"default",children:(0,v.jsx)(b(),{href:"/support/new",children:"Contact support team"})})]})})})]})]}),(0,v.jsxs)("div",{className:"col-span-12  lg:col-span-8",children:[(0,v.jsx)(e1.D,{}),(0,v.jsx)(e1.m,{})]})]})})]}),t.status===m.S.COMING_UP&&(0,v.jsxs)("div",{className:"mx-auto my-16 w-full max-w-7xl space-y-16",children:[(0,v.jsxs)("div",{className:"space-y-8",children:[(0,v.jsx)("div",{className:"mx-6",children:(0,v.jsx)("h5",{children:"Client libraries"})}),(0,v.jsx)("div",{className:"mx-6 mb-12 grid gap-12 md:grid-cols-3",children:eJ.l.map(function(e){return(0,v.jsx)(eX.Z,e6({},e),e.language)})})]}),(0,v.jsxs)("div",{className:"space-y-8",children:[(0,v.jsx)("div",{className:"mx-6",children:(0,v.jsx)("h5",{children:"Example projects"})}),(0,v.jsx)("div",{className:"mx-6 grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:eJ.B.map(function(e){return(0,v.jsx)(e$.Z,e6({},e),e.url)})})]})]})]})},e9=function(e){var t=e.description;return(0,v.jsxs)("li",{className:"my-3 flex flex-wrap space-x-3",children:[(0,v.jsx)("div",{className:"mt-0.5",children:(0,v.jsx)(e0.Z,{className:"text-foreground-lighter",size:"tiny"})}),(0,v.jsx)("div",{className:"flex-1",children:t})]})},e7=n(13531),te=n(29586);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var tn=function(e){return(0,v.jsx)(Z.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:te.Z},e))},tr=n(87183),ts=n(4678),ta=n.n(ts);function ti(){return(ti=(0,s.Z)(i().mark(function e(t,n){var r,s,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",!1);case 2:if(s=(r=null!=n?n:{}).kpsVersion,a=r.timeout,!ta().gte(ta().coerce(null!=s?s:"kps-v0.0.1"),ta().coerce("kps-v3.8.6"))){e.next=8;break}return e.abrupt("return",function(e,t){return tc.apply(this,arguments)}(t,a));case 8:return e.abrupt("return",function(e,t){return to.apply(this,arguments)}(t,a));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function to(){return(to=(0,s.Z)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e3.pu)("".concat(m.T5,"/projects/").concat(t,"/api/rest"),[],{timeout:null!=n?n:2e3});case 2:return r=e.sent.error,e.abrupt("return",void 0===r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tc(){return(tc=(0,s.Z)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e3.GC)("".concat(m.T5,"/projects/").concat(t,"/live"),{timeout:null!=n?n:2e3});case 2:return r=e.sent.error,e.abrupt("return",void 0===r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var tl=function(e){var t,n=e.project,r=(0,f.UO)().ref,a=(0,eK.NL)(),o=(0,C.useRef)();(0,C.useEffect)(function(){if(n.restUrl)return o.current=window.setInterval(c,4e3),function(){clearInterval(o.current)}},[n]);var c=(t=(0,s.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e,t){return ti.apply(this,arguments)}(n.ref,{kpsVersion:n.kpsVersion});case 2:e.sent&&(clearInterval(o.current),(0,e4.Ob)(a,n.ref,"ONLINE"));case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"mx-auto my-16 w-full max-w-7xl space-y-16",children:(0,v.jsxs)("div",{className:"mx-6 space-y-16",children:[(0,v.jsxs)("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:space-y-0 lg:space-x-6",children:[(0,v.jsx)("h1",{className:"text-3xl",children:n.name}),(0,v.jsx)("div",{children:(0,v.jsx)(S.Z,{color:"brand",children:(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(eU.Z,{className:"animate-spin",size:12}),(0,v.jsx)("span",{children:"Connecting to project"})]})})})]}),(0,v.jsx)("div",{className:"flex h-[500px] items-center justify-center rounded border border-overlay bg-surface-100 p-8",children:(0,v.jsxs)("div",{className:"w-[440px] space-y-4",children:[(0,v.jsxs)("div",{className:"mx-auto flex max-w-[300px] items-center justify-center",children:[(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-md border",children:(0,v.jsx)(e7.Z,{className:"text-foreground-light",size:30,strokeWidth:1.5})})}),(0,v.jsx)(tr.Z,{active:!0}),(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-md border",children:(0,v.jsx)(tn,{className:"text-foreground-light",size:30,strokeWidth:1.5})})})]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsxs)("p",{className:"text-center",children:["Connecting to ",n.name]}),(0,v.jsx)("p",{className:"text-center text-sm text-foreground-light",children:"If you are unable to connect after a few minutes, check your project's health to verify if it's running into any resource constraints."})]}),(0,v.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,v.jsx)(ea.z,{asChild:!0,type:"default",children:(0,v.jsx)(b(),{href:"/project/".concat(r,"/settings/infrastructure"),children:"Check database health"})}),(0,v.jsx)(ea.z,{asChild:!0,type:"default",icon:(0,v.jsx)(ev.Z,{strokeWidth:1.5}),children:(0,v.jsx)(b(),{href:"https://supabase.com/docs/guides/platform/troubleshooting#unable-to-connect-to-your-supabase-project",className:"translate-y-[1px]",children:"Troubleshooting"})})]})]})})]})})})},tu=function(){var e,t=(0,f.UO)().ref,n=(0,e4.Sy)(),r=n.data,s=n.isLoading,a="default"!==t?null==r?void 0:null===(e=r.find(function(e){return e.ref===t}))||void 0===e?void 0:e.name:"Welcome to your project";return(0,v.jsxs)("div",{className:"w-full mx-auto my-16 space-y-16 max-w-7xl",children:[(0,v.jsx)("div",{className:"flex items-center mx-6 space-x-6",children:s?(0,v.jsx)(eD.Z,{className:"h-9 w-40"}):(0,v.jsx)("h1",{className:"text-3xl",children:a})}),(0,v.jsxs)("div",{className:"mx-6 space-y-4",children:[(0,v.jsx)(eD.Z,{className:"w-40 h-7"}),(0,v.jsxs)("div",{className:"flex md:gap-4 lg:gap-8",children:[(0,v.jsx)(eD.Z,{className:"w-full h-[304px]"}),(0,v.jsx)(eD.Z,{className:"w-full h-[304px]"}),(0,v.jsx)(eD.Z,{className:"w-full h-[304px]"}),(0,v.jsx)(eD.Z,{className:"w-full h-[304px]"})]})]}),(0,v.jsxs)("div",{className:"mx-6 space-y-4",children:[(0,v.jsx)(eD.Z,{className:"w-40 h-7"}),(0,v.jsx)(eD.Z,{className:"w-full h-32"})]})]})},td=n(24990),tp=n(33025),tm=n(38617),th=n(40250),tf=n(87138),tg=n(55210),tx=n(15008),tb=n(93306),tv=n(2653),tj=n(50071),ty=n(73547),tw=n(210),tk=n(97064),tN=n(90394),tO=n(89760),tS=n(37690),tP=function(e,t,n){var r=(null==t?void 0:t.status)===m.S.COMING_UP,s="/project/".concat(e,"/building");return[{key:"editor",label:"Table Editor",icon:(0,v.jsx)(eo.Z,{src:"".concat(m.GW,"/img/table-editor.svg"),style:{width:"".concat(18,"px"),height:"".concat(18,"px")},preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}),link:e&&(r?s:"/project/".concat(e,"/editor"))},{key:"sql",label:"SQL Editor",icon:(0,v.jsx)(eo.Z,{src:"".concat(m.GW,"/img/sql-editor.svg"),style:{width:"".concat(18,"px"),height:"".concat(18,"px"),strokeWidth:"4"},preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}),link:m.Qy?e&&(r?s:n?"/project/".concat(e,"/sql/new"):"/project/".concat(e,"/sql/templates")):"/project/".concat(e,"/sql/1")}]},tC=function(e,t,n){var s,a,i,o,c=(null==t?void 0:t.status)===m.S.COMING_UP,l="/project/".concat(e,"/building"),u=null===(s=null==n?void 0:n.auth)||void 0===s||s,d=null===(a=null==n?void 0:n.edgeFunctions)||void 0===a||a,p=null===(i=null==n?void 0:n.storage)||void 0===i||i,h=null===(o=null==n?void 0:n.realtime)||void 0===o||o;return[{key:"database",label:"Database",icon:(0,v.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:tN.RB.database.icon[18],stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}),link:e&&(c?l:"/project/".concat(e,"/database/tables"))}].concat((0,r.Z)(u?[{key:"auth",label:"Authentication",icon:(0,v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:tN.RB.authentication.icon[24],stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}),link:e&&(c?l:"/project/".concat(e,"/auth/users"))}]:[]),(0,r.Z)(p?[{key:"storage",label:"Storage",icon:(0,v.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:tN.RB.storage.icon[18],stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}),link:e&&(c?l:"/project/".concat(e,"/storage/buckets"))}]:[]),(0,r.Z)(m.Qy&&d?[{key:"functions",label:"Edge Functions",icon:(0,v.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:tN.RB.functions.icon[18],stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}),link:e&&(c?l:"/project/".concat(e,"/functions"))}]:[]),(0,r.Z)(m.Qy&&h?[{key:"realtime",label:"Realtime",icon:(0,v.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:tN.RB.realtime.icon[18],stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}),link:e&&(c?l:"/project/".concat(e,"/realtime/inspector"))}]:[]))},tE=function(e,t){var n=(null==t?void 0:t.status)===m.S.COMING_UP,s="/project/".concat(e,"/building");return[].concat((0,r.Z)(m.Qy?[{key:"reports",label:"Reports",icon:(0,v.jsx)(tO.Z,{size:18,strokeWidth:2.5}),link:e&&(n?s:"/project/".concat(e,"/reports"))}]:[]),[{key:"logs",label:"Logs",icon:(0,v.jsx)(tS.Z,{size:18,strokeWidth:2.5}),link:e&&(n?s:"/project/".concat(e,"/logs/explorer"))},{key:"api",label:"API Docs",icon:(0,v.jsx)(eZ.Z,{size:18,strokeWidth:2}),link:e&&(n?s:"/project/".concat(e,"/api"))}],(0,r.Z)(m.Qy?[{key:"settings",label:"Project Settings",icon:(0,v.jsx)(tj.Z,{size:18,strokeWidth:2.5}),link:e&&"/project/".concat(e,"/settings/general")}]:[]))},tZ=function(e){var t=e.condition,n=e.children,r=e.wrap;return t?(0,C.cloneElement)(r(n)):n},t_=function(e){var t=e.route,n=e.isActive;return(0,v.jsxs)(td.fC,{delayDuration:0,children:[(0,v.jsx)(td.xz,{children:(0,v.jsx)(tZ,{condition:void 0!==t.link,wrap:function(e){return(0,v.jsx)(b(),{href:t.link,children:e})},children:(0,v.jsx)("span",{className:["transition-colors duration-200","flex items-center justify-center h-10 w-10 rounded","bg-background hover:bg-overlay-hover","text-foreground-lighter hover:text-foreground ","".concat(void 0!==n&&n?"bg-selection shadow-sm text-foreground":"")].join(" "),children:t.icon})})}),(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"right",sideOffset:5,children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"bg-alternative shadow-lg shadow-background-surface-100	py-1.5 px-3 rounded leading-none border border-default",children:(0,v.jsx)("span",{className:"text-foreground text-xs",children:t.label})})]})})]})},tI=function(){var e=(0,tw.fV)(),t=(0,l.useRouter)(),n=(0,ez.WZ)(),r=(0,tm.F)(),s=r.theme,a=r.setTheme,i=(0,f.UO)().ref,o=(0,th.f$)().setIsOpen,c=(0,tk.d2)().project,u=(0,d.P5)("navigationLayoutV2"),p=(0,d.P5)("sqlEditorSupabaseAI"),h=(0,d.P5)("featurePreviews"),g=(0,eu.cg)(),x=(0,d.N3)(["project_auth:all","project_edge_function:all","project_storage:all","realtime:all"]),j=x.projectAuthAll,y=x.projectEdgeFunctionAll,k=x.projectStorageAll,N=x.realtimeAll,O=(0,d.P5)("realtimeDashboard"),S=t.pathname.split("/")[3],P=tP(i,c,p),C=tC(i,c,{auth:j,edgeFunctions:y,storage:k,realtime:N&&O}),E=tE(i,c);return(0,v.jsxs)("div",{className:"flex w-14 flex-col justify-between overflow-y-hidden p-2 border-r bg-background border-default",children:[(0,v.jsxs)("ul",{className:"flex flex-col space-y-2",children:[(!u||!m.Qy)&&(0,v.jsx)(b(),{href:m.Qy?"/projects":"/project/".concat(i),className:"block",children:(0,v.jsx)("img",{src:"".concat(t.basePath,"/img/supabase-logo.svg"),alt:"Supabase",className:"mx-auto h-[40px] w-6 cursor-pointer rounded"})}),(0,v.jsx)(t_,{isActive:(0,w.isUndefined)(S)&&!(0,w.isUndefined)(t.query.ref),route:{key:"HOME",label:"Home",icon:(0,v.jsx)(tf.Z,{size:18,strokeWidth:2}),link:"/project/".concat(i)}}),(0,v.jsx)("div",{className:"bg-border h-px w-full"}),P.map(function(e){return(0,v.jsx)(t_,{route:e,isActive:S===e.key},e.key)}),(0,v.jsx)("div",{className:"bg-border h-px w-full"}),C.map(function(e){return(0,v.jsx)(t_,{route:e,isActive:S===e.key},e.key)}),(0,v.jsx)("div",{className:"h-px w-full bg-border"}),E.map(function(e){return"api"===e.key&&g?(0,v.jsxs)(td.fC,{delayDuration:0,children:[(0,v.jsx)(td.xz,{asChild:!0,children:(0,v.jsx)(ea.z,{type:"text",size:"tiny",onClick:function(){return n.setShowProjectApiDocs(!0)},className:"border-none group",children:(0,v.jsx)("div",{className:"py-[7px]",children:(0,v.jsx)(eZ.Z,{size:18,strokeWidth:2,className:"transition text-foreground-lighter group-hover:text-foreground"})})})}),(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"right",children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"bg-alternative shadow-lg shadow-background-surface-100	py-1.5 px-3 rounded leading-none border border-default",children:(0,v.jsx)("span",{className:"text-foreground text-xs",children:"Project API Docs"})})]})})]},e.key):(0,v.jsx)(t_,{route:e,isActive:S===e.key},e.key)})]}),!u&&(0,v.jsxs)("ul",{className:"flex flex-col space-y-4 items-center",children:[m.Qy&&(0,v.jsxs)(td.fC,{delayDuration:0,children:[(0,v.jsx)(td.xz,{asChild:!0,children:(0,v.jsx)(ea.z,{type:"text",size:"tiny",onClick:function(){return o(!0)},className:"border-none",children:(0,v.jsx)("div",{className:"py-1",children:(0,v.jsx)(tg.Z,{size:18,strokeWidth:2,className:"text-foreground-lighter"})})})}),(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"right",sideOffset:5,children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsxs)("div",{className:"bg-alternative shadow-lg shadow-background-surface-100	py-1.5 px-3 rounded leading-none border border-default flex items-center gap-1",children:["macos"===e?(0,v.jsx)(tx.Z,{size:11.5,strokeWidth:1.5,className:"text-foreground"}):(0,v.jsx)("p",{className:"text-xs",children:"CTRL"}),(0,v.jsx)("p",{className:"text-xs",children:"K"})]})]})})]}),(0,v.jsxs)(tb.h_,{children:[(0,v.jsx)(tb.$F,{children:(0,v.jsx)(ea.z,{asChild:!0,type:"text",size:"tiny",children:(0,v.jsx)("span",{className:"py-1 h-10 border-none",children:(0,v.jsx)(tv.Z,{size:18,strokeWidth:2,className:"text-foreground-lighter"})})})}),(0,v.jsxs)(tb.AW,{side:"right",align:"start",children:[m.Qy&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(tb.Xi,{className:"space-x-2",asChild:!0,children:(0,v.jsxs)(b(),{href:"/account/me",children:[(0,v.jsx)(tj.Z,{size:14,strokeWidth:1.5}),(0,v.jsx)("p",{children:"Account preferences"})]})},"header"),h&&(0,v.jsxs)(tb.Xi,{className:"space-x-2",onClick:function(){return n.setShowFeaturePreviewModal(!0)},onSelect:function(){return n.setShowFeaturePreviewModal(!0)},children:[(0,v.jsx)(tp.Z,{size:14,strokeWidth:2}),(0,v.jsx)("p",{children:"Feature previews"})]},"header"),(0,v.jsx)(tb.VD,{})]}),(0,v.jsx)(tb.Ju,{children:"Theme"}),(0,v.jsx)(tb.Qk,{children:(0,v.jsx)(tb._x,{value:s,onValueChange:function(e){a(e)},children:ty.n.map(function(e){return(0,v.jsx)(tb.qB,{value:e.value,children:e.name},e.value)})})})]})]})]})]})},tL=n(57561);function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var tA=function(e){return(0,v.jsx)(Z.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:tL.Z},e))},tT=n(82269),tR=n(58943),tz=n(81229),tF=n(37946),tU=["enabled"];function tM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tB(){return(tB=(0,s.Z)(i().mark(function e(t,n){var r,s,a,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw Error("Project ref is required");case 3:return e.next=5,(0,tz.U2)("/platform/projects/{ref}/status",{params:{path:{ref:r}},signal:n});case 5:if(a=(s=e.sent).data,!(o=s.error)){e.next=10;break}throw o;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var tq=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,s=(0,tT.Z)(n,tU);return(0,tR.a)(tF.i.status(t),function(e){return function(e,t){return tB.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tM(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===r||r)&&void 0!==t},s))},tW=function(e){var t,n=e.project,r=(0,f.UO)().ref,a=(0,eK.NL)(),o=(0,C.useState)(!1),c=o[0],l=o[1];return tq({projectRef:r},{enabled:c,refetchInterval:function(e){return(null==e?void 0:e.status)!==m.S.INACTIVE&&2e3},onSuccess:(t=(0,s.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.status!==m.S.INACTIVE){e.next=6;break}if(!r){e.next=4;break}return e.next=4,(0,e2.H0)(a,r);case 4:return e.next=6,(0,e4.fr)(a);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}),(0,C.useEffect)(function(){setTimeout(function(){return l(!0)},4e3)},[]),(0,v.jsx)("div",{className:"mx-auto my-16 w-full max-w-7xl space-y-16",children:(0,v.jsxs)("div",{className:"mx-6 space-y-16",children:[(0,v.jsxs)("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:space-y-0 lg:space-x-6",children:[(0,v.jsx)("h1",{className:"text-3xl",children:n.name}),(0,v.jsx)("div",{children:(0,v.jsx)(S.Z,{color:"gray",children:(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(eU.Z,{className:"animate-spin",size:12}),(0,v.jsx)("span",{children:"Pausing project"})]})})})]}),(0,v.jsx)("div",{className:"mx-auto mt-8 mb-16 w-full max-w-7xl",children:(0,v.jsx)("div",{className:"mx-6 flex h-[500px] items-center justify-center rounded border border-overlay bg-surface-100 p-8",children:(0,v.jsxs)("div",{className:"grid w-[380px] gap-4",children:[(0,v.jsxs)("div",{className:"relative mx-auto max-w-[300px]",children:[(0,v.jsx)("div",{className:"absolute flex h-full w-full items-center justify-center",children:(0,v.jsx)(eU.Z,{className:"animate-spin",size:20,strokeWidth:2})}),(0,v.jsx)(tA,{className:"text-foreground-lighter",size:50,strokeWidth:1.5})]}),(0,v.jsxs)("p",{className:"text-center",children:["Pausing ",n.name]}),(0,v.jsx)("p",{className:"mt-4 text-center text-sm text-foreground-light",children:"You may restore your project anytime thereafter, and your data will be restored to when it was initially paused."})]})})})]})})},tV=function(e){var t=e.title,n=e.children;return(0,v.jsxs)("div",{className:"hide-scrollbar flex w-64 flex-col border-r bg-background border-default ",children:[(0,v.jsx)("div",{className:"border-default flex max-h-12 items-center border-b px-6",style:{minHeight:"3rem"},children:(0,v.jsx)("h4",{className:"text-lg",children:t})}),(0,v.jsx)("div",{className:"flex-grow overflow-y-auto",style:{maxHeight:"calc(100vh - 96px)"},children:n})]})},tG=n(47796),tH=n(64440),tY=n(23733),tQ=function(){var e,t=(0,f.UO)().ref,n=(0,d.oR)().meta,r=(0,eK.NL)(),a=(0,tk.d2)().project,o=(0,C.useRef)(),c=(0,C.useState)(!1),l=c[0],u=c[1],p=(0,C.useState)(!1),h=p[0],g=p[1],x=(0,C.useState)(!1),j=x[0],y=x[1];function w(){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(i().mark(function e(){var t,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,e3.GC)("".concat(m.T5,"/projects/").concat(a.ref,"/status"),{timeout:2e3});case 4:(t=e.sent)&&!t.error&&((n=t.status)===m.S.RESTORATION_FAILED?(clearInterval(o.current),g(!0)):n===m.S.ACTIVE_HEALTHY&&(clearInterval(o.current),y(!0)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}(0,C.useEffect)(function(){return o.current=window.setInterval(w,4e3),function(){return clearInterval(o.current)}},[]);var N=(e=(0,s.Z)(i().mark(function e(){var s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",console.error("Project is required"));case 2:return u(!0),e.next=5,(0,e2.T)({ref:null==a?void 0:a.ref});case 5:if((s=e.sent)&&n.setProjectDetails(s),!t){e.next=10;break}return e.next=10,(0,e2.H0)(r,t);case 10:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,v.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,v.jsx)("div",{className:"bg-surface-100 border border-overlay rounded-md w-3/4 lg:w-1/2",children:j?(0,v.jsxs)("div",{className:"space-y-6 pt-6",children:[(0,v.jsxs)("div",{className:"flex px-8 space-x-8",children:[(0,v.jsx)("div",{className:"mt-1",children:(0,v.jsx)(tH.Z,{className:"text-brand",size:18,strokeWidth:2})}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("p",{children:"Restoration complete!"}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Your project has been successfully restored and is now back online."})]})]}),(0,v.jsx)("div",{className:"border-t border-overlay flex items-center justify-end py-4 px-8",children:(0,v.jsx)(ea.z,{disabled:l,loading:l,onClick:N,children:"Return to project"})})]}):h?(0,v.jsxs)("div",{className:"space-y-6 pt-6",children:[(0,v.jsxs)("div",{className:"flex px-8 space-x-8",children:[(0,v.jsx)("div",{className:"mt-1",children:(0,v.jsx)(tY.Z,{size:18,strokeWidth:2})}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("p",{children:"Something went wrong while restoring your project"}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Our engineers have already been notified of this, do hang tight while we are investigating into the issue."})]})]}),h&&(0,v.jsx)("div",{className:"border-t border-overlay flex items-center justify-end py-4 px-8",children:(0,v.jsx)(ea.z,{asChild:!0,type:"default",children:(0,v.jsx)(b(),{href:"/support/new?category=Database_unresponsive&ref=".concat(null==a?void 0:a.ref,"&subject=Restoration%20failed%20for%20project"),children:"Contact support"})})})]}):(0,v.jsx)("div",{className:"space-y-6 py-6",children:(0,v.jsxs)("div",{className:"flex px-8 space-x-8",children:[(0,v.jsx)("div",{className:"mt-1",children:(0,v.jsx)(eU.Z,{className:"animate-spin",size:18})}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("p",{children:"Restoration in progress"}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Restoration can take from a few minutes up to several hours depending on the size of your database. Your project will be offline while the restoration is running."})]})]})})})})},tK=n(63059),tX=n(28879),t$=n.n(tX),tJ=n(59476),t0=n(63060),t1=n(93407),t2=[{key:tK.L9.Started,initial:"Prepare new server",progress:"Preparing new server",completed:"Prepared new server"},{key:tK.L9.LaunchedUpgradedInstance,initial:"Prepare new server for migration",progress:"Preparing new server for migration",completed:"New server ready for migration"},{key:tK.L9.DetachedVolumeFromUpgradedInstance,initial:"Execute pre-upgrade checks",progress:"Executing pre-upgrade checks",completed:"Completed pre-upgrade checks"},{key:tK.L9.AttachedVolumeToOriginalInstance,initial:"Shut down API services",progress:"Shutting down API services",completed:"Completed shutting down API services"},{key:tK.L9.InitiatedDataUpgrade,initial:"Migrate to new database",progress:"Migrating to new database",completed:"Completed migration to new database"},{key:tK.L9.CompletedDataUpgrade,initial:"Execute database migration",progress:"Executing database migration",completed:"Completed database migration"},{key:tK.L9.DetachedVolumeFromOriginalInstance,initial:"Update database extensions",progress:"Updating database extensions",completed:"Updated database extensions"},{key:tK.L9.AttachedVolumeToUpgradedInstance,initial:"Optimize database",progress:"Optimizing database",completed:"Completed optimization of database"}],t4=function(){var e,t,n=(0,eg.UO)().ref,r=(0,d.oR)().meta,a=(0,eK.NL)(),o=(0,tk.d2)().project,c=(0,C.useState)(!1),l=c[0],u=c[1],p=(0,C.useState)(!1),h=p[0],f=p[1],g=(0,t1.h1)({projectRef:n,projectStatus:null==o?void 0:o.status},{enabled:m.Qy}).data,x=null!==(t=null==g?void 0:g.databaseUpgradeStatus)&&void 0!==t?t:{},j=x.initiated_at,y=x.status,w=x.progress,k=x.target_version,N=x.error,O=Number((w||"").split("_")[0]),S=y===tK.h.Failed,P=y===tK.h.Upgraded,E=t$().utc(null!=j?j:0).format("DD MMM YYYY HH:mm:ss"),Z=t$().utc(null!=j?j:0).local().format("DD MMM YYYY HH:mm:ss (ZZ)"),_=(e=(0,s.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,(0,e2.T)({ref:n});case 3:if((t=e.sent)&&r.setProjectDetails(t),!n){e.next=8;break}return e.next=8,(0,e2.H0)(a,n);case 8:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),I="Upgrade information:%0A• Initiated at: ".concat(j,"%0A• Target Version: ").concat(k,"%0A• Error: ").concat(N);return(0,v.jsx)("div",{className:"w-full mx-auto my-16 space-y-16 max-w-7xl",children:(0,v.jsxs)("div",{className:"mx-6 space-y-16",children:[(0,v.jsx)("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:space-y-0 lg:space-x-6",children:(0,v.jsx)("h1",{className:"text-3xl",children:null==o?void 0:o.name})}),(0,v.jsx)("div",{className:"w-full mx-auto mt-8 mb-16 max-w-7xl",children:(0,v.jsx)("div",{className:"flex h-[500px] items-center justify-center rounded border border-muted bg-surface-100 p-8",children:P?(0,v.jsxs)("div",{className:"grid gap-4",children:[(0,v.jsx)("div",{className:"relative mx-auto max-w-[300px]",children:(0,v.jsx)(tH.Z,{className:"text-brand",size:40,strokeWidth:1.5})}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("p",{className:"text-center",children:"Upgrade completed!"}),(0,v.jsxs)("p",{className:"mt-4 text-center text-sm text-foreground-light w-[300px] mx-auto",children:["Your project has been successfully upgraded to Postgres ",k," and is now back online."]})]}),(0,v.jsx)("div",{className:"mx-auto",children:(0,v.jsx)(ea.z,{loading:l,disabled:l,onClick:_,children:"Return to project"})})]}):S?(0,v.jsxs)("div",{className:"grid gap-4",children:[(0,v.jsx)("div",{className:"relative mx-auto max-w-[300px]",children:(0,v.jsx)(tY.Z,{className:"text-amber-900",size:40,strokeWidth:1.5})}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("p",{className:"text-center",children:"We ran into an issue while upgrading your project"}),(0,v.jsx)("p",{className:"mt-4 text-center text-sm text-foreground-light w-[450px] mx-auto",children:"Your project is back online and its data is not affected. Please reach out to us via our support form for assistance with the upgrade."})]}),(0,v.jsxs)("div",{className:"flex items-center mx-auto space-x-2",children:[(0,v.jsx)(ea.z,{asChild:!0,type:"default",children:(0,v.jsx)(b(),{href:"/support/new?category=Database_unresponsive&ref=".concat(n,"&subject=").concat("Upgrade%20failed%20for%20project","&message=").concat(I),target:"_blank",rel:"noreferrer",children:"Contact support"})}),(0,v.jsx)(ea.z,{loading:l,disabled:l,onClick:_,children:"Return to project"})]})]}):(0,v.jsxs)("div",{className:"grid w-[480px] gap-4",children:[(0,v.jsxs)("div",{className:"relative mx-auto max-w-[300px]",children:[(0,v.jsx)("div",{className:"absolute flex items-center justify-center w-full h-full",children:(0,v.jsx)(tj.Z,{className:"animate-spin",size:20,strokeWidth:2})}),(0,v.jsx)(tA,{className:"text-foreground-lighter",size:50,strokeWidth:1.5})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("p",{className:"text-center",children:"Upgrading in progress"}),(0,v.jsx)("p",{className:"text-sm text-center text-foreground-light",children:"Upgrades can take from a few minutes up to several hours depending on the size of your database. Your project will be offline while it is being upgraded."}),(0,v.jsxs)("div",{className:"!mt-4 !mb-2 py-3 px-4 transition-all overflow-hidden border rounded relative",style:{maxHeight:h?"500px":"110px"},children:[h?(0,v.jsx)(tJ.Z,{size:"tiny",strokeWidth:2,className:"absolute z-10 cursor-pointer top-3 right-3",onClick:function(){return f(!1)}}):(0,v.jsx)(t0.Z,{size:"tiny",strokeWidth:2,className:"absolute z-10 cursor-pointer top-3 right-3",onClick:function(){return f(!0)}}),(0,v.jsx)("div",{className:"space-y-2 transition-all",style:{translate:h?"0px 0px":"0px ".concat(-((O-2<=0?0:O>6?5:O-2)*28),"px")},children:t2.map(function(e,t){var n=e.key===w,r=O>t;return(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[n?(0,v.jsx)("div",{className:"flex items-center justify-center w-5 h-5 rounded-full",children:(0,v.jsx)(eU.Z,{size:20,className:"animate-spin text-foreground-light",strokeWidth:2})}):r?(0,v.jsx)("div",{className:"flex items-center justify-center w-5 h-5 border rounded-full bg-brand border-brand",children:(0,v.jsx)(eM.Z,{size:12,className:"text-white",strokeWidth:3})}):(0,v.jsx)("div",{className:"flex items-center justify-center w-5 h-5 border rounded-full bg-overlay-hover"}),(0,v.jsx)("p",{className:"text-sm ".concat(n?"text-foreground":r?"text-foreground-light":"text-foreground-lighter"," hover:text-foreground transition"),children:n?e.progress:r?e.completed:e.initial})]},e.key)})})]}),void 0!==j&&(0,v.jsxs)(td.fC,{delayDuration:0,children:[(0,v.jsx)(td.xz,{className:"w-full",children:(0,v.jsxs)("p",{className:"text-sm text-center text-foreground-light",children:["Started on: ",E," (UTC)"]})}),(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"bottom",children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs text-foreground",children:Z})})]})})]})]})]})})})]})})},t3=n(8888),t5=n(24888),t6=n(31941),t8=n(78452),t9=n(981),t7=n(25825),ne=function(e){var t,n=e.apikey,r=e.endpoint,s=e.selectedLanguage,a=e.snippet,i=e.children,o=(0,f.UO)().ref,c=null===(t=a[s])||void 0===t?void 0:t.call(a,n,r).replaceAll("[ref]",null!=o?o:"");return(0,v.jsxs)("div",{id:a.key,className:"space-y-4 py-6 pb-2 last:pb-6",children:[(0,v.jsxs)("div",{className:"px-4 space-y-4",children:[(0,v.jsx)("h2",{className:"doc-heading",children:a.title}),void 0!==a.description&&(0,v.jsx)("div",{className:"doc-section",children:(0,v.jsx)("article",{className:"text text-sm text-foreground-light",children:(0,v.jsx)(t7.U,{className:"max-w-none",content:a.description.replaceAll("[ref]",null!=o?o:"_")})})})]}),i,void 0!==c&&(0,v.jsx)("div",{className:"px-4 codeblock-container",children:(0,v.jsx)("div",{className:"bg rounded p-2",children:(0,v.jsx)(t9.Z,{className:s,children:c})})})]})},nt=[{name:"Connect",key:"introduction"},{name:"User Management",key:"user-management"},{name:"Tables & Views",key:"entities"},{name:"Stored Procedures",key:"stored-procedures"},{name:"Storage",key:"storage"},{name:"Edge Functions",key:"edge-functions"},{name:"Realtime",key:"realtime"}],nn={init:{key:"introduction",category:"introduction",title:"Connect to your project",description:"Projects have a RESTful endpoint that you can use with your project's API key to query and manage your database. Put these keys in your .env file.",js:function(e,t){return"\nimport { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = '".concat(t,"'\nconst supabaseKey = process.env.SUPABASE_KEY\nconst supabase = createClient(supabaseUrl, supabaseKey)")},bash:function(){return"# No client library required for Bash."}},clientApiKeys:{key:"client-api-keys",category:"introduction",title:"Client API Keys",description:'Client keys allow "anonymous access" to your database, until the user has logged in. After logging in, the keys will switch to the user\'s own login token.\n\nIn this documentation, we will refer to the key using the name `SUPABASE_KEY`. You can find the `anon` key in the [API settings](/project/[ref]/settings/api) page.',js:function(e,t){return"\nconst SUPABASE_KEY = '".concat(e,"'\nconst SUPABASE_URL = '").concat(t,"'\nconst supabase = createClient(SUPABASE_URL, process.env.SUPABASE_KEY);")},bash:function(e,t){return"".concat(e)}},serviceApiKeys:{key:"service-keys",category:"introduction",title:"Service Keys",description:"Service keys have *FULL* access to your data, bypassing any security policies. Be VERY careful where you expose these keys. They should only be used on a server and never on a client or browser.\n\nIn this documentation, we refer to the key using the name `SERVICE_KEY`. You can find the `service_role` key above or in the [API settings](/project/[ref]/settings/api) page.",js:function(e,t){return"\nconst SUPABASE_KEY = '".concat(e,"'\nconst SUPABASE_URL = 'https://").concat(t,"'\nconst supabase = createClient(SUPABASE_URL, process.env.SUPABASE_KEY);")},bash:function(e,t){return"".concat(e)}},userManagement:{key:"user-management",category:"user-management",title:"Introduction",description:"Supabase makes it easy to manage your users.\n\n  Supabase assigns each user a unique ID. You can reference this ID anywhere in your database. For example, you might create a `profiles` table references the user using a `user_id` field.\n\n  Supabase already has built in the routes to sign up, login, and log out for managing users in your apps and websites.",js:void 0,bash:void 0},signUp:{key:"sign-up",category:"user-management",title:"Sign up",description:'Allow your users to sign up and create a new account\n\n  After they have signed up, all interactions using the Supabase client will be performed as "that user".',js:function(e,t){return"\nconst { data, error } = await supabase.auth.signUp({\n  email: 'someone@email.com',\n  password: 'some-secure-password'\n})"},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/signup' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Content-Type: application/json" \\\n-d \'{\n  "email": "someone@email.com",\n  "password": "some-secure-password"\n}\'')}},emailLogin:{key:"email-login",category:"user-management",title:"Log in with Email/Password",description:'\nIf an account is created, users can login to your app.\n\nAfter they have logged in, all interactions using the Supabase JS client will be performed as "that user".',js:function(e,t){return"\nconst { data, error } = await supabase.auth.signInWithPassword({\n  email: 'someone@email.com',\n  password: 'some-secure-password'\n})\n    "},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/token?grant_type=password' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Content-Type: application/json" \\\n-d \'{\n  "email": "someone@email.com",\n  "password": "some-secure-password"\n}\'\n    ')}},magicLinkLogin:{key:"magic-link-login",category:"user-management",title:"Log in with Magic Link via Email",description:'\nSend a user a passwordless link which they can use to redeem an access_token.\n\nAfter they have clicked the link, all interactions using the Supabase JS client will be performed as "that user".',js:function(e,t){return"\nconst { data, error } = await supabase.auth.signInWithOtp({\n  email: 'someone@email.com'\n})\n    "},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/magiclink' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Content-Type: application/json" \\\n-d \'{\n  "email": "someone@email.com"\n}\'\n    ')}},phoneLogin:{key:"phone-log-in",category:"user-management",title:"Sign up with Phone/Password",description:"\nA phone number can be used instead of an email as a primary account confirmation mechanism.\n\nThe user will receive a mobile OTP via sms with which they can verify that they control the phone number.\n\nYou must enter your own twilio credentials on the auth settings page to enable sms confirmations.",js:function(e,t){return"\nconst { data, error } = await supabase.auth.signUp({\n  phone: '+13334445555',\n  password: 'some-password'\n})\n    "},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/signup' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Content-Type: application/json" \\\n-d \'{\n  "phone": "+13334445555",\n  "password": "some-password"\n}\'\n    ')}},smsLogin:{key:"sms-otp-log-in",category:"user-management",title:"Login via SMS OTP",description:"\nSMS OTPs work like magic links, except you have to provide an interface for the user to verify the 6 digit number they receive.\n\nYou must enter your own twilio credentials on the auth settings page to enable SMS-based Logins.",js:function(e,t){return"\nconst { data, error } = await supabase.auth.signInWithOtp({\n  phone: '+13334445555'\n})\n    "},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/otp' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Content-Type: application/json" \\\n-d \'{\n  "phone": "+13334445555"\n}\'\n    ')}},smsVerify:{key:"sms-verify",category:"user-management",title:"Verify an SMS OTP",description:"\nOnce the user has received the OTP, have them enter it in a form and send it for verification\n\nYou must enter your own twilio credentials on the auth settings page to enable SMS-based OTP verification.",js:function(e,t){return"\nconst { data, error } = await supabase.auth.verifyOtp({\n  phone: '+13334445555',\n  token: '123456',\n  type: 'sms'\n})\n    "},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/verify' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Content-Type: application/json" \\\n-d \'{\n  "type": "sms",\n  "phone": "+13334445555",\n  "token": "123456"\n}\'\n    ')}},oauthLogin:{key:"oauth-login",category:"user-management",title:"Log in with Third Party OAuth",description:'\nUsers can log in with Third Party OAuth like Google, Facebook, GitHub, and more. You must first enable each of these in the Auth Providers settings [here](https://supabase.com).\n\nView all the available [Third Party OAuth providers](https://supabase.com).\n\nAfter they have logged in, all interactions using the Supabase JS client will be performed as "that user".\n\nGenerate your Client ID and secret from: [Google](https://console.developers.google.com/apis/credentials), [Github](https://github.com/settings/applications/new), [Gitlab](https://gitlab.com/oauth/applications), [Facebook](https://developers.facebook.com/apps), and [Bitbucket](https://support.atlassian.com/bitbucket-cloud/docs/use-oauth-on-bitbucket-cloud).',js:function(e,t){return"\nconst { data, error } = await supabase.auth.signInWithOAuth({\n  provider: 'github'\n})\n    "},bash:function(e,t){return"No available command"}},user:{key:"get-user",category:"user-management",title:"Get user",description:"Get the JSON object for the logged in user.",js:function(e,t){return"\nconst { data: { user } } = await supabase.auth.getUser()\n    "},bash:function(e,t){return"\ncurl -X GET '".concat(t,"/auth/v1/user' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Authorization: Bearer USER_TOKEN"\n    ')}},forgotPassWordEmail:{key:"forgot-password-email",category:"user-management",title:"Forgot password / email",description:'Sends the user a log in link via email. Once logged in you should direct the user to a new password form. And use "Update User" below to save the new password.',js:function(e,t){return"\nconst { data, error } = await supabase.auth.resetPasswordForEmail(email)\n    "},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/recover' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Content-Type: application/json" \\\n-d \'{\n"email": "someone@email.com"\n}\'\n')}},updateUser:{key:"update-user",category:"user-management",title:"Update User",description:"Update the user with a new email or password. Each key (email, password, and data) is optional.",js:function(e,t){return'\nconst { data, error } = await supabase.auth.updateUser({\n  email: "new@email.com",\n  password: "new-password",\n  data: { hello: \'world\' }\n})\n    '},bash:function(e,t){return"\ncurl -X PUT '".concat(t,"/auth/v1/user' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Authorization: Bearer <USERS-ACCESS-TOKEN>" \\\n-H "Content-Type: application/json" \\\n-d \'{\n"email": "someone@email.com",\n"password": "new-password",\n"data": {\n  "key": "value"\n}\n}\'\n')}},logout:{key:"log-out",category:"user-management",title:"Log out",description:'After calling log out, all interactions using the Supabase JS client will be "anonymous".',js:function(e,t){return"\nconst { error } = await supabase.auth.signOut()\n    "},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/logout' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer USER_TOKEN"\n    ')}},emailInvite:{key:"email-invite",category:"user-management",title:"Invite user over email",description:'\nSend a user a passwordless link which they can use to sign up and log in.\n\nAfter they have clicked the link, all interactions using the Supabase JS client will be performed as "that user".\n\nThis endpoint requires you use the `service_role_key` when initializing the client, and should only be invoked from the server, never from the client.',js:function(e,t){return"\nconst { data, error } = await supabase.auth.api.inviteUserByEmail('someone@email.com')\n    "},bash:function(e,t){return"\ncurl -X POST '".concat(t,"/auth/v1/invite' \\\n-H \"apikey: ").concat(e,'" \\\n-H "Authorization: Bearer ').concat(e,'" \\\n-H "Content-Type: application/json" \\\n-d \'{\n  "email": "someone@email.com"\n}\'\n    ')}},storage:{key:"storage",category:"storage",title:"Introduction",description:"Supabase Storage makes it simple to upload and serve files of any size, providing a robust framework for file access controls.\n\nYou can use Supabase Storage to store images, videos, documents, and any other file type. Serve your assets with a global CDN to reduce latency from over 285 cities globally. Supabase Storage includes a built-in image optimizer, so you can resize and compress your media files on the fly.",js:void 0,bash:void 0},edgeFunctions:{key:"edge-function",category:"edge-functions",title:"Introduction",description:"\nEdge Functions are server-side TypeScript functions, distributed globally at the edge—close to your users. They can be used for listening to webhooks or integrating your Supabase project with third-parties like Stripe. Edge Functions are developed using Deno, which offers a few benefits to you as a developer:\n",js:void 0,bash:void 0},edgeFunctionsPreReq:{key:"edge-function-pre-req",category:"edge-functions",title:"Pre-requisites",description:"\nFollow the steps to prepare your Supabase project on your local machine.\n\n- Install the Supabase [CLI](https://supabase.com/docs/guides/cli).\n- [Login to the CLI](https://supabase.com/docs/reference/cli/usage#supabase-login) using the command: `supabase login`..\n- [Initialize Supabase](https://supabase.com/docs/guides/getting-started/local-development#getting-started) inside your project using the command: `supabase init`..\n- [Link to your Remote Project](https://supabase.com/docs/reference/cli/usage#supabase-link) using the command `supabase link --project-ref [ref]`..\n- Setup your environment: Follow the steps [here](https://supabase.com/docs/guides/functions/quickstart#setting-up-your-environment).\n",js:void 0,bash:void 0},createEdgeFunction:{key:"create-edge-function",category:"edge-functions",title:"Create an Edge Function",description:"\nCreate a Supabase Edge Function locally via the Supabase CLI.\n",js:function(){return"// Create an edge function via the Supabase CLI"},bash:function(){return"\nsupabase functions new hello-world\n"}},deployEdgeFunction:{key:"deploy-edge-function",category:"edge-functions",title:"Deploy an Edge Function",description:"\nDeploy a Supabase Edge Function to your Supabase project via the Supabase CLI.\n",js:function(){return"// Deploy an edge function via the Supabase CLI"},bash:function(){return"supabase functions deploy hello-world --project-ref [ref]\n"}},entitiesIntroduction:{key:"entities-introduction",category:"entities",title:"Introduction",description:"\nAll views and tables in the `public` schema, and those accessible by the active database role for a request are available for querying via the API.\n\nIf you don't want to expose tables in your API, simply add them to a different schema (not the `public` schema).\n",js:void 0,bash:void 0},generatingTypes:{key:"generating-types",category:"entities",title:"Generating Types",description:"\nSupabase APIs are generated from your database, which means that we can use database introspection to generate type-safe API definitions.\n\nYou can generate types from your database either through the [Supabase CLI](https://supabase.com/docs/guides/database/api/generating-types), or by downloading the types file via the button on the right and importing it in your application within `src/index.ts`.\n",js:void 0,bash:void 0},graphql:{key:"graphql",category:"entities",title:"GraphQL vs PostgREST",description:"\nIf you have a GraphQL background, you might be wondering if you can fetch your data in a single round-trip. The answer is yes! The syntax is very similar. This example shows how you might achieve the same thing with Apollo GraphQL and Supabase.\n\nStill want GraphQL?\nIf you still want to use GraphQL, you can. Supabase provides you with a full Postgres database, so as long as your middleware can connect to the database then you can still use the tools you love. You can find the database connection details [in the settings](/project/[ref]/settings/database).\n",js:function(e,t){return"\n// With Apollo GraphQL\nconst { loading, error, data } = useQuery(gql`\n  query GetDogs {\n    dogs {\n      id\n      breed\n      owner {\n        id\n        name\n      }\n    }\n  }\n    `)\n\n// With Supabase\nconst { data, error } = await supabase\n  .from('dogs')\n  .select(`\n      id, breed,\n      owner (id, name)\n  `)\n"},bash:function(e,t){return"\n// With Apollo GraphQL\nconst { loading, error, data } = useQuery(gql`\n  query GetDogs {\n    dogs {\n      id\n      breed\n      owner {\n        id\n        name\n      }\n    }\n  }\n    `)\n\n// With Supabase\nconst { data, error } = await supabase\n  .from('dogs')\n  .select(`\n      id, breed,\n      owner (id, name)\n  `)\n    "}},storedProceduresIntroduction:{key:"stored-procedures-introduction",category:"stored-procedures",title:"Introduction",description:"\nAll of your database stored procedures are available on your API. This means you can build your logic directly into the database (if you're brave enough)!\n\nThe API endpoint supports POST (and in some cases GET) to execute the function.\n",js:void 0,bash:void 0},realtime:{key:"realtime-introduction",category:"realtime",title:"Introduction",description:"\nSupabase provides a globally distributed cluster of Realtime servers that enable the following functionality:\n\n- [Broadcast](https://supabase.com/docs/guides/realtime/broadcast): Send ephemeral messages from client to clients with low latency.\n- [Presence](https://supabase.com/docs/guides/realtime/presence): Track and synchronize shared state between clients.\n- [Postgres Changes](https://supabase.com/docs/guides/realtime/postgres-changes): Listen to Postgres database changes and send them to authorized clients.\n",js:void 0,bash:void 0},subscribeChannel:{key:"subscribe-to-channel",category:"realtime",title:"Subscribe to channel",description:"\nCreates an event handler that listens to changes.\n\n- By default, Broadcast and Presence are enabled for all projects.\n- By default, listening to database changes is disabled for new projects due to database performance and security concerns. You can turn it on by managing Realtime's [replication](https://supabase.com/docs/guides/api#realtime-api-overview).\n- You can receive the \"previous\" data for updates and deletes by setting the table's `REPLICA IDENTITY` to `FULL` (e.g., `ALTER TABLE your_table REPLICA IDENTITY FULL;`).\n- Row level security is not applied to delete statements. When RLS is enabled and replica identity is set to full, only the primary key is sent to clients.\n",js:function(){return"\nsupabase\n  .channel('any')\n  .on('broadcast', { event: 'cursor-pos' }, payload => {\n    console.log('Cursor position received!', payload)\n  })\n  .subscribe((status) => {\n    if (status === 'SUBSCRIBED') {\n      channel.send({\n        type: 'broadcast',\n        event: 'cursor-pos',\n        payload: { x: Math.random(), y: Math.random() },\n      })\n    }\n  })\n    "},bash:function(){return"# Realtime streams are only supported by our client libraries"}},unsubscribeChannel:{key:"unsubscribe-channel",category:"realtime",title:"Unsubscribe from a channel",description:"\nUnsubscribes and removes Realtime channel from Realtime client.\n\nRemoving a channel is a great way to maintain the performance of your project's Realtime service as well as your database if you're listening to Postgres changes. Supabase will automatically handle cleanup 30 seconds after a client is disconnected, but unused channels may cause degradation as more clients are simultaneously subscribed.\n",js:function(){return"supabase.removeChannel(myChannel)"},bash:function(){return"# Realtime streams are only supported by our client libraries"}},unsubscribeChannels:{key:"unsubscribe-channels",category:"realtime",title:"Unsubscribe from all channels",description:"\nUnsubscribes and removes all Realtime channels from Realtime client.\n\nRemoving a channel is a great way to maintain the performance of your project's Realtime service as well as your database if you're listening to Postgres changes. Supabase will automatically handle cleanup 30 seconds after a client is disconnected, but unused channels may cause degradation as more clients are simultaneously subscribed.\n",js:function(){return"supabase.removeChannels()"},bash:function(){return"# Realtime streams are only supported by our client libraries"}},retrieveAllChannels:{key:"unsubscribe-channel",category:"realtime",title:"Unsubscribe from a channel",description:"\nReturns all Realtime channels.\n",js:function(){return"const channels = supabase.getChannels()"},bash:function(){return"# Realtime streams are only supported by our client libraries"}}},nr={rpcSingle:{key:"invoke-function",title:"Invoke function",category:"stored-procedures",description:void 0,docsUrl:"https://supabase.com/docs/reference/javascript/rpc",code:function(e){var t=e.rpcName,n=e.rpcParams,r=e.endpoint,s=e.apiKey,a=e.showBearer,i=void 0===a||a,o=n.map(function(e){return'"'.concat(e.name,'": "value"')}).join(", "),c=!n.length,l=c?"":"\n-d '{ ".concat(o," }' \\"),u=c?"":", {".concat(n.length?n.map(function(e){return"\n    ".concat(e.name)}).join(", ").concat("\n  "):"","}");return[{key:"rpc-single",title:void 0,bash:"\n  curl -X POST '".concat(r,"/rest/v1/rpc/").concat(t,"' \\").concat(l,'\n  -H "Content-Type: application/json" \\\n  -H "apikey: ').concat(s,'" ').concat(i?'\\\n  -H "Authorization: Bearer '.concat(s,'"'):"","\n        "),js:"\nlet { data, error } = await supabase\n  .rpc('".concat(t,"'").concat(u,")\n\nif (error) console.error(error)\nelse console.log(data)\n        ")}]}},readRows:{key:"read-rows",title:"Read rows",category:"entities",docsUrl:"https://supabase.com/docs/reference/javascript/select",description:"To read rows in this table, use the `select` method.",code:function(e){var t=e.resourceId,n=e.endpoint,r=e.apikey;return[{key:"read-all-rows",title:"Read all rows",bash:"\ncurl '".concat(n,"/rest/v1/").concat(t,"?select=*' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'"\n          '),js:"\nlet { data: ".concat(t,", error } = await supabase\n  .from('").concat(t,"')\n  .select('*')\n          ")},{key:"read-specific-columns",title:"Read specific columns",bash:"\ncurl '".concat(n,"/rest/v1/").concat(t,"?select=some_column,other_column' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'"\n          '),js:"\nlet { data: ".concat(t,", error } = await supabase\n  .from('").concat(t,"')\n  .select('some_column,other_column')\n  ")},{key:"read-foreign-tables",title:"Read referenced tables",bash:"\ncurl '".concat(n,"/rest/v1/").concat(t,"?select=some_column,other_table(foreign_key)' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'"\n          '),js:"\nlet { data: ".concat(t,", error } = await supabase\n  .from('").concat(t,"')\n  .select(`\n    some_column,\n    other_table (\n      foreign_key\n    )\n  `)\n          ")},{key:"with-pagination",title:"With pagination",bash:"\ncurl '".concat(n,"/rest/v1/").concat(t,"?select=*' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'" \\\n-H "Range: 0-9"\n          '),js:"\nlet { data: ".concat(t,", error } = await supabase\n  .from('").concat(t,"')\n  .select('*')\n  .range(0, 9)\n          ")}]}},filtering:{key:"filter-rows",category:"entities",title:"Filtering",description:"Supabase provides a wide range of filters",docsUrl:"https://supabase.com/docs/reference/javascript/using-filters",code:function(e){var t=e.resourceId,n=e.endpoint,r=e.apikey;return[{key:"with-filtering",title:"With filtering",bash:"\ncurl '".concat(n,"/rest/v1/").concat(t,"?id=eq.1&select=*' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'" \\\n-H "Range: 0-9"\n        '),js:"\nlet { data: ".concat(t,", error } = await supabase\n  .from('").concat(t,"')\n  .select(\"*\")\n\n  // Filters\n  .eq('column', 'Equal to')\n  .gt('column', 'Greater than')\n  .lt('column', 'Less than')\n  .gte('column', 'Greater than or equal to')\n  .lte('column', 'Less than or equal to')\n  .like('column', '%CaseSensitive%')\n  .ilike('column', '%CaseInsensitive%')\n  .is('column', null)\n  .in('column', ['Array', 'Values'])\n  .neq('column', 'Not equal to')\n\n  // Arrays\n  .cs('array_column', ['array', 'contains'])\n  .cd('array_column', ['contained', 'by'])\n          ")}]}},insertRows:{key:"insert-rows",category:"entities",title:"Insert rows",description:"\n`insert` lets you insert into your tables. You can also insert in bulk and do UPSERT.\n\n`insert` will also return the replaced values for UPSERT.\n",docsUrl:"https://supabase.com/docs/reference/javascript/insert",code:function(e){var t=e.resourceId,n=e.endpoint,r=e.apikey;return[{key:"insert-a-row",title:"Insert a row",bash:"\ncurl -X POST '".concat(n,"/rest/v1/").concat(t,"' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'" \\\n-H "Content-Type: application/json" \\\n-H "Prefer: return=minimal" \\\n-d \'{ "some_column": "someValue", "other_column": "otherValue" }\'\n          '),js:"\nconst { data, error } = await supabase\n  .from('".concat(t,"')\n  .insert([\n    { some_column: 'someValue', other_column: 'otherValue' },\n  ])\n  .select()\n          ")},{key:"insert-many-rows",title:"Insert many rows",bash:"\ncurl -X POST '".concat(n,"/rest/v1/").concat(t,"' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'" \\\n-H "Content-Type: application/json" \\\n-d \'[{ "some_column": "someValue" }, { "other_column": "otherValue" }]\'\n          '),js:"\nconst { data, error } = await supabase\n  .from('".concat(t,"')\n  .insert([\n    { some_column: 'someValue' },\n    { some_column: 'otherValue' },\n  ])\n  .select()\n          ")},{key:"upsert-matching-rows",title:"Upsert matching rows",bash:"\ncurl -X POST '".concat(n,"/rest/v1/").concat(t,"' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'" \\\n-H "Content-Type: application/json" \\\n-H "Prefer: resolution=merge-duplicates" \\\n-d \'{ "some_column": "someValue", "other_column": "otherValue" }\'\n          '),js:"\nconst { data, error } = await supabase\n  .from('".concat(t,"')\n  .upsert({ some_column: 'someValue' })\n  .select()\n          ")}]}},updateRows:{key:"update-rows",category:"entities",title:"Update rows",description:"\n`update` lets you update rows. `update` will match all rows by default. You can update specific rows using horizontal filters, e.g. `eq`, `lt`, and `is`.\n\n`update` will also return the replaced values for UPDATE.\n",docsUrl:"https://supabase.com/docs/reference/javascript/update",code:function(e){var t=e.resourceId,n=e.endpoint,r=e.apikey;return[{key:"update-matching-rows",title:"Update matching rows",bash:"\ncurl -X PATCH '".concat(n,"/rest/v1/").concat(t,"?some_column=eq.someValue' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'" \\\n-H "Content-Type: application/json" \\\n-H "Prefer: return=minimal" \\\n-d \'{ "other_column": "otherValue" }\'\n          '),js:"\nconst { data, error } = await supabase\n  .from('".concat(t,"')\n  .update({ other_column: 'otherValue' })\n  .eq('some_column', 'someValue')\n  .select()\n          ")}]}},deleteRows:{key:"delete-rows",category:"entities",title:"Delete rows",description:"\n`delete` lets you delete rows. `delete` will match all rows by default, so remember to specify your filters!\n",docsUrl:"https://supabase.com/docs/reference/javascript/delete",code:function(e){var t=e.resourceId,n=e.endpoint,r=e.apikey;return[{key:"delete-matching-rows",title:"Delete matching rows",bash:"\ncurl -X DELETE '".concat(n,"/rest/v1/").concat(t,"?some_column=eq.someValue' \\\n-H \"apikey: ").concat(r,'" \\\n-H "Authorization: Bearer ').concat(r,'"\n          '),js:"\nconst { error } = await supabase\n  .from('".concat(t,"')\n  .delete()\n  .eq('some_column', 'someValue')\n          ")}]}},subscribeChanges:{key:"subscribe-changes",category:"entities",title:"Subscribe to changes",description:"\nSupabase provides realtime functionality and broadcasts database changes to authorized users depending on Row Level Security (RLS) policies.\n",docsUrl:"https://supabase.com/docs/reference/javascript/subscribe",code:function(e){var t=e.resourceId;return[{key:"subscribe-all-events",title:"Subscribe to all events",bash:"# Realtime streams are only supported by our client libraries",js:"\nconst channels = supabase.channel('custom-all-channel')\n  .on(\n    'postgres_changes',\n    { event: '*', schema: 'public', table: '".concat(t,"' },\n    (payload) => {\n      console.log('Change received!', payload)\n    }\n  )\n  .subscribe()")},{key:"subscribe-to-inserts",title:"Subscribe to inserts",bash:"# Realtime streams are only supported by our client libraries",js:"\nconst channels = supabase.channel('custom-insert-channel')\n  .on(\n    'postgres_changes',\n    { event: 'INSERT', schema: 'public', table: '".concat(t,"' },\n    (payload) => {\n      console.log('Change received!', payload)\n    }\n  )\n  .subscribe()")},{key:"subscribe-to-updates",title:"Subscribe to updates",bash:"# Realtime streams are only supported by our client libraries",js:"\nconst channels = supabase.channel('custom-update-channel')\n  .on(\n    'postgres_changes',\n    { event: 'UPDATE', schema: 'public', table: '".concat(t,"' },\n    (payload) => {\n      console.log('Change received!', payload)\n    }\n  )\n  .subscribe()")},{key:"subscribe-to-deletes",title:"Subscribe to deletes",bash:"# Realtime streams are only supported by our client libraries",js:"\nconst channels = supabase.channel('custom-delete-channel')\n  .on(\n    'postgres_changes',\n    { event: 'DELETE', schema: 'public', table: '".concat(t,"' },\n    (payload) => {\n      console.log('Change received!', payload)\n    }\n  )\n  .subscribe()")},{key:"subscribe-to-specific-rows",title:"Subscribe to specific rows",bash:"# Realtime streams are only supported by our client libraries",js:"\nconst channels = supabase.channel('custom-filter-channel')\n  .on(\n    'postgres_changes',\n    { event: '*', schema: 'public', table: '".concat(t,"', filter: 'some_column=eq.some_value' },\n    (payload) => {\n      console.log('Change received!', payload)\n    }\n  )\n  .subscribe()")}]}},uploadFile:{key:"upload-file",category:"storage",title:"Upload a file",docsUrl:"https://supabase.com/docs/reference/javascript/storage-from-upload",description:"\nUpload a file to an existing bucket. RLS policy permissions required:\n- `buckets` table permissions: none\n- `objects` table permissions: only `insert` when you are uploading new files and `select`, `insert`, and `update` when you are upserting files.\n",code:function(e){var t=e.name,n=e.apikey,r=e.endpoint;return[{key:"storage-upload-file",title:void 0,bash:"\ncurl -X POST '".concat(r,"/storage/v1/object/").concat(t,"/folder/avatar1.png' \\\n-H 'Content-Type: image/png' \\\n-H \"Authorization: Bearer ").concat(n,"\" \\\n--data-binary @/path/to/your/file'\n-H 'Content-Type: multipart/form-data' \\\n-H \"Authorization: Bearer ").concat(n,"\" \\\n--data-raw $'your_file_data'\n        "),js:"\nconst avatarFile = event.target.files[0]\nconst { data, error } = await supabase\n  .storage\n  .from('".concat(t,"')\n  .upload('folder/avatar1.png', avatarFile, {\n    cacheControl: '3600',\n    upsert: false\n  })\n")}]}},deleteFiles:{key:"delete-files",category:"storage",title:"Delete files",docsUrl:"https://supabase.com/docs/reference/javascript/storage-from-remove",description:"\nDelete files within the bucket. RLS policy permissions required:\n- `buckets` table permissions: none\n- `objects` table permissions: `delete` and `select`\n",code:function(e){var t=e.name,n=e.apikey,r=e.endpoint;return[{key:"storage-delete-files",title:void 0,bash:"\ncurl -X DELETE '".concat(r,"/storage/v1/object/").concat(t,'\' \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer ').concat(n,'" \\\n-d \'{ "prefixes": ["file_name", "another_file_name"] }\'\n'),js:"\nconst { data, error } = await supabase\n  .storage\n  .from('".concat(t,"')\n  .remove(['folder/avatar1.png'])\n        ")}]}},listFiles:{key:"list-files",category:"storage",title:"List all files",docsUrl:"https://supabase.com/docs/reference/javascript/storage-from-list",description:"\nList all files within the bucket. RLS policy permissions required:\n- `buckets` table permissions: none\n- `objects` table permissions: `select`\n",code:function(e){var t=e.name,n=e.apikey,r=e.endpoint;return[{key:"storage-list-files",title:void 0,bash:"\ncurl -X POST '".concat(r,"/storage/v1/object/list/").concat(t,'\' \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer ').concat(n,'" \\\n-d \'{ "limit": 100, "offset": 0, "prefix": "", "sortBy": { "column": "name", "order": "asc" } }\''),js:"\nconst { data, error } = await supabase\n  .storage\n  .from('".concat(t,"')\n  .list('folder', {\n    limit: 100,\n    offset: 0,\n    sortBy: { column: 'name', order: 'asc' },\n  })\n        ")}]}},downloadFile:{key:"download-file",category:"storage",title:"Download a file",docsUrl:"https://supabase.com/docs/reference/javascript/storage-from-download",description:"\nDownloads a file from a private bucket. For public buckets, make a request to the URL returned from getPublicUrl instead. RLS policy permissions required:\n- `buckets` table permissions: none\n- `objects` table permissions: `select`\n",code:function(e){var t=e.name,n=e.apikey,r=e.endpoint;return[{key:"storage-download-file",title:void 0,bash:"\ncurl -X GET '".concat(r,"/storage/v1/object/").concat(t,'/folder/avatar1.png\' \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer ').concat(n,'" \\\n--output avatar1.png\n'),js:"\nconst { data, error } = await supabase\n  .storage\n  .from('".concat(t,"')\n  .download('folder/avatar1.png')\n      ")}]}},createSignedURL:{key:"create-signed-url",category:"storage",title:"Create a signed URL",docsUrl:"https://supabase.com/docs/reference/javascript/storage-from-createsignedurl",description:"\nCreate a signed URL which can be used to share a file for a fixed amount of time. RLS policy permissions required:\n- `buckets` table permissions: none\n- `objects` table permissions: `select`\n",code:function(e){var t=e.name,n=e.apikey,r=e.endpoint;return[{key:"storage-create-signed-url",title:void 0,bash:"\ncurl -X POST '".concat(r,"/storage/v1/object/sign/").concat(t,'/folder/avatar1.png\' \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer ').concat(n,'" \\\n-d \'{ "expiresIn": 60 }\'\n        '),js:"\nconst { data, error } = await supabase\n  .storage\n  .from('".concat(t,"')\n  .createSignedUrl('folder/avatar1.png', 60)\n        ")}]}},retrievePublicURL:{key:"retrieve-public-url",category:"storage",title:"Retrieve public URL",docsUrl:"https://supabase.com/docs/reference/javascript/storage-from-getpublicurl",description:'\nA simple convenience function to get the URL for an asset in a public bucket. If you do not want to use this function, you can construct the public URL by concatenating the bucket URL with the path to the asset.\n\nThis function does not verify if the bucket is public. If a public URL is created for a bucket which is not public, you will not be able to download the asset.\n\nThe bucket needs to be set to public, either via `updateBucket()` or by going to Storage on supabase.com/dashboard, clicking the overflow menu on a bucket and choosing "Make public"\n\nRLS policy permissions required:\n- `buckets` table permissions: none\n- `objects` table permissions: none\n',code:function(e){var t=e.name,n=(e.apikey,e.endpoint);return[{key:"storage-retrieve-public-url",title:void 0,bash:"\n# No bash command available.\n# You can construct the public URL by concatenating the bucket URL with the path to the asset\n# e.g ".concat(n,"/storage/v1/object/public/").concat(t,"/folder/avatar1.png"),js:"\nconst { data } = supabase\n  .storage\n  .from('".concat(t,"')\n  .getPublicUrl('folder/avatar1.png')\n        ")}]}},invokeEdgeFunction:{key:"invoke-edge-function",category:"edge-functions",title:"Invoke an edge function",docsUrl:"https://supabase.com/docs/reference/javascript/functions-invoke",description:"\nInvokes a Supabase Edge Function. Requires an Authorization header, and invoke params generally match the [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API) spec.\n\nWhen you pass in a body to your function, we automatically attach the `Content-Type` header for `Blob`, `ArrayBuffer`, `File`, `FormData` and `String`. If it doesn't match any of these types we assume the payload is `json`, serialize it and attach the `Content-Type` header as `application/json`. You can override this behavior by passing in a `Content-Type` header of your own.\n\nResponses are automatically parsed as `json`, `blob` and `form-data` depending on the `Content-Type` header sent by your function. Responses are parsed as `text` by default.\n",code:function(e){var t=e.name,n=e.endpoint,r=e.apikey;return[{key:"invoke-edge-function",title:void 0,bash:"\ncurl --request POST '".concat(n,"/functions/v1/").concat(t,"' \\\n--header 'Authorization: Bearer ").concat(r,"' \\\n--header 'Content-Type: application/json' \\\n--data '{ \"name\": \"Functions\" }'\n        "),js:"\nconst { data, error } = await supabase\n  .functions\n  .invoke('".concat(t,"', {\n    body: { foo: 'bar' }\n  })")}]}}},ns=function(e){var t=e.language;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.edgeFunctions}),(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.edgeFunctionsPreReq}),(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.createEdgeFunction}),(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.deployEdgeFunction})]})},na=n(28208),ni=n(54085),no=function(e){var t,n=e.language,r=(0,d.oR)().ui,a=(0,f.UO)().ref,o=(0,C.useState)(!1),c=o[0],l=o[1],u=(t=(0,s.Z)(i().mark(function e(){var t,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,(0,ni.J)({ref:a});case 4:t=e.sent,(n=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t.types)),n.setAttribute("download","supabase.ts"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),r.setNotification({category:"success",message:"Successfully generated types! File is being downloaded"}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r.setNotification({error:e.t0,category:"error",message:"Failed to generate types: ".concat(e.t0.message)});case 18:return e.prev=18,l(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])})),function(){return t.apply(this,arguments)});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ne,{selectedLanguage:n,snippet:nn.entitiesIntroduction}),(0,v.jsxs)("div",{children:[(0,v.jsx)(ne,{selectedLanguage:n,snippet:nn.generatingTypes}),(0,v.jsxs)("div",{className:"flex items-center space-x-2 px-4 mt-3",children:[(0,v.jsx)(ea.z,{asChild:!0,type:"default",icon:(0,v.jsx)(ev.Z,{}),children:(0,v.jsx)(b(),{href:"https://supabase.com/docs/guides/database/api/generating-types",target:"_blank",rel:"noreferrer",children:"Documentation"})}),(0,v.jsx)(ea.z,{type:"default",disabled:c,loading:c,icon:(0,v.jsx)(na.Z,{strokeWidth:1.5}),onClick:u,children:"Generate and download types"})]}),(0,v.jsx)("p",{className:"text-xs text-foreground-light px-4 mt-2",children:"Remember to re-generate and download this file as you make changes to your tables."})]}),(0,v.jsx)(ne,{selectedLanguage:n,snippet:nn.graphql})]})},nc=n(14665),nl=n(76334),nu=function(e){var t,n=e.showKeys,r=e.language,s=e.apikey,a=e.endpoint,i=(0,f.UO)().ref,o=(0,t6.qP)({projectRef:i}).data,c=(0,C.useState)(),l=c[0],u=c[1];(0,C.useEffect)(function(){void 0!==l&&setTimeout(function(){return u(void 0)},2e3)},[l]);var d=n&&null!==(t=null==o?void 0:o.autoApiService.serviceApiKey)&&void 0!==t?t:"SUPABASE_CLIENT_SERVICE_KEY";return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ne,{selectedLanguage:r,apikey:s,endpoint:a,snippet:nn.init,children:(0,v.jsxs)("div",{className:"px-4 space-y-6",children:[(0,v.jsxs)("div",{className:"flex space-x-4 mt-8",children:[(0,v.jsx)("p",{className:"text-sm w-40",children:"Project URL"}),(0,v.jsx)(nc.Z,{disabled:!0,readOnly:!0,copy:!0,size:"small",value:a,className:"w-full"})]}),(0,v.jsxs)("div",{className:"flex space-x-4",children:[(0,v.jsx)("p",{className:"text-sm w-40",children:"Client API key"}),(0,v.jsx)(nc.Z,{disabled:!0,readOnly:!0,size:"small",value:n?s:"Reveal API keys via dropdown in the header",className:"w-full",descriptionText:"This key is safe to use in a browser if you have enabled Row Level Security (RLS) for your tables and configured policies.",actions:[(0,v.jsx)(ea.z,{type:"default",icon:(0,v.jsx)(nl.Z,{}),onClick:function(){var e;u("anon"),(0,tw.vQ)(null!==(e=null==o?void 0:o.autoApiService.defaultApiKey)&&void 0!==e?e:"SUPABASE_CLIENT_ANON_KEY")},children:"anon"===l?"Copied":"Copy"},"copy")]})]}),(0,v.jsxs)("div",{className:"flex space-x-4",children:[(0,v.jsx)("p",{className:"text-sm w-40 mb-16",children:"Service key"}),(0,v.jsx)(nc.Z,{disabled:!0,readOnly:!0,size:"small",value:n?d:"Reveal API keys via dropdown in the header",className:"w-full",descriptionText:(0,v.jsxs)("p",{children:["This key has the ability to bypass Row Level Security."," ",(0,v.jsx)("span",{className:"text-amber-900",children:"Never share it publicly."})]}),actions:[(0,v.jsx)(ea.z,{type:"default",icon:(0,v.jsx)(nl.Z,{}),onClick:function(){var e;u("service"),(0,tw.vQ)(null!==(e=null==o?void 0:o.autoApiService.serviceApiKey)&&void 0!==e?e:"SUPABASE_CLIENT_SERVICE_KEY")},children:"service"===l?"Copied":"Copy"},"copy")]})]})]})}),(0,v.jsx)(ne,{selectedLanguage:r,apikey:s,endpoint:a,snippet:nn.clientApiKeys}),(0,v.jsx)(ne,{selectedLanguage:r,apikey:d,endpoint:a,snippet:nn.serviceApiKeys})]})},nd=function(e){var t=e.language;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.realtime}),(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.subscribeChannel}),(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.unsubscribeChannel}),(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.unsubscribeChannels}),(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.retrieveAllChannels})]})},np=function(e){var t=e.language;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.storage})})},nm=function(e){var t=e.language;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.storedProceduresIntroduction})})},nh=function(e){var t=e.language,n=e.apikey,r=e.endpoint;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ne,{selectedLanguage:t,snippet:nn.userManagement}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.signUp}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.emailLogin}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.magicLinkLogin}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.phoneLogin}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.smsLogin}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.smsVerify}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.oauthLogin}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.user}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.forgotPassWordEmail}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.updateUser}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.logout}),(0,v.jsx)(ne,{selectedLanguage:t,apikey:n,endpoint:r,snippet:nn.emailInvite})]})},nf=n(85610),ng=function(e){var t=e.selectedLanguage,n=e.snippet,r=e.codeSnippets,s=(0,f.UO)().ref;return(0,v.jsxs)("div",{id:n.key,className:"space-y-4 py-6",children:[(0,v.jsxs)("div",{className:"px-4 space-y-2",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsx)("h2",{className:"doc-heading",children:n.title}),void 0!==n.docsUrl&&(0,v.jsx)(ea.z,{asChild:!0,type:"default",icon:(0,v.jsx)(ev.Z,{}),children:(0,v.jsx)(b(),{href:n.docsUrl,target:"_blank",rel:"noreferrer",children:"Documentation"})})]}),void 0!==n.description&&(0,v.jsx)("div",{className:"doc-section",children:(0,v.jsx)("article",{className:"text text-sm text-foreground-light",children:(0,v.jsx)(t7.U,{className:"max-w-none",content:n.description.replaceAll("[ref]",null!=s?s:"_")})})})]}),r.map(function(e){return(0,v.jsxs)("div",{className:"px-4 space-y-2",children:[(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:e.title}),(0,v.jsx)("div",{className:"codeblock-container",children:(0,v.jsx)("div",{className:"bg rounded p-2",children:(0,v.jsx)(t9.Z,{className:t,children:e[t]})})})]},e.key)})]})},nx=function(e){var t=e.language,n=e.apikey,r=e.endpoint,s=(0,f.UO)().ref,a=(0,ez.WZ)(),i=(0,nf.K)({projectRef:s}).data,o=a.activeDocsSection[1],c=(null!=i?i:[]).find(function(e){return e.name===o}),l=null==c?void 0:c.allowed_mime_types,u=null==c?void 0:c.file_size_limit;return void 0===c?null:(0,v.jsxs)("div",{className:"divide-y",children:[(0,v.jsxs)("div",{className:"space-y-1 px-4 py-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("h2",{className:"text-xl",children:c.name}),(0,v.jsx)(S.Z,{color:c.public?"amber":"scale",children:c.public?"Public":"Private"})]}),(0,v.jsxs)("p",{className:"text-sm text-foreground-light",children:["Allowed MIME types:"," ",null===l?"All types are allowed":0===(null!=l?l:[]).length?"No types are allowed":(null!=l?l:[]).length>1?(null!=l?l:[]).join(", "):"Unknown"]}),(0,v.jsxs)("p",{className:"text-sm text-foreground-light",children:["Max file size limit:"," ",null===u?"No limit":"".concat((0,tw.td)(u))]})]}),(0,v.jsx)(ng,{selectedLanguage:t,snippet:nr.uploadFile,codeSnippets:nr.uploadFile.code({name:o,apikey:n,endpoint:r})}),(0,v.jsx)(ng,{selectedLanguage:t,snippet:nr.deleteFiles,codeSnippets:nr.deleteFiles.code({name:o,apikey:n,endpoint:r})}),(0,v.jsx)(ng,{selectedLanguage:t,snippet:nr.listFiles,codeSnippets:nr.listFiles.code({name:o,apikey:n,endpoint:r})}),(0,v.jsx)(ng,{selectedLanguage:t,snippet:nr.downloadFile,codeSnippets:nr.downloadFile.code({name:o,apikey:n,endpoint:r})}),c.public?(0,v.jsx)(ng,{selectedLanguage:t,snippet:nr.retrievePublicURL,codeSnippets:nr.retrievePublicURL.code({name:o,apikey:n,endpoint:r})}):(0,v.jsx)(ng,{selectedLanguage:t,snippet:nr.createSignedURL,codeSnippets:nr.createSignedURL.code({name:o,apikey:n,endpoint:r})})]})},nb=n(98572),nv=function(e){var t=e.language,n=e.apikey,r=e.endpoint,s=(0,f.UO)().ref,a=(0,ez.WZ)(),i=(0,nb.IB)({projectRef:s}).data,o=a.activeDocsSection[1],c=(null!=i?i:[]).find(function(e){return e.name===o});return void 0===c?null:(0,v.jsxs)("div",{className:"divide-y",children:[(0,v.jsx)("div",{className:"space-y-1 px-4 py-4",children:(0,v.jsx)("div",{className:"flex items-center space-x-2",children:(0,v.jsx)("h2",{className:"text-xl",children:c.name})})}),(0,v.jsx)(ng,{selectedLanguage:t,snippet:nr.invokeEdgeFunction,codeSnippets:nr.invokeEdgeFunction.code({name:o,endpoint:"".concat(r),apikey:void 0===n?"API_KEY":n})})]})},nj=n(55268),ny=n(62175),nw=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},nk=function(e){var t=e.lastIndexOf("Note:\nThis is a Primary Key.<pk/>"),n=e.lastIndexOf("Note:\nThis is a Foreign Key to"),r=e;return t>=0&&(r=r.substring(0,t)),n>=0&&(r=r.substring(0,n)),r},nN=n(82654),nO=n(92198),nS=n(77740),nP=n(15742),nC=function(e){var t=e.simplifiedVersion,n=void 0!==t&&t,r=(0,ez.WZ)(),s=(0,C.useState)(!1),a=s[0],i=s[1],o=function(e){r.setDocsLanguage(e),i(!1)};return(0,v.jsx)("div",{className:"flex items-center gap-x-2",children:(0,v.jsxs)(nN.J2,{modal:!1,open:a,onOpenChange:i,children:[(0,v.jsx)(nN.xo,{asChild:!0,children:(0,v.jsx)(ea.z,{type:"default",className:n?"px-1":"",icon:n?"js"===r.docsLanguage?(0,v.jsx)("img",{src:"".concat(m.GW,"/img/libraries/javascript-icon.svg"),alt:"javascript logo",width:"14"}):(0,v.jsx)(nO.Z,{size:14,strokeWidth:2.5}):void 0,iconRight:!n&&(0,v.jsx)(nS.Z,{size:14,strokeWidth:2}),children:n?void 0:"Language: ".concat("js"===r.docsLanguage?"Javascript":"Bash")})}),(0,v.jsx)(nN.yk,{className:"p-0 w-24",side:"bottom",align:"end",children:(0,v.jsx)(nP.mY,{children:(0,v.jsx)(nP.e8,{children:(0,v.jsxs)(nP.fu,{children:[(0,v.jsx)(nP.di,{className:"cursor-pointer",onSelect:function(){return o("js")},onClick:function(){return o("js")},children:(0,v.jsx)("p",{children:"Javascript"})}),(0,v.jsx)(nP.di,{className:"cursor-pointer",onSelect:function(){return o("bash")},onClick:function(){return o("bash")},children:(0,v.jsx)("p",{children:"Bash"})})]})})})})]})})};function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var n_=function(e){var t,n,r=e.language,s=e.apikey,a=void 0===s?"":s,i=e.endpoint,o=void 0===i?"":i,c=(0,f.UO)().ref,l=(0,ez.WZ)().activeDocsSection[1],u=(0,ny.at)({projectRef:c}),d=u.data,p=u.refetch,m=null==d?void 0:null===(t=d.definitions)||void 0===t?void 0:t[l],h=void 0!==m?Object.entries(m.properties).map(function(e){var t=(0,eN.Z)(e,2),n=t[0];return nZ(nZ({},t[1]),{},{id:n,required:m.required.includes(n)})}):[];return((0,C.useEffect)(function(){void 0!==l&&p()},[l]),void 0===l)?null:(0,v.jsxs)("div",{className:"divide-y relative",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 sticky top-0 bg-surface-100 z-10 border-b shadow-md",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,v.jsx)("h2",{className:"text-xl",children:l}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:null!==(n=null==m?void 0:m.description)&&void 0!==n?n:"No description available"})]}),(0,v.jsx)(nC,{})]}),(0,v.jsxs)("div",{className:"space-y-2 px-4 py-4 !border-t-0",children:[(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Columns"}),(0,v.jsx)(nj.Z,{head:[(0,v.jsx)(nj.Z.th,{children:"Name"},"name"),(0,v.jsx)(nj.Z.th,{children:"Format"},"format"),(0,v.jsx)(nj.Z.th,{children:"Type"},"type"),(0,v.jsx)(nj.Z.th,{children:"Description"},"description")],body:h.map(function(e){var t,n=function(e,t){if(void 0===e&&("jsonb"===t||"json"===t))return"json";switch(e){case"string":return"string";case"integer":case"number":return"number";case"json":return"json";case"boolean":return"boolean";default:return e}}(e.type,e.format);return(0,v.jsxs)(nj.Z.tr,{children:[(0,v.jsx)(nj.Z.td,{title:e.id,children:e.id}),(0,v.jsx)(nj.Z.td,{title:e.format,children:(0,v.jsx)("p",{className:"truncate",children:e.format})}),(0,v.jsx)(nj.Z.td,{title:n,children:n}),(0,v.jsx)(nj.Z.td,{title:e.description,children:nk(null!==(t=e.description)&&void 0!==t?t:"").trim()})]},e.id)})})]}),(0,v.jsx)(ng,{selectedLanguage:r,snippet:nr.readRows,codeSnippets:nr.readRows.code({resourceId:l,endpoint:o,apikey:a})}),(0,v.jsx)(ng,{selectedLanguage:r,snippet:nr.filtering,codeSnippets:nr.filtering.code({resourceId:l,endpoint:o,apikey:a})}),(0,v.jsx)(ng,{selectedLanguage:r,snippet:nr.insertRows,codeSnippets:nr.insertRows.code({resourceId:l,endpoint:o,apikey:a})}),(0,v.jsx)(ng,{selectedLanguage:r,snippet:nr.updateRows,codeSnippets:nr.updateRows.code({resourceId:l,endpoint:o,apikey:a})}),(0,v.jsx)(ng,{selectedLanguage:r,snippet:nr.deleteRows,codeSnippets:nr.deleteRows.code({resourceId:l,endpoint:o,apikey:a})}),(0,v.jsx)(ng,{selectedLanguage:r,snippet:nr.subscribeChanges,codeSnippets:nr.subscribeChanges.code({resourceId:l})})]})},nI=["enabled"];function nL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nL(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nA(){return(nA=(0,s.Z)(i().mark(function e(t,n){var r,s,a,o,c,l;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,tz.U2)("/platform/projects/{ref}/api/rest",{params:{path:{ref:r}},signal:n});case 5:if(a=(s=e.sent).data,!(o=s.error)){e.next=10;break}throw o;case 10:return c=a.definitions?Object.entries(a.definitions).map(function(e){var t=(0,eN.Z)(e,2),n=t[0],r=t[1];return nD(nD({},r),{},{name:n,fields:Object.entries(r.properties||{}).map(function(e){var t=(0,eN.Z)(e,2),n=t[0];return nD(nD({},t[1]),{},{name:n})})})}):[],l=a.paths?Object.entries(a.paths).map(function(e){var t=(0,eN.Z)(e,2),n=t[0];return nD(nD({},t[1]),{},{path:n,name:n.replace("/rpc/","")})}).filter(function(e){return e.path.includes("/rpc")}).sort(function(e,t){return e.name.localeCompare(t.name)}):[],e.abrupt("return",{data:a,tables:c,functions:l});case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var nT=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,s=(0,tT.Z)(n,nI);return(0,tR.a)(["projects",t,"open-api-spec"],function(e){return function(e,t){return nA.apply(this,arguments)}({projectRef:t},e.signal)},nD({enabled:(void 0===r||r)&&void 0!==t},s))},nR=function(e){var t,n,r=e.language,s=(0,f.UO)().ref,a=(0,ez.WZ)(),i=(0,ny.at)({projectRef:s}),o=i.data,c=i.refetch,l=nT({projectRef:s}),u=l.data,d=l.refetch,p=null!==(t=null==u?void 0:u.functions)&&void 0!==t?t:[],m=a.activeDocsSection[1],h=p.find(function(e){return e.name===m}),g=null==o?void 0:o.paths[null==h?void 0:h.path],x=null==g?void 0:g.post.summary,b=null!==(n=null==h?void 0:h.get.parameters)&&void 0!==n?n:[];return((0,C.useEffect)(function(){void 0!==m&&(c(),d())},[m]),void 0===h)?null:(0,v.jsxs)("div",{className:"divide-y",children:[(0,v.jsxs)("div",{className:"space-y-1 px-4 py-4",children:[(0,v.jsx)("h2",{className:"text-xl",children:h.name}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:null!=x?x:"No description available"})]}),(0,v.jsxs)("div",{className:"space-y-2 px-4 py-4",children:[(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Function arguments"}),(0,v.jsx)(nj.Z,{head:[(0,v.jsx)(nj.Z.th,{children:"Name"},"name"),(0,v.jsx)(nj.Z.th,{children:"Format"},"format"),(0,v.jsx)(nj.Z.th,{children:"Type"},"type"),(0,v.jsx)(nj.Z.th,{},"required")],body:b.map(function(e){return(0,v.jsxs)(nj.Z.tr,{children:[(0,v.jsx)(nj.Z.td,{title:e.name,children:(0,v.jsx)("p",{className:"font-mono text-xs text-foreground truncate",children:e.name})}),(0,v.jsx)(nj.Z.td,{title:e.format,children:e.format}),(0,v.jsx)(nj.Z.td,{title:e.type,children:e.type}),(0,v.jsx)(nj.Z.td,{children:e.required?(0,v.jsx)(S.Z,{color:"amber",children:"Required"}):(0,v.jsx)("p",{className:"text-foreground-light",children:"Optional"})})]},e.name)})})]}),(0,v.jsx)(ng,{selectedLanguage:r,snippet:nr.rpcSingle,codeSnippets:nr.rpcSingle.code({rpcName:m,rpcParams:b,endpoint:"endpoint",apiKey:"apiKey",showBearer:!0})})]})},nz=function(){return(0,v.jsx)("div",{className:"border-t !mt-3 pb-1 mx-3"})},nF=function(){var e,t,n=(0,f.UO)().ref,r=(0,ez.WZ)(),s=(0,d.N3)(["project_auth:all","project_storage:all","project_edge_function:all","realtime:all"]),a=s.projectAuthAll,i=s.projectStorageAll,o=s.projectEdgeFunctionAll,c=s.realtimeAll,l=nt.filter(function(e){return"user-management"===e.key?a:"storage"===e.key?i:"edge-functions"===e.key?o:"realtime"!==e.key||c}),u=nT({projectRef:n}).data,p=null!==(e=null==u?void 0:u.tables)&&void 0!==e?e:[],h=null!==(t=null==u?void 0:u.functions)&&void 0!==t?t:[],g=(0,nf.K)({projectRef:n}).data,x=(0,nb.IB)({projectRef:n}).data;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"px-2 py-4  border-b",children:l.map(function(e){var t=r.activeDocsSection[0]===e.key,n=Object.values(nn).filter(function(t){return t.category===e.key});return(0,v.jsxs)(C.Fragment,{children:[(0,v.jsx)("div",{className:"cursor-pointer text-sm py-2 px-3 rounded-md transition ".concat(t?"bg-surface-300":""),onClick:function(){return r.setActiveDocsSection([e.key])},children:e.name}),t&&n.length>0&&(0,v.jsxs)("div",{className:"space-y-2 py-2",children:[n.map(function(t){return(0,v.jsx)("p",{title:t.title,className:"text-sm text-foreground-light px-4 hover:text-foreground transition cursor-pointer",onClick:function(){r.setActiveDocsSection([e.key]),nw(t.key)},children:t.title},t.key)}),"entities"===e.key&&(0,v.jsxs)(v.Fragment,{children:[p.length>0&&(0,v.jsx)(nz,{}),p.map(function(t){return(0,v.jsx)("p",{title:t.name,className:"text-sm text-foreground-light px-4 hover:text-foreground transition cursor-pointer",onClick:function(){return r.setActiveDocsSection([e.key,t.name])},children:t.name},t.name)})]}),"stored-procedures"===e.key&&(0,v.jsxs)(v.Fragment,{children:[h.length>0&&(0,v.jsx)(nz,{}),h.map(function(t){return(0,v.jsx)("p",{title:t.name,className:"text-sm text-foreground-light px-4 hover:text-foreground transition cursor-pointer",onClick:function(){return r.setActiveDocsSection([e.key,t.name])},children:t.name},t.name)})]}),"storage"===e.key&&(0,v.jsxs)(v.Fragment,{children:[(null!=g?g:[]).length>0&&(0,v.jsx)(nz,{}),(null!=g?g:[]).map(function(t){return(0,v.jsx)("p",{title:t.name,className:"text-sm text-foreground-light px-4 hover:text-foreground transition cursor-pointer",onClick:function(){return r.setActiveDocsSection([e.key,t.name])},children:t.name},t.name)})]}),"edge-functions"===e.key&&(0,v.jsxs)(v.Fragment,{children:[(null!=x?x:[]).length>0&&(0,v.jsx)(nz,{}),(null!=x?x:[]).map(function(t){return(0,v.jsx)("p",{title:t.name,className:"text-sm text-foreground-light px-4 hover:text-foreground transition cursor-pointer",onClick:function(){return r.setActiveDocsSection([e.key,t.name])},children:t.name},t.name)})]})]})]},e.key)})}),(0,v.jsxs)("div",{className:"px-2 py-4 border-b",children:[(0,v.jsx)(ea.z,{block:!0,asChild:!0,type:"text",size:"small",icon:(0,v.jsx)(eo.Z,{src:"".concat(m.GW,"/img/graphql.svg"),style:{width:"".concat(16,"px"),height:"".concat(16,"px")},className:"text-foreground",preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}),onClick:function(){return r.setShowProjectApiDocs(!1)},children:(0,v.jsx)(b(),{className:"!justify-start",href:"/project/".concat(n,"/api/graphiql"),children:"GraphiQL"})}),(0,v.jsx)(ea.z,{block:!0,asChild:!0,type:"text",size:"small",icon:(0,v.jsx)(el.Z,{}),children:(0,v.jsx)(b(),{href:"https://supabase.com/docs/guides/graphql",target:"_blank",rel:"noreferrer",className:"!justify-start",children:"GraphQL guide"})})]}),(0,v.jsxs)("div",{className:"px-2 py-4",children:[(0,v.jsx)(ea.z,{block:!0,asChild:!0,type:"text",size:"small",icon:(0,v.jsx)(ec.Z,{}),children:(0,v.jsx)(b(),{href:"https://supabase.com/docs",target:"_blank",rel:"noreferrer",className:"!justify-start",children:"Documentation"})}),(0,v.jsx)(ea.z,{block:!0,asChild:!0,type:"text",size:"small",icon:(0,v.jsx)(el.Z,{}),children:(0,v.jsx)(b(),{href:"https://supabase.com/docs/guides/api",target:"_blank",rel:"noreferrer",className:"!justify-start",children:"REST guide"})})]})]})},nU=n(51803),nM=n(35852),nB=function(){var e,t,n=(0,f.UO)().ref,r=(0,ez.WZ)(),s=(0,C.useState)(!1),a=s[0],i=s[1],o=(0,eu.cg)(),c=nT({projectRef:n}).data,l=null!==(e=null==c?void 0:c.tables)&&void 0!==e?e:[],u=null!==(t=null==c?void 0:c.functions)&&void 0!==t?t:[],d=(0,eN.Z)(r.activeDocsSection,2),p=d[0],m=d[1],h=(0,nf.K)({projectRef:n}).data,g=(0,nb.IB)({projectRef:n}).data,x=(null!=h?h:[]).find(function(e){return e.name===m}),j={entities:{title:"Tables & Views",options:l,docsUrl:"https://supabase.com/docs/reference/javascript/select"},"stored-procedures":{title:"Stored Procedures",options:u,docsUrl:"https://supabase.com/docs/reference/javascript/rpc"},storage:{title:"Storage",options:null!=h?h:[],docsUrl:"https://supabase.com/docs/reference/javascript/storage-createbucket"},"edge-functions":{title:"Edge Functions",options:null!=g?g:[],docsUrl:"https://supabase.com/docs/reference/javascript/functions-invoke"}},y=function(e){r.setActiveDocsSection([r.activeDocsSection[0],e]),i(!1)},w=Object.values(nr).filter(function(e){return e.category===r.activeDocsSection[0]});return(0,v.jsxs)("div",{className:"py-4",children:[(0,v.jsxs)("div",{className:"px-4 flex items-center space-x-2 mb-2",children:[o&&(0,v.jsx)(ea.z,{type:"text",icon:(0,v.jsx)(nU.Z,{}),className:"px-1",onClick:function(){return r.setActiveDocsSection([r.activeDocsSection[0]])}}),(0,v.jsx)("p",{className:"text-sm text-foreground-light capitalize",children:j[p].title})]}),(0,v.jsxs)(nN.J2,{open:a,onOpenChange:i,modal:!1,children:[(0,v.jsx)(nN.xo,{asChild:!0,children:(0,v.jsx)("div",{className:"px-4",children:(0,v.jsx)(ea.z,{block:!0,type:"default",size:"small",className:"[&>span]:w-full",children:(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,v.jsx)("p",{children:r.activeDocsSection[1]}),(0,v.jsx)("div",{children:(0,v.jsx)(nM.Z,{className:"rotate-90",strokeWidth:1.5,size:12})})]})})})})}),(0,v.jsx)(nN.yk,{className:"p-0 w-60",side:"bottom",align:"center",children:(0,v.jsx)(nP.mY,{children:(0,v.jsx)(nP.e8,{children:(0,v.jsx)(nP.fu,{children:j[p].options.map(function(e){return(0,v.jsx)(nP.di,{className:"cursor-pointer",onSelect:function(){return y(e.name)},onClick:function(){return y(e.name)},children:(0,v.jsx)("p",{children:e.name})},e.name)})})})})})]}),(0,v.jsx)("div",{className:"px-2 py-4 space-y-2",children:w.map(function(e){return"storage"===p&&void 0!==x&&(!x.public&&"retrieve-public-url"===e.key||x.public&&"create-signed-url"===e.key)?null:(0,v.jsx)("p",{title:e.title,className:"text-sm text-foreground-light px-4 hover:text-foreground transition cursor-pointer",onClick:function(){return nw(e.key)},children:e.title},e.key)})}),(0,v.jsx)("div",{className:"px-4 py-4 border-t space-y-2",children:(0,v.jsxs)(ex.bZ,{className:"p-3",children:[(0,v.jsx)(ex.Cd,{children:(0,v.jsx)("p",{className:"text-xs",children:"Unable to find what you're looking for?"})}),(0,v.jsxs)(ex.X,{className:"space-y-1",children:[(0,v.jsx)("p",{className:"text-xs !leading-normal",children:"The API methods shown here are only the commonly used ones to get you started building quickly."}),(0,v.jsx)("p",{className:"text-xs !leading-normal",children:"Head over to our docs site for the full API documentation."}),(0,v.jsx)(ea.z,{asChild:!0,className:"!mt-2",size:"tiny",type:"default",icon:(0,v.jsx)(ev.Z,{strokeWidth:1.5}),children:(0,v.jsx)(b(),{href:j[p].docsUrl,target:"_blank",rel:"noreferrer",children:"Documentation"})})]})]})})]})},nq=function(){var e,t,n,r,s=(0,f.UO)().ref,a=(0,ez.WZ)(),i=2===a.activeDocsSection.length&&"entities"===a.activeDocsSection[0],o=(0,C.useState)(!1),c=o[0],l=o[1],u=a.docsLanguage,d=(0,t6.qP)({projectRef:s}).data,p=(0,t8.z)({projectRef:s}).data,m=c&&null!==(e=null==d?void 0:d.autoApiService.defaultApiKey)&&void 0!==e?e:"SUPABASE_CLIENT_ANON_KEY",h=(null==p?void 0:null===(t=p.customDomain)||void 0===t?void 0:t.status)==="active"?"https://".concat(null===(n=p.customDomain)||void 0===n?void 0:n.hostname,"/auth/v1/callback"):"https://".concat(null!==(r=null==d?void 0:d.autoApiService.endpoint)&&void 0!==r?r:"");return(0,v.jsx)(t5.ZP,{hideFooter:!0,size:"xxlarge",className:"max-w-5xl",visible:a.showProjectApiDocs,onCancel:function(){return a.setShowProjectApiDocs(!1)},children:(0,v.jsxs)("div",{className:"flex items-start h-full",children:[(0,v.jsxs)("div",{className:"w-64 border-r h-full",children:[(0,v.jsxs)("div",{className:"border-b px-4 py-2 flex items-center justify-between",children:[(0,v.jsx)("h4",{children:"API Docs"}),(0,v.jsxs)("div",{className:"flex items-center space-x-1",children:[!i&&(0,v.jsx)(nC,{simplifiedVersion:!0}),(0,v.jsx)(ea.z,{type:"default",onClick:function(){return l(!c)},children:c?"Hide keys":"Show keys"})]})]}),1===a.activeDocsSection.length?(0,v.jsx)(nF,{}):(0,v.jsx)(nB,{})]}),(0,v.jsxs)("div",{className:"flex-1 divide-y space-y-4 max-h-screen overflow-auto",children:["introduction"===a.activeDocsSection[0]&&(0,v.jsx)(nu,{showKeys:c,language:u,apikey:m,endpoint:h}),"user-management"===a.activeDocsSection[0]&&(0,v.jsx)(nh,{language:u,apikey:m,endpoint:h}),"realtime"===a.activeDocsSection[0]&&(0,v.jsx)(nd,{language:u}),"storage"===a.activeDocsSection[0]&&(0,v.jsx)(v.Fragment,{children:void 0!==a.activeDocsSection[1]?(0,v.jsx)(nx,{language:u,apikey:m,endpoint:h}):(0,v.jsx)(np,{language:u})}),"edge-functions"===a.activeDocsSection[0]&&(0,v.jsx)(v.Fragment,{children:void 0!==a.activeDocsSection[1]?(0,v.jsx)(nv,{language:u,apikey:m,endpoint:h}):(0,v.jsx)(ns,{language:u})}),"entities"===a.activeDocsSection[0]&&(0,v.jsx)(v.Fragment,{children:void 0!==a.activeDocsSection[1]?(0,v.jsx)(n_,{language:u,apikey:m,endpoint:h}):(0,v.jsx)(no,{language:u})}),"stored-procedures"===a.activeDocsSection[0]&&(0,v.jsx)(v.Fragment,{children:void 0!==a.activeDocsSection[1]?(0,v.jsx)(nR,{language:u}):(0,v.jsx)(nm,{language:u})})]})]})})},nW=["/project/[ref]/settings/general","/project/[ref]/settings/database","/project/[ref]/settings/storage","/project/[ref]/settings/infrastructure"],nV=["/project/[ref]/branches","/project/[ref]/database/backups/scheduled"],nG=["/project/[ref]/reports","/project/[ref]/settings/general","/project/[ref]/settings/database","/project/[ref]/settings/infrastructure"],nH=function(e){var t=e.title,n=e.isLoading,r=void 0!==n&&n,s=e.product,a=void 0===s?"":s,i=e.productMenu,o=e.children,u=e.hideHeader,p=e.hideIconBar,f=e.selectedTable,g=(0,l.useRouter)(),x=(0,eg.UO)().ref,b=(0,d.lL)(),j=(0,d.Vm)(),y=null==j?void 0:j.name,w=null==b?void 0:b.name,k=(0,d.P5)("navigationLayoutV2"),N=(null==j?void 0:j.status)===m.S.INACTIVE,O="/project/[ref]"===g.pathname||g.pathname.includes("/project/[ref]/settings"),S=N&&!O;return(0,v.jsx)(h.Z,{children:(0,v.jsxs)(tk.Ml,{projectRef:x,children:[(0,v.jsxs)(c(),{children:[(0,v.jsx)("title",{children:t?"".concat(t," | Supabase"):f?"".concat(f," | ").concat(y," | ").concat(w," | Supabase"):y?"".concat(y," | ").concat(w," | Supabase"):w?"".concat(w," | Supabase"):"Supabase"}),(0,v.jsx)("meta",{name:"description",content:"Supabase Studio"})]}),(0,v.jsxs)("div",{className:"flex h-full",children:[!(void 0!==p&&p)&&(0,v.jsx)(tI,{}),!S&&(0,v.jsx)(nQ,{isLoading:r,productMenu:i,children:(0,v.jsx)(tV,{title:a,children:i})}),(0,v.jsxs)("main",{className:"flex flex-col flex-1 w-full overflow-x-hidden",children:[!k&&!(void 0!==u&&u)&&m.Qy&&(0,v.jsx)(H,{}),S?(0,v.jsx)("div",{className:"mx-auto my-16 w-full h-full max-w-7xl flex items-center",children:(0,v.jsx)("div",{className:"w-full",children:(0,v.jsx)(tG.Z,{product:a})})}):(0,v.jsxs)(nK,{isLoading:r,children:[(0,v.jsx)(ek,{}),o]})]})]}),(0,v.jsx)(eQ,{}),(0,v.jsx)(nq,{})]})})},nY=(0,d.QO)(nH),nQ=function(e){var t=e.isLoading,n=e.productMenu,r=e.children,s=(0,l.useRouter)(),a=(0,d.Vm)(),i=!nW.includes(s.pathname);return(0,v.jsx)(v.Fragment,{children:!t&&n&&(!i||i&&void 0!==a)?r:null})},nK=function(e){var t=e.isLoading,n=e.children,r=(0,l.useRouter)(),s=(0,d.Vm)(),a=r.pathname.includes("/project/[ref]/settings"),i="/project/[ref]/settings/vault"===r.pathname,o=!a&&!nV.includes(r.pathname)||i,c=!nG.includes(r.pathname),u=!nW.includes(r.pathname),p=(null==s?void 0:s.status)===m.S.UPGRADING,h=(null==s?void 0:s.status)===m.S.RESTORING,f=(null==s?void 0:s.status)===m.S.COMING_UP||(null==s?void 0:s.status)===m.S.UNKNOWN,g=(null==s?void 0:s.status)===m.S.GOING_DOWN||(null==s?void 0:s.status)===m.S.PAUSING,x=(null==s?void 0:s.postgrestStatus)==="OFFLINE";return(0,v.jsx)(v.Fragment,{children:t||u&&void 0===s?r.pathname.endsWith("[ref]")?(0,v.jsx)(tu,{}):(0,v.jsx)(t3.Z,{}):p?(0,v.jsx)(t4,{}):g?(0,v.jsx)(tW,{project:s}):c&&x?(0,v.jsx)(tl,{project:s}):o&&h?(0,v.jsx)(tQ,{}):o&&f?(0,v.jsx)(e8,{}):(0,v.jsx)(C.Fragment,{children:n},null==s?void 0:s.ref)})},nX=function(e){var t=e.title,n=e.product,r=void 0===n?"":n,s=e.productMenu,a=e.children,i=e.hideHeader,o=e.hideIconBar,u=(0,d.Vm)(),p=(0,l.useRouter)(),f=(0,eg.UO)().ref,g=(null==u?void 0:u.status)===m.S.INACTIVE,x="/project/[ref]"===p.pathname||p.pathname.includes("/project/[ref]/settings"),b=g&&!x,j=(0,d.P5)("navigationLayoutV2");return(0,v.jsx)(h.Z,{children:(0,v.jsxs)(tk.Ml,{projectRef:f,children:[(0,v.jsxs)(c(),{children:[(0,v.jsx)("title",{children:t?"".concat(t," | Supabase"):"Supabase"}),(0,v.jsx)("meta",{name:"description",content:"Supabase Studio"}),(0,v.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,v.jsxs)("div",{className:"flex h-full",children:[!(void 0!==o&&o)&&(0,v.jsx)(tI,{}),s&&!b&&(0,v.jsx)(tV,{title:r,children:s}),(0,v.jsxs)("main",{className:"flex w-full flex-1 flex-col overflow-x-hidden",children:[!j&&!(void 0!==i&&i)&&m.Qy&&(0,v.jsx)(H,{}),b?(0,v.jsx)("div",{className:"mx-auto my-16 w-full h-full max-w-7xl flex items-center",children:(0,v.jsx)("div",{className:"w-full",children:(0,v.jsx)(tG.Z,{product:r})})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ek,{}),a]})]})]}),(0,v.jsx)(eQ,{}),(0,v.jsx)(nq,{})]})})},n$=function(e,t,n,s){var a,i,o,c=(null==t?void 0:t.status)===m.S.COMING_UP,l="/project/".concat(e,"/building"),u=null===(a=null==s?void 0:s.auth)||void 0===a||a,d=null===(i=null==s?void 0:s.edgeFunctions)||void 0===i||i,p=null===(o=null==s?void 0:s.storage)||void 0===o||o;return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},{name:"Infrastructure",key:"infrastructure",url:c?l:"/project/".concat(e,"/settings/infrastructure"),items:[]}].concat((0,r.Z)(m.Qy?[{name:"Integrations",key:"integrations",url:"/project/".concat(e,"/settings/integrations"),items:[]}]:[]),[{name:"Add Ons",key:"addons",url:"/project/".concat(e,"/settings/addons"),items:[]}],[{name:"Vault",key:"vault",url:c?l:"/project/".concat(e,"/settings/vault/secrets"),items:[],label:"BETA"}])},{title:"",items:[{name:"Database",key:"database",url:c?l:"/project/".concat(e,"/settings/database"),items:[]},{name:"API",key:"api",url:c?l:"/project/".concat(e,"/settings/api"),items:[]}].concat((0,r.Z)(m.Qy&&u?[{name:"Authentication",key:"auth",url:c?l:"/project/".concat(e,"/settings/auth"),items:[]}]:[]),(0,r.Z)(m.Qy&&p?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/settings/storage"),items:[]}]:[]),(0,r.Z)(m.Qy&&d?[{name:"Edge Functions",key:"functions",url:"/project/".concat(e,"/settings/functions"),items:[]}]:[]))},{title:"Billing",items:[{name:"Subscription",key:"subscription",url:"/org/".concat(null==n?void 0:n.slug,"/billing"),items:[]},{name:"Usage",key:"usage",url:"/org/".concat(null==n?void 0:n.slug,"/usage?projectRef=").concat(e),items:[]}]}]},nJ=(0,d.QO)((0,B.Pi)(function(e){var t=e.title,n=e.children,r=(0,l.useRouter)(),s=(0,f.UO)().ref,a=(0,d.oR)(),i=a.ui,o=a.meta,c=(0,d.Vm)(),u=(0,d.lL)(),p=r.pathname.includes("billing")?r.pathname.split("/")[5]:r.pathname.split("/")[4],m=(0,d.N3)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),h=n$(s,c,u,{auth:m.projectAuthAll,edgeFunctions:m.projectEdgeFunctionAll,storage:m.projectStorageAll,invoices:m.billingInvoices});return(0,C.useEffect)(function(){i.selectedProjectRef&&o.extensions.load()},[i.selectedProjectRef]),(0,v.jsx)(sP,{title:t||"Settings",product:"Settings",productMenu:(0,v.jsx)(J.Z,{page:p,menu:h}),children:(0,v.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:n})})})),n0=(0,d.QO)(function(e){var t,n=e.title,r=e.children,s=(0,l.useRouter)(),a=(0,d.Vm)(),i=s.pathname.split("/")[4]||"",o=null!==(t=null==a?void 0:a.ref)&&void 0!==t?t:"default";return(0,d.N3)("project_storage:all"),(0,v.jsx)(sP,{title:n,product:"Reports",productMenu:(0,v.jsx)(J.Z,{page:i,menu:[{title:"",items:[{name:"Custom reports",key:"[id]",url:"/project/".concat(o,"/reports"),items:[]}]},{items:[{name:"API",key:"api-overview",url:"/project/".concat(o,"/reports/api-overview"),items:[]},{name:"Storage",key:"storage",url:"/project/".concat(o,"/reports/storage"),items:[],label:"NEW"},{name:"Database",key:"database",url:"/project/".concat(o,"/reports/database"),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(o,"/reports/query-performance"),items:[]}]}]}),children:(0,v.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:r})})}),n1=n(59491),n2=n(31375),n4=n(15659),n3=n(92475),n5=n(37852),n6=n(96352),n8=n(7825);function n9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n7(e){return"sql"===e.type}var re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n8.I1)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n9(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({select:function(e){return{snippets:e.content.filter(n7)}}},t))},rt=n(44183),rn=n(58860),rr=n(98168),rs=n(78201);function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ri=function(e){return(0,v.jsx)(Z.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:rs.Z},e))},ro=n(77426),rc=n(37927),rl=n(1410),ru=n(97512),rd=n(27701),rp=n(43635),rm=n(58414),rh=n(1986),rf=function(e){var t,n=e.snippet,r=e.visible,a=e.onCancel,o=e.onComplete,c=(0,d.oR)().ui,l=(0,f.UO)().ref,u=(0,d.lL)(),p=(0,rn.W2)(),m=(0,d.P5)("sqlEditorSupabaseAI"),h=(0,U.G)({orgSlug:null==u?void 0:u.slug}).data,g=(0,rh.$)(h),x=n.id,b=n.name,j=n.description,y=(0,C.useState)(b),w=y[0],k=y[1],N=(0,C.useState)(j),O=N[0],S=N[1];(0,C.useEffect)(function(){k(b)},[b]);var P=(t=(0,s.Z)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.setSubmitting,l){e.next=3;break}return e.abrupt("return",console.error("Project ref is required"));case 3:if(x){e.next=5;break}return e.abrupt("return",console.error("Snippet ID is required"));case 5:return r(!0),e.prev=6,p.renameSnippet(x,w,O),o&&o(),e.abrupt("return",Promise.resolve());case 12:e.prev=12,e.t0=e.catch(6),c.setNotification({error:e.t0,category:"error",message:"Failed to rename query: ".concat(e.t0.message)});case 15:case"end":return e.stop()}},e,null,[[6,12]])})),function(e,n){return t.apply(this,arguments)}),E=(0,ru.g)(),Z=E.mutateAsync,_=E.isLoading,I=!!n.content.sql;return(0,v.jsx)(eP.C,{visible:r,onCancel:a,hideFooter:!0,header:"Rename",size:"small",children:(0,v.jsx)(rp.Z,{onReset:a,validateOnBlur:!0,initialValues:{name:null!=b?b:"",description:null!=j?j:""},validate:function(){var e={};return w||(e.name="Please enter a query name"),e},onSubmit:P,children:function(e){var t=e.isSubmitting;return(0,v.jsxs)("div",{className:"space-y-4 py-4",children:[(0,v.jsxs)(eP.C.Content,{children:[(0,v.jsx)(nc.Z,{label:"Name",id:"name",name:"name",value:w,onChange:function(e){return k(e.target.value)}}),(0,v.jsx)("div",{className:"flex w-full justify-end mt-2",children:m&&!g&&I&&(0,v.jsx)(ea.z,{type:"default",onClick:(0,s.Z)(i().mark(function e(){var t,r,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z({sql:n.content.sql});case 3:r=(t=e.sent).title,s=t.description,k(r),O||S(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,rd.V)(e.t0)&&c.setNotification({category:"error",message:"Failed to rename query: ".concat(e.t0.message)});case 13:case"end":return e.stop()}},e,null,[[0,10]])})),size:"tiny",disabled:_,children:(0,v.jsxs)("div",{className:"flex items-center gap-1",children:[(0,v.jsx)("div",{className:"scale-75",children:(0,v.jsx)(rm.c,{loading:_})}),(0,v.jsx)("span",{children:"Rename with Supabase AI"})]})})})]}),(0,v.jsx)(eP.C.Content,{children:(0,v.jsx)(nc.Z.TextArea,{label:"Description",id:"description",placeholder:"Describe query",size:"medium",textAreaClassName:"resize-none",value:O,onChange:function(e){return S(e.target.value)}})}),(0,v.jsx)(eP.C.Separator,{}),(0,v.jsx)(eP.C.Content,{children:(0,v.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,v.jsx)(ea.z,{htmlType:"reset",type:"default",onClick:a,disabled:t,children:"Cancel"}),(0,v.jsx)(ea.z,{htmlType:"submit",loading:t,disabled:t,children:"Rename query"})]})})]})}})})},rg=n(13734),rx=n(62350),rb=n(62202),rv=n(40780),rj=["onSuccess","onError"];function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rw(){return(rw=(0,s.Z)(i().mark(function e(t,n){var r,s,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectRef,s=t.id,e.next=3,(0,e3.$v)("".concat(m.T5,"/projects/").concat(r,"/content?id=").concat(s),void 0,{signal:n});case 3:if(a=e.sent,(0,e3.d8)(a)){e.next=6;break}throw a.error;case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var rk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,tT.Z)(e,rj),a=(0,eK.NL)();return(0,rx.D)(function(e){return function(e,t){return rw.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,s.Z)(i().mark(function s(){var o;return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=n.projectRef,s.next=3,Promise.all([a.invalidateQueries(rv.$.list(o))]);case 3:return s.next=5,null==t?void 0:t(e,n,r);case 5:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,s.Z)(i().mark(function s(){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?rb.ZP.error("Failed to delete content: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},rN=n(99524),rO=n(68851),rS=n(97792),rP=["id"];function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rZ=function(e){var t=e.id,n=(0,tT.Z)(e,rP),r=(0,rn.W2)().snippets[t].snippet,s=(0,w.snakeCase)(r.name),a=(0,C.useState)("CLI"),i=a[0],o=a[1],c=[{id:"migration",label:"Migration",title:"Download as migration",description:"Download the snippet in a new migration named `".concat(s,"`"),cli:(0,n5.kL)(t,s),npm:(0,n5.kL)(t,s,!0)},{id:"seed",label:"Seed file",title:"Download as seed file",description:"If your query consists of sample data, append the snippet to the end of `supabase/seed.sql`",cli:(0,n5.YI)(t),npm:(0,n5.YI)(t,!0)},{id:"sql",label:"SQL file",title:"Download as SQL file",description:"Download the snippet directly into a new SQL file named `".concat(s,".sql`"),cli:(0,n5.y4)(t,s),npm:(0,n5.y4)(t,s,!0)}];return(0,v.jsx)(eP.C,rE(rE({hideFooter:!0,showCloseButton:!0,size:"xlarge",header:(0,v.jsx)("p",{children:"Download snippet as local migration file via the Supabase CLI."})},n),{},{children:(0,v.jsx)(rN.Z,{children:(0,v.jsxs)("div",{className:"flex flex-col items-start justify-between gap-4 py-5 relative",children:[(0,v.jsx)(em.Z,{type:"underlined",listClassNames:"pl-5",children:c.map(function(e){return(0,v.jsxs)(em.Z.Panel,{id:e.id,label:e.label,className:"px-5",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,v.jsx)("h2",{className:"text-lg",children:e.title}),(0,v.jsx)(t7.U,{className:"text-sm text-scale-1000 [&>p>code]:!break-normal",content:e.description})]}),(0,v.jsx)(rS.Z,{width:75,options:["CLI","NPM"],activeOption:i,borderOverride:"border-gray-100",onClickOption:function(){return"CLI"===i?o("NPM"):o("CLI")}})]}),(0,v.jsx)("pre",{children:(0,v.jsx)(rO.d,{language:"bash",className:"language-bash prose dark:prose-dark max-w-none",children:"CLI"===i?e.cli:e.npm})})]},e.id)})}),(0,v.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,v.jsx)("p",{className:"text-xs text-lighter mx-5",children:"Run this command from your project directory"}),(0,v.jsxs)("div",{className:"flex justify-between items-center gap-x-2 mx-5",children:[(0,v.jsx)(ea.z,{asChild:!0,type:"default",icon:(0,v.jsx)(ev.Z,{size:14,strokeWidth:1.5}),children:(0,v.jsx)(b(),{href:"https://supabase.com/docs/guides/cli/local-development#database-migrations",target:"_blank",rel:"noreferrer",children:"About migrations"})}),(0,v.jsx)(ea.z,{asChild:!0,type:"default",icon:(0,v.jsx)(ev.Z,{size:14,strokeWidth:1.5}),children:(0,v.jsx)(b(),{href:"https://supabase.com/docs/guides/cli/local-development",target:"_blank",rel:"noreferrer",children:"About CLI"})})]})]})]})})}))},r_=function(e){var t=e.tabInfo,n=(0,f.UO)(),r=n.ref,s=n.id,a=t||{},i=a.id,o=a.name,c=a.description,l=i===s,u=(0,C.useRef)(null);return(0,C.useEffect)(function(){l&&u.current&&setTimeout(function(){var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})},0)}),(0,v.jsxs)("div",{className:(0,g.default)("flex items-center justify-between rounded-md group",l&&"text-foreground bg-surface-300 -active"),ref:l?u:null,children:[(0,v.jsx)(b(),{href:"/project/".concat(r,"/sql/").concat(i),className:"py-1 px-3 w-full overflow-hidden",children:(0,v.jsx)("p",{title:c||o,className:"text-sm text-foreground-light group-hover:text-foreground transition overflow-hidden text-ellipsis",children:o})}),(0,v.jsx)("div",{className:"pr-1",children:(0,v.jsx)(rI,{tabInfo:t,activeId:s})})]},i)},rI=(0,B.Pi)(function(e){var t,n,r,a=e.tabInfo,o=e.activeId,c=(0,d.oR)().ui,u=(0,f.UO)().ref,p=(0,l.useRouter)(),h=(0,rt.Un)().profile,x=(0,rn.W2)(),b=(0,d.Vm)(),j=rk({onSuccess:function(e){e.id&&x.removeSnippet(e.id);var t,n=(null!==(t=x.orders[u])&&void 0!==t?t:[]).filter(function(e){return e!==N});0===n.length?p.push("/project/".concat(u,"/sql/new")):p.push("/project/".concat(u,"/sql/").concat(n[0]))},onError:function(e,t){if(404===e.code&&e.message.includes("Content not found")){t.id&&x.removeSnippet(t.id);var n,r=(null!==(n=x.orders[u])&&void 0!==n?n:[]).filter(function(e){return e!==N});0===r.length?p.push("/project/".concat(u,"/sql/new")):p.push("/project/".concat(u,"/sql/").concat(r[0]))}else c.setNotification({category:"error",message:"Failed to delete query: ".concat(e.message)})}}),y=j.mutate,w=j.isLoading,k=a||{},N=k.id,O=k.name,S=k.visibility,P=k.content,E=(0,C.useState)(!1),Z=E[0],_=E[1],I=(0,C.useState)(!1),L=I[0],D=I[1],A=(0,C.useState)(!1),T=A[0],R=A[1],z=(0,C.useState)(!1),F=z[0],U=z[1],M=N===o,B=(0,d.Xo)(n1.KA.CREATE,"user_content",{resource:{type:"sql",owner_id:null==h?void 0:h.id},subject:{id:null==h?void 0:h.id}}),q=function(){_(!1)},W=(t=(0,s.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=9;break}return e.prev=1,x.shareSnippet(N,"project"),e.abrupt("return",Promise.resolve());case 6:e.prev=6,e.t0=e.catch(1),c.setNotification({error:e.t0,category:"error",message:"Failed to share query: ".concat(e.t0.message)});case 9:case"end":return e.stop()}},e,null,[[1,6]])})),function(){return t.apply(this,arguments)}),V=(n=(0,s.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(N){e.next=4;break}return e.abrupt("return",console.error("Snippet ID is required"));case 4:y({projectRef:u,id:N});case 5:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),G=(r=(0,s.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(N){e.next=4;break}return e.abrupt("return",console.error("Snippet ID is required"));case 4:try{t=(0,n5.UA)({id:(0,tw.k$)(),name:O,sql:P.sql,owner_id:null==h?void 0:h.id,project_id:null==b?void 0:b.id}),x.addSnippet(t,u),x.addNeedsSaving(t.id),p.push("/project/".concat(u,"/sql/").concat(t.id))}catch(e){c.setNotification({category:"error",message:"Failed to create a personal copy of this query: ".concat(e.message)})}case 5:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)});return(0,v.jsxs)("div",{className:"group [div&>button[data-state='open']>span]:text-foreground-lighter flex items-center",children:[m.Qy?(0,v.jsxs)(tb.h_,{children:[(0,v.jsx)(tb.$F,{asChild:!0,children:(0,v.jsx)("span",{className:(0,g.default)("rounded p-1",M?"text-foreground-light hover:bg-border-stronger":"text-background hover:bg-overlay-hover group-hover:text-foreground-light"),children:(0,v.jsx)(nS.Z,{size:"tiny",strokeWidth:2})})}),(0,v.jsxs)(tb.AW,{side:"bottom",align:"end",children:[(0,v.jsxs)(tb.Xi,{onClick:function(e){e.stopPropagation(),_(!0)},className:"space-x-2",children:[(0,v.jsx)(rr.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Rename query"})]}),"user"===S&&B&&(0,v.jsxs)(tb.Xi,{onClick:function(e){e.stopPropagation(),D(!0)},className:"space-x-2",children:[(0,v.jsx)(ri,{size:"tiny"}),(0,v.jsx)("p",{children:"Share query"})]}),"project"===S&&B&&(0,v.jsxs)(tb.Xi,{onClick:G,className:"space-x-2",children:[(0,v.jsx)(nl.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Duplicate personal copy"})]}),m.Qy&&(0,v.jsxs)(tb.Xi,{onClick:function(){return U(!F)},className:"space-x-2",children:[(0,v.jsx)(na.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Download as migration file"})]}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(tb.VD,{}),(0,v.jsxs)(tb.Xi,{onClick:function(e){e.stopPropagation(),R(!0)},className:"space-x-2",children:[(0,v.jsx)(ro.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Delete query"})]})]})]})]}):(0,v.jsx)(ea.z,{asChild:!0,disabled:!0,type:"text",style:{padding:"3px"},children:(0,v.jsx)("span",{})}),(0,v.jsx)(rf,{snippet:a,visible:Z,onCancel:q,onComplete:q}),(0,v.jsx)(rg.Z,{header:"Confirm to delete query",buttonLabel:"Delete query",buttonLoadingLabel:"Deleting query",size:"medium",loading:w,visible:T,onSelectConfirm:V,onSelectCancel:function(){return R(!1)},children:(0,v.jsx)(eP.C.Content,{children:(0,v.jsx)("div",{className:"my-6",children:(0,v.jsx)("div",{className:"text-sm text-foreground-light grid gap-4",children:(0,v.jsxs)("div",{className:"grid gap-1",children:["project"===S&&(0,v.jsxs)(ex.bZ,{variant:"destructive",children:[(0,v.jsx)(tY.Z,{strokeWidth:2}),(0,v.jsx)(ex.Cd,{children:"This SQL snippet will be lost forever"}),(0,v.jsx)(ex.X,{children:"Deleting this query will remove it for all members of the project team."})]}),(0,v.jsxs)("p",{children:["Are you sure you want to delete '",O,"'?"]})]})})})})}),(0,v.jsx)(rg.Z,{header:"Confirm sharing query",size:"medium",buttonLabel:"Share query",buttonLoadingLabel:"Sharing query",visible:L,onSelectConfirm:W,onSelectCancel:function(){return D(!1)},children:(0,v.jsx)(eP.C.Content,{children:(0,v.jsx)("div",{className:"my-6",children:(0,v.jsx)("div",{className:"text-sm text-foreground-light grid gap-4",children:(0,v.jsxs)("div",{className:"grid gap-1",children:[(0,v.jsxs)(ex.bZ,{variant:"warning",children:[(0,v.jsx)(eb.Z,{strokeWidth:2}),(0,v.jsx)(ex.Cd,{children:"This SQL query will become public to all team members"}),(0,v.jsx)(ex.X,{children:"Anyone with access to the project can edit or delete this query."})]}),(0,v.jsxs)("ul",{className:"mt-4 space-y-5",children:[(0,v.jsxs)("li",{className:"flex gap-3",children:[(0,v.jsx)(rc.Z,{}),(0,v.jsx)("span",{children:"Anyone with access to this project will be able to view it."})]}),(0,v.jsxs)("li",{className:"flex gap-3",children:[(0,v.jsx)(rl.Z,{}),(0,v.jsx)("span",{children:"Anyone will be able to modify or delete it."})]})]})]})})})})}),(0,v.jsx)(rZ,{id:N,visible:F,onCancel:function(){return U(!1)}})]})}),rL=(0,B.Pi)(function(){var e,t=(0,d.oR)().ui,n=(0,f.UO)().ref,r=(0,l.useRouter)(),a=(0,rt.Un)().profile,o=(0,d.Vm)(),c=(0,C.useState)(""),u=c[0],p=c[1],m=(0,C.useState)(""),h=m[0],g=m[1],x=(0,C.useState)(""),b=x[0],j=x[1],y=(0,C.useState)(!1),w=y[0],k=y[1],N=(0,C.useState)(!1),S=N[0],P=N[1],E=(0,C.useState)(!1),Z=E[0],_=E[1],I=(0,rn.W2)(),L=re(n,{refetchOnWindowFocus:!1,staleTime:300,onSuccess:function(e){n&&I.setRemoteSnippets(e.snippets,n)}}),D=L.isLoading,A=L.isSuccess,T=(0,rn.Fy)(n),R=(0,C.useMemo)(function(){return T.filter(function(e){return"project"===e.visibility})},[T]),z=(0,C.useMemo)(function(){return h.length>0?R.filter(function(e){return e.name.toLowerCase().includes(h.toLowerCase())}):R},[R,h]),F=(0,C.useMemo)(function(){var e=T.filter(function(e){return"user"===e.visibility&&!e.content.favorite});return u.length>0?e.filter(function(e){return e.name.toLowerCase().includes(u.toLowerCase())}):e},[u,T]),U=(0,C.useMemo)(function(){return T.filter(function(e){return e.content.favorite})},[T]),M=(0,C.useMemo)(function(){return b.length>0?U.filter(function(e){return e.name.toLowerCase().includes(b.toLowerCase())}):U},[U,b]),B=(0,d.Xo)(n1.KA.CREATE,"user_content",{resource:{type:"sql",owner_id:null==a?void 0:a.id},subject:{id:null==a?void 0:a.id}}),q=(e=(0,s.Z)(i().mark(function e(){var s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",console.error("Project is required"));case 2:if(a){e.next=4;break}return e.abrupt("return",console.error("Profile is required"));case 4:if(B){e.next=6;break}return e.abrupt("return",t.setNotification({category:"info",message:"Your queries will not be saved as you do not have sufficient permissions"}));case 6:try{s=(0,n5.UA)({id:(0,tw.k$)(),name:n3.$C,owner_id:null==a?void 0:a.id,project_id:null==o?void 0:o.id}),I.addSnippet(s,n),r.push("/project/".concat(n,"/sql/").concat(s.id)),p(""),g(""),j(""),k(!1),P(!1),_(!1)}catch(e){t.setNotification({category:"error",message:"Failed to create new query: ".concat(e.message)})}case 7:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,v.jsx)("div",{className:"mt-6",children:(0,v.jsx)(O.ZP,{type:"pills",children:D?(0,v.jsxs)("div",{className:"px-5 my-4 space-y-2",children:[(0,v.jsx)(eD.Z,{}),(0,v.jsx)(eD.Z,{className:"w-3/4"}),(0,v.jsx)(eD.Z,{className:"w-1/2"})]}):A?(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsx)("div",{className:"px-3 flex flex-col gap-2",children:(0,v.jsx)(ea.z,{type:"default",className:"mx-3 justify-start",onClick:function(){q()},icon:(0,v.jsx)(n2.Z,{size:"tiny"}),children:"New query"})}),(0,v.jsxs)("div",{className:"space-y-6 px-3",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(n6.Z,{name:"Templates",isActive:r.asPath==="/project/".concat(n,"/sql/templates"),url:"/project/".concat(n,"/sql/templates")}),(0,v.jsx)(n6.Z,{name:"Quickstarts",isActive:r.asPath==="/project/".concat(n,"/sql/quickstarts"),url:"/project/".concat(n,"/sql/quickstarts")})]}),U.length>=1&&(0,v.jsxs)("div",{className:"editor-product-menu",children:[(0,v.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,v.jsx)(O.ZP.Group,{title:"Favorites"}),(0,v.jsx)("button",{className:"flex items-center w-4 h-4 cursor-pointer mr-3",onClick:function(){_(!Z)},children:(0,v.jsx)(tg.Z,{className:(0,n4.cn)("w-4","h-4","cursor-pointer",Z?"text-foreground":"text-foreground-lighter"),onClick:function(){j(""),_(function(e){return!e})}})})]}),Z&&(0,v.jsx)("div",{className:"pl-3 mb-2 mr-3",children:(0,v.jsx)(nc.Z,{autoFocus:!0,size:"tiny",icon:(0,v.jsx)(tg.Z,{size:"tiny"}),placeholder:"Filter",disabled:D,onChange:function(e){return j(e.target.value)},value:b,onKeyDown:function(e){"Escape"===e.key&&(_(!1),j(""))},actions:b&&(0,v.jsx)(en.Z,{size:"tiny",className:"mr-2 cursor-pointer",onClick:function(){return j("")}})})}),M.length>0?(0,v.jsx)("div",{className:"space-y-1",children:M.map(function(e){var t=(e||{}).id;return(0,v.jsx)(r_,{tabInfo:e},t)})}):(0,v.jsx)("div",{className:"text-foreground text-sm h-32 border border-dashed flex flex-col gap-3 items-center justify-center px-3 mx-3 rounded",children:(0,v.jsx)("span",{className:"text-foreground-lighter",children:"No queries found"})})]}),R.length>=1&&(0,v.jsxs)("div",{className:"editor-product-menu",children:[(0,v.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,v.jsx)(O.ZP.Group,{title:"Project queries"}),(0,v.jsx)("button",{className:"flex items-center w-4 h-4 cursor-pointer mr-3",onClick:function(){P(!S)},children:(0,v.jsx)(tg.Z,{className:(0,n4.cn)("w-4","h-4","cursor-pointer",S?"text-foreground":"text-foreground-lighter"),onClick:function(){g(""),P(function(e){return!e})}})})]}),S&&(0,v.jsx)("div",{className:"pl-3 mb-2 mr-3",children:(0,v.jsx)(nc.Z,{autoFocus:!0,size:"tiny",icon:(0,v.jsx)(tg.Z,{size:"tiny"}),placeholder:"Filter",disabled:D,onChange:function(e){return g(e.target.value)},value:h,onKeyDown:function(e){"Escape"===e.key&&(P(!1),g(""))},actions:h&&(0,v.jsx)(en.Z,{size:"tiny",className:"mr-2 cursor-pointer",onClick:function(){return g("")}})})}),z.length>0?(0,v.jsx)("div",{className:"space-y-1",children:z.map(function(e){var t=(e||{}).id;return(0,v.jsx)(r_,{tabInfo:e},t)})}):(0,v.jsx)("div",{className:"text-foreground text-sm h-32 border border-dashed flex flex-col gap-3 items-center justify-center px-3 mx-3 rounded",children:(0,v.jsx)("span",{className:"text-foreground-lighter",children:"No queries found"})})]}),(0,v.jsxs)("div",{className:"editor-product-menu",children:[(0,v.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,v.jsx)(O.ZP.Group,{title:"Your queries"}),(0,v.jsx)("button",{className:"flex items-center w-4 h-4 cursor-pointer mr-3",onClick:function(){k(!w)},children:(0,v.jsx)(tg.Z,{className:(0,n4.cn)("w-4","h-4","cursor-pointer",w?"text-foreground":"text-foreground-lighter"),onClick:function(){p(""),k(function(e){return!e})}})})]}),w&&(0,v.jsx)("div",{className:"pl-3 mb-2 mr-3",children:(0,v.jsx)(nc.Z,{autoFocus:!0,size:"tiny",icon:(0,v.jsx)(tg.Z,{size:"tiny"}),placeholder:"Filter",disabled:D,onChange:function(e){return p(e.target.value)},value:u,onKeyDown:function(e){"Escape"===e.key&&(k(!1),p(""))},actions:u&&(0,v.jsx)(en.Z,{size:"tiny",className:"mr-2 cursor-pointer",onClick:function(){return p("")}})})}),F.length>0?(0,v.jsx)("div",{className:"space-y-1 pb-8",children:F.map(function(e){var t=(e||{}).id;return(0,v.jsx)(r_,{tabInfo:e},t)})}):(0,v.jsxs)("div",{className:"text-foreground text-sm h-32 border border-dashed flex flex-col gap-3 items-center justify-center px-3 mx-3 rounded",children:[0===M.length&&(0,v.jsx)("span",{className:"text-foreground-lighter",children:"No queries found"}),(0,v.jsx)(ea.z,{type:"default",onClick:function(){return q()},children:"New Query"})]})]})]})]}):(0,v.jsx)("div",{})})})}),rD=(0,d.QO)(function(e){var t=e.title,n=e.children,r=(0,C.useMemo)(function(){return(0,v.jsx)(rL,{},"sql-editor-menu")},[]);return(0,v.jsx)(nX,{title:t||"SQL",product:"SQL Editor",productMenu:r,children:n})}),rA=n(38421),rT=n.n(rA),rR=(0,B.Pi)(function(e){var t=e.heading,n=e.subheading,r=e.logoLinkToMarketingSite,s=e.showHeadings,a=e.children,i=(0,tm.F)().resolvedTheme;return(0,v.jsxs)("div",{className:"flex-1 bg-background flex flex-col gap-8 lg:gap-16 xl:gap-32",children:[(0,v.jsx)("div",{className:"sticky top-0 mx-auto w-full max-w-7xl px-8 pt-6 sm:px-6 lg:px-8",children:(0,v.jsx)("nav",{className:"relative flex items-center justify-between sm:h-10",children:(0,v.jsx)("div",{className:"flex flex-shrink-0 flex-grow items-center lg:flex-grow-0",children:(0,v.jsx)("div",{className:"flex w-full items-center justify-between md:w-auto",children:(0,v.jsx)(b(),{href:void 0!==r&&r?"https://supabase.com":"/projects",children:(0,v.jsx)(rT(),{src:null!=i&&i.includes("dark")?"".concat(m.GW,"/img/supabase-dark.svg"):"".concat(m.GW,"/img/supabase-light.svg"),alt:"",height:24,width:120})})})})})}),(0,v.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,v.jsxs)("main",{className:"max-w-[448px] w-full flex flex-col px-5",children:[(void 0===s||s)&&(0,v.jsxs)("div",{className:"mb-6",children:[(0,v.jsx)("h1",{className:"text-2xl lg:text-3xl mt-8 mb-2",children:t}),(0,v.jsx)("h2",{className:"text-foreground-light text-sm",children:n})]}),a]})})]})}),rz=n(10462),rF=function(e){var t=e.heading,n=e.subheading,r=e.showDisclaimer,a=e.logoLinkToMarketingSite,o=e.children,c=(0,l.useRouter)(),u=(0,eK.NL)(),p=(0,tm.F)().resolvedTheme,h=(0,d.P5)("ongoingIncident");(0,C.useEffect)(function(){var e;rz.I8.initialize().then((e=(0,s.Z)(i().mark(function e(t){var n,r,s,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,rz.hP)();case 5:if(!e.sent){e.next=26;break}return e.next=9,rz.I8.mfa.getAuthenticatorAssuranceLevel();case 9:if(r=(n=e.sent).data,!n.error){e.next=14;break}return e.abrupt("return");case 14:if(!r){e.next=21;break}if("/sign-in-mfa"!==c.pathname){e.next=17;break}return e.abrupt("return");case 17:if(!(r.currentLevel!==r.nextLevel)){e.next=21;break}return s=(0,rz.lJ)("/sign-in-mfa"),c.replace(s),e.abrupt("return");case 21:return e.next=23,u.resetQueries();case 23:c.push((0,rz.nD)()),e.next=29;break;case 26:return a=(0,rz.lJ)("/sign-in"),c.replace(a),e.abrupt("return");case 29:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})).catch(function(){})},[]);var f=(0,C.useState)(null),g=f[0],x=f[1];return(0,C.useEffect)(function(){x(tN.UW[Math.floor(Math.random()*tN.UW.length)])},[]),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"flex flex-col flex-1 bg-alternative",children:[(0,v.jsx)("div",{className:"absolute top-0 w-full px-8 mx-auto sm:px-6 lg:px-8 ".concat(h?"pt-16":"pt-6"),children:(0,v.jsxs)("nav",{className:"relative flex items-center justify-between sm:h-10",children:[(0,v.jsx)("div",{className:"flex items-center flex-grow flex-shrink-0 lg:flex-grow-0",children:(0,v.jsx)("div",{className:"flex items-center justify-between w-full md:w-auto",children:(0,v.jsx)(b(),{href:void 0!==a&&a?"https://supabase.com":"/projects",children:(0,v.jsx)(rT(),{src:null!=p&&p.includes("dark")?"".concat(m.GW,"/img/supabase-dark.svg"):"".concat(m.GW,"/img/supabase-light.svg"),alt:"Supabase Logo",height:24,width:120})})})}),(0,v.jsx)("div",{className:"items-center hidden space-x-3 md:ml-10 md:flex md:pr-4",children:(0,v.jsx)(ea.z,{asChild:!0,type:"default",icon:(0,v.jsx)(eZ.Z,{}),children:(0,v.jsx)(b(),{href:"https://supabase.com/docs",target:"_blank",rel:"noreferrer",children:"Documentation"})})})]})}),(0,v.jsxs)("div",{className:"flex flex-1",children:[(0,v.jsxs)("main",{className:"flex flex-col items-center flex-1 flex-shrink-0 px-5 pt-16 pb-8 border-r shadow-lg bg-background border-default",children:[(0,v.jsxs)("div",{className:"flex-1 flex flex-col justify-center w-[330px] sm:w-[384px]",children:[(0,v.jsxs)("div",{className:"mb-10",children:[(0,v.jsx)("h1",{className:"mt-8 mb-2 text-2xl lg:text-3xl",children:t}),(0,v.jsx)("h2",{className:"text-sm text-foreground-light",children:n})]}),o]}),(void 0===r||r)&&(0,v.jsx)("div",{className:"sm:text-center",children:(0,v.jsxs)("p",{className:"text-xs text-foreground-lighter sm:mx-auto sm:max-w-sm",children:["By continuing, you agree to Supabase's"," ",(0,v.jsx)(b(),{href:"https://supabase.com/terms",className:"underline hover:text-foreground-light",children:"Terms of Service"})," ","and"," ",(0,v.jsx)(b(),{href:"https://supabase.com/privacy",className:"underline hover:text-foreground-light",children:"Privacy Policy"}),", and to receive periodic emails with updates."]})})]}),(0,v.jsx)("aside",{className:"flex-col items-center justify-center flex-1 flex-shrink hidden basis-1/4 xl:flex",children:null!==g&&(0,v.jsxs)("div",{className:"relative flex flex-col gap-6",children:[(0,v.jsx)("div",{className:"absolute select-none -top-12 -left-11",children:(0,v.jsx)("span",{className:"text-[160px] leading-none text-foreground-muted/30",children:"“"})}),(0,v.jsx)("blockquote",{className:"z-10 max-w-lg text-3xl",children:g.text}),(0,v.jsxs)("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4",children:[(0,v.jsx)("img",{src:"https://supabase.com".concat(g.img_url),alt:g.handle,className:"w-12 h-12 rounded-full"}),(0,v.jsx)("div",{className:"flex flex-col",children:(0,v.jsxs)("cite",{className:"not-italic font-medium text-foreground-light whitespace-nowrap",children:["@",g.handle]})})]})]})})]})]})})},rU=n(871),rM=n(34040),rB=n(67270),rq=n(49257),rW=n(30265),rV=n(31786),rG=n(38327),rH=n(82410),rY=n(32732),rQ=n(9548),rK=["onSuccess","onError"];function rX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r$(){return(r$=(0,s.Z)(i().mark(function e(t){var n,r,s,a,o,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef,r=t.id,s=t.isPublic,a=t.file_size_limit,o=t.allowed_mime_types,n){e.next=3;break}throw Error("projectRef is required");case 3:if(r){e.next=5;break}throw Error("Bucket name is requried");case 5:return e.next=7,(0,e3.v_)("".concat(m.T5,"/storage/").concat(n,"/buckets"),{id:r,public:s,file_size_limit:a,allowed_mime_types:o});case 7:if(!(c=e.sent).error){e.next=10;break}throw c.error;case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var rJ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,tT.Z)(e,rK),a=(0,eK.NL)();return(0,rx.D)(function(e){return function(e){return r$.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rX(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,s.Z)(i().mark(function s(){var o;return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=n.projectRef,s.next=3,a.invalidateQueries(rQ.m.buckets(o));case 3:return s.next=5,null==t?void 0:t(e,n,r);case 5:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,s.Z)(i().mark(function s(){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?rb.Am.error("Failed to create bucket: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},r0=function(e){var t,n,r=e.visible,a=e.onClose,o=(0,d.oR)().ui,c=(0,f.UO)().ref,u=(0,l.useRouter)(),p=rJ({onSuccess:function(e){o.setNotification({category:"success",message:"Successfully created bucket ".concat(e.name)}),u.push("/project/".concat(c,"/storage/buckets/").concat(e.name)),a()}}),h=p.mutate,x=p.isLoading,j=(0,rY.kl)({projectRef:c},{enabled:m.Qy}).data,y=(0,rH.K)(null!==(n=null==j?void 0:j.fileSizeLimit)&&void 0!==n?n:0),w=y.value,k=y.unit,N="".concat(w," ").concat(k),O=(0,C.useState)(rG.b.BYTES),S=O[0],P=O[1],E=(0,C.useState)(!1),Z=E[0],_=E[1],I=(t=(0,s.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:h({projectRef:c,id:t.name,isPublic:t.public,file_size_limit:t.has_file_size_limit?(0,rH.F)(t.formatted_size_limit,S):null,allowed_mime_types:t.allowed_mime_types.length>0?t.allowed_mime_types.split(",").map(function(e){return e.trim()}):null});case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,C.useEffect)(function(){r&&(P(rG.b.BYTES),_(!1))},[r]),(0,v.jsx)(eP.C,{hideFooter:!0,visible:r,size:"medium",header:"Create storage bucket",onCancel:function(){return a()},children:(0,v.jsx)(rp.Z,{validateOnBlur:!1,initialValues:{name:"",public:!1,file_size_limit:0,allowed_mime_types:"",has_file_size_limit:!1,formatted_size_limit:0},validate:function(e){var t={};return e.name||(t.name="Please provide a name for your bucket"),e.name&&e.name.endsWith(" ")&&(t.name="The name of the bucket cannot end with a whitespace"),e.has_file_size_limit&&e.formatted_size_limit<0&&(t.formatted_size_limit="File size upload limit has to be at least 0"),"public"===e.name&&(t.name='"public" is a reserved name. Please choose another name'),t},onSubmit:I,children:function(e){var t=e.values;return(0,v.jsxs)("div",{className:"space-y-4 py-4",children:[(0,v.jsxs)(eP.C.Content,{children:[(0,v.jsx)(nc.Z,{id:"name",name:"name",type:"text",className:"w-full",layout:"vertical",label:"Name of bucket",labelOptional:"Buckets cannot be renamed once created.",descriptionText:"Only lowercase letters, numbers, dots, and hyphens"}),(0,v.jsxs)("div",{className:"space-y-2 mt-6",children:[(0,v.jsx)(rq.Z,{id:"public",name:"public",layout:"flex",label:"Public bucket",descriptionText:"Anyone can read any object without any authorization"}),t.public&&(0,v.jsxs)(rB.b,{title:"Public buckets are not protected",variant:"warning",withIcon:!0,children:[(0,v.jsx)("p",{className:"mb-2",children:"Users can read objects in public buckets without any authorization."}),(0,v.jsx)("p",{children:"Row level security (RLS) policies are still required for other operations such as object uploads and deletes."})]})]})]}),(0,v.jsxs)(rW.ZP,{open:Z,onOpenChange:function(){return _(!Z)},children:[(0,v.jsx)(rW.ZP.Trigger,{asChild:!0,children:(0,v.jsxs)("div",{className:"w-full cursor-pointer py-3 px-5 flex items-center justify-between border-t border-default",children:[(0,v.jsx)("p",{className:"text-sm",children:"Additional configuration"}),(0,v.jsx)(nS.Z,{size:18,strokeWidth:2,className:(0,g.default)("text-foreground-light",Z&&"rotate-180")})]})}),(0,v.jsx)(rW.ZP.Content,{className:"py-4",children:(0,v.jsxs)("div",{className:"w-full space-y-4 px-5",children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(rq.Z,{id:"has_file_size_limit",name:"has_file_size_limit",layout:"flex",label:"Restrict file upload size for bucket",descriptionText:"Prevent uploading of file sizes greater than a specified limit"}),t.has_file_size_limit&&(0,v.jsxs)("div",{className:"grid grid-cols-12 col-span-12 gap-x-2 gap-y-1",children:[(0,v.jsx)("div",{className:"col-span-8",children:(0,v.jsx)(nc.Z,{type:"number",step:1,id:"formatted_size_limit",name:"formatted_size_limit",disabled:!1,onKeyPress:function(e){(e.charCode<48||e.charCode>57)&&e.preventDefault()},descriptionText:"Equivalent to ".concat((0,rH.F)(t.formatted_size_limit,S).toLocaleString()," bytes.")})}),(0,v.jsx)("div",{className:"col-span-4",children:(0,v.jsx)(rV.Z,{id:"size_limit_units",disabled:!1,value:S,onChange:P,children:Object.values(rG.b).map(function(e){return(0,v.jsx)(rV.Z.Option,{label:e,value:e,children:(0,v.jsx)("div",{children:e})},e)})})}),m.Qy&&(0,v.jsx)("div",{className:"col-span-12",children:(0,v.jsxs)("p",{className:"text-foreground-light text-sm",children:["Note: The"," ",(0,v.jsx)(b(),{href:"/project/".concat(c,"/settings/storage"),className:"text-brand opacity-80 hover:opacity-100 transition",children:"global upload limit"})," ","takes precedence over this value (",N,")"]})})]})]}),(0,v.jsx)(nc.Z,{id:"allowed_mime_types",name:"allowed_mime_types",layout:"vertical",label:"Allowed MIME types",placeholder:"e.g image/jpeg, image/png, audio/mpeg, video/mp4, etc",labelOptional:"Comma separated values",descriptionText:"Wildcards are allowed, e.g. image/*. Leave blank to allow any MIME type."})]})})]}),(0,v.jsx)("div",{className:"w-full border-t border-default !mt-0"}),(0,v.jsx)(eP.C.Content,{children:(0,v.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,v.jsx)(ea.z,{type:"default",htmlType:"button",disabled:x,onClick:function(){return a()},children:"Cancel"}),(0,v.jsx)(ea.z,{type:"primary",htmlType:"submit",loading:x,disabled:x,children:"Save"})]})})]})}})})},r1=["onSuccess","onError"];function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r4(){return(r4=(0,s.Z)(i().mark(function e(t){var n,r,s,a,o,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef,r=t.id,s=t.isPublic,a=t.file_size_limit,o=t.allowed_mime_types,n){e.next=3;break}throw Error("projectRef is required");case 3:if(r){e.next=5;break}throw Error("Bucket name is requried");case 5:return e.next=7,(0,e3.r$)("".concat(m.T5,"/storage/").concat(n,"/buckets/").concat(r),{public:s,file_size_limit:a,allowed_mime_types:o});case 7:if(!(c=e.sent).error){e.next=10;break}throw c.error;case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var r3=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,tT.Z)(e,r1),a=(0,eK.NL)();return(0,rx.D)(function(e){return function(e){return r4.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(t){(0,P.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,s.Z)(i().mark(function s(){var o;return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=n.projectRef,s.next=3,a.invalidateQueries(rQ.m.buckets(o));case 3:return s.next=5,null==t?void 0:t(e,n,r);case 5:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,s.Z)(i().mark(function s(){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?rb.Am.error("Failed to update bucket: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},r5=function(e){var t,n,r=e.visible,a=e.bucket,o=e.onClose,c=(0,d.oR)().ui,l=(0,f.UO)().ref,u=r3({onSuccess:function(){c.setNotification({category:"success",message:'Successfully updated bucket "'.concat(null==a?void 0:a.name,'"')}),o()}}),p=u.mutate,h=u.isLoading,x=(0,rY.kl)({projectRef:l},{enabled:m.Qy}).data,j=(0,rH.K)(null!==(n=null==x?void 0:x.fileSizeLimit)&&void 0!==n?n:0),y=j.value,w=j.unit,k="".concat(y," ").concat(w),N=(0,C.useState)(rG.b.BYTES),O=N[0],S=N[1],P=(0,C.useState)(!1),E=P[0],Z=P[1],_=(t=(0,s.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==a){e.next=2;break}return e.abrupt("return",console.error("Bucket is required"));case 2:if(void 0!==l){e.next=4;break}return e.abrupt("return",console.error("Project ref is required"));case 4:p({projectRef:l,id:a.id,isPublic:t.public,file_size_limit:t.has_file_size_limit?(0,rH.F)(t.formatted_size_limit,O):null,allowed_mime_types:t.allowed_mime_types.length>0?t.allowed_mime_types.split(",").map(function(e){return e.trim()}):null});case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,C.useEffect)(function(){if(r){var e;S((0,rH.K)(null!==(e=null==a?void 0:a.file_size_limit)&&void 0!==e?e:0).unit),Z(!1)}},[r]),(0,v.jsx)(eP.C,{hideFooter:!0,visible:r,size:"medium",header:'Edit bucket "'.concat(null==a?void 0:a.name,'"'),onCancel:o,children:(0,v.jsx)(rp.Z,{validateOnBlur:!1,initialValues:{},validate:function(e){var t={};return e.has_file_size_limit&&e.formatted_size_limit<0&&(t.formatted_size_limit="File size upload limit has to be at least 0"),t},onSubmit:_,children:function(e){var t=e.values,n=e.resetForm;return(0,C.useEffect)(function(){if(r&&void 0!==a){var e,t,s,i=(0,rH.K)(null!==(e=a.file_size_limit)&&void 0!==e?e:0).value,o={name:null!==(t=a.name)&&void 0!==t?t:"",public:a.public,file_size_limit:a.file_size_limit,allowed_mime_types:(null!==(s=a.allowed_mime_types)&&void 0!==s?s:[]).join(", "),has_file_size_limit:null!==a.file_size_limit,formatted_size_limit:null!=i?i:0};n({values:o,initialValues:o})}},[r]),(0,v.jsxs)("div",{className:"space-y-4 py-4",children:[(0,v.jsxs)(eP.C.Content,{children:[(0,v.jsx)(nc.Z,{disabled:!0,id:"name",name:"name",type:"text",className:"w-full",layout:"vertical",label:"Name of bucket",labelOptional:"Buckets cannot be renamed once created."}),(0,v.jsxs)("div",{className:"space-y-2 mt-6",children:[(0,v.jsx)(rq.Z,{id:"public",name:"public",layout:"flex",label:"Public bucket",descriptionText:"Anyone can read any object without any authorization"}),(null==a?void 0:a.public)!==t.public&&(0,v.jsx)(rB.b,{title:!(null!=a&&a.public)&&t.public?"Warning: Making bucket public":null!=a&&a.public&&!t.public?"Warning: Making bucket private":"",variant:"warning",withIcon:!0,children:(0,v.jsx)("p",{className:"mb-2",children:!(null!=a&&a.public)&&t.public?'This will make all objects in the bucket "'.concat(null==a?void 0:a.name,'" public'):null!=a&&a.public&&!t.public?'All objects in "'.concat(null==a?void 0:a.name,'" will be made private and will only be accessible via signed URLs or downloaded with the right authorisation headers'):""})})]})]}),(0,v.jsxs)(rW.ZP,{open:E,onOpenChange:function(){return Z(!E)},children:[(0,v.jsx)(rW.ZP.Trigger,{asChild:!0,children:(0,v.jsxs)("div",{className:"w-full cursor-pointer py-3 px-5 flex items-center justify-between border-t border-default",children:[(0,v.jsx)("p",{className:"text-sm",children:"Additional configuration"}),(0,v.jsx)(nS.Z,{size:18,strokeWidth:2,className:(0,g.default)("text-foreground-light",E&&"rotate-180")})]})}),(0,v.jsx)(rW.ZP.Content,{className:"py-4",children:(0,v.jsxs)("div",{className:"w-full space-y-4 px-5",children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(rq.Z,{id:"has_file_size_limit",name:"has_file_size_limit",layout:"flex",label:"Restrict file upload size for bucket",descriptionText:"Prevent uploading of file sizes greater than a specified limit"}),t.has_file_size_limit&&(0,v.jsxs)("div",{className:"grid grid-cols-12 col-span-12 gap-x-2 gap-y-1",children:[(0,v.jsx)("div",{className:"col-span-8",children:(0,v.jsx)(nc.Z,{type:"number",step:1,id:"formatted_size_limit",name:"formatted_size_limit",disabled:!1,onKeyPress:function(e){(e.charCode<48||e.charCode>57)&&e.preventDefault()},descriptionText:"Equivalent to ".concat((0,rH.F)(t.formatted_size_limit,O).toLocaleString()," bytes.")})}),(0,v.jsx)("div",{className:"col-span-4",children:(0,v.jsx)(rV.Z,{id:"size_limit_units",disabled:!1,value:O,onChange:S,children:Object.values(rG.b).map(function(e){return(0,v.jsx)(rV.Z.Option,{label:e,value:e,children:(0,v.jsx)("div",{children:e})},e)})})}),m.Qy&&(0,v.jsx)("div",{className:"col-span-12",children:(0,v.jsxs)("p",{className:"text-foreground-light text-sm",children:["Note: The"," ",(0,v.jsx)(b(),{href:"/project/".concat(l,"/settings/storage"),className:"text-brand opacity-80 hover:opacity-100 transition",children:"global upload limit"})," ","takes precedence over this value (",k,")"]})})]})]}),(0,v.jsx)(nc.Z,{id:"allowed_mime_types",name:"allowed_mime_types",layout:"vertical",label:"Allowed MIME types",placeholder:"e.g image/jpeg, image/png, audio/mpeg, video/mp4, etc",labelOptional:"Comma separated values",descriptionText:"Wildcards are allowed, e.g. image/*. Leave blank to allow any MIME type."})]})})]}),(0,v.jsx)("div",{className:"w-full border-t border-default !mt-0"}),(0,v.jsx)(eP.C.Content,{children:(0,v.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,v.jsx)(ea.z,{type:"default",disabled:h,onClick:function(){return o()},children:"Cancel"}),(0,v.jsx)(ea.z,{type:"primary",htmlType:"submit",loading:h,disabled:h,children:"Save"})]})})]})}})})},r6=n(51905),r8=function(e){var t=e.bucket,n=e.projectRef,r=e.isSelected,s=void 0!==r&&r,a=e.onSelectDeleteBucket,i=void 0===a?w.noop:a,o=e.onSelectEditBucket,c=void 0===o?w.noop:o,l=(0,d.Xo)(n1.KA.STORAGE_ADMIN_WRITE,"*");return(0,v.jsxs)("div",{className:(0,g.default)("group flex items-center justify-between rounded-md",s&&"text-foreground bg-surface-100"),children:[(0,v.jsx)(b(),{href:"/project/".concat(void 0===n?"":n,"/storage/buckets/").concat(encodeURIComponent(t.id)),className:"py-1 px-3 w-full",children:(0,v.jsxs)("div",{className:"flex items-center justify-between space-x-2 truncate w-full",children:[(0,v.jsx)("p",{className:"text-sm group-hover:text-foreground transition truncate ".concat(s?"text-foreground":"text-foreground-light"),title:t.name,children:t.name}),t.public&&(0,v.jsx)(S.Z,{color:"yellow",children:"Public"})]})}),l&&s?(0,v.jsxs)(tb.h_,{children:[(0,v.jsx)(tb.$F,{asChild:!0,children:(0,v.jsx)(ea.z,{asChild:!0,type:"text",icon:(0,v.jsx)(nS.Z,{size:"tiny",strokeWidth:2,className:"text-foreground-light"}),className:"mr-1 p-0.5",children:(0,v.jsx)("span",{})})}),(0,v.jsxs)(tb.AW,{side:"bottom",align:"start",children:[(0,v.jsxs)(tb.Xi,{className:"space-x-2",onClick:function(){return c(t)},children:[(0,v.jsx)(rr.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Edit bucket"})]},"toggle-private"),(0,v.jsx)(tb.VD,{}),(0,v.jsxs)(tb.Xi,{className:"space-x-2",onClick:function(){return i(t)},children:[(0,v.jsx)(ro.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Delete bucket"})]},"delete-bucket")]})]}):(0,v.jsx)("div",{className:"w-5"})]},t.id)},r9=(0,B.Pi)(function(){var e=(0,l.useRouter)(),t=(0,f.UO)(),n=t.ref,r=t.bucketId,s=(0,d.Vm)(),a=(null==s?void 0:s.parent_project_ref)!==void 0,i=(0,C.useState)(!1),o=i[0],c=i[1],u=(0,C.useState)(),p=u[0],m=u[1],h=(0,C.useState)(),g=h[0],x=h[1],j=(0,d.Xo)(n1.KA.STORAGE_ADMIN_WRITE,"*"),y=e.pathname.split("/")[4],w=(0,nf.K)({projectRef:n}),k=w.data,N=w.error,S=w.isLoading,P=w.isError,E=w.isSuccess,Z=null!=k?k:[],_=(null==N?void 0:N.message.includes("Tenant config"))&&a;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(O.ZP,{type:"pills",className:"my-6 flex flex-grow flex-col px-5",children:[(0,v.jsx)("div",{className:"mb-6 px-2",children:(0,v.jsxs)(td.fC,{delayDuration:0,children:[(0,v.jsx)(td.xz,{className:"w-full",children:(0,v.jsx)(ea.z,{block:!0,type:"default",icon:(0,v.jsx)("div",{className:"text-foreground-lighter",children:(0,v.jsx)(rM.Z,{size:14})}),disabled:!j,style:{justifyContent:"start"},onClick:function(){return c(!0)},children:"New bucket"})}),!j&&(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"bottom",children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to create buckets"})})]})})]})}),(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(O.ZP.Group,{title:"All buckets"}),S&&(0,v.jsxs)("div",{className:"space-y-2 mx-2",children:[(0,v.jsx)(eD.Z,{className:"!py-2.5"}),(0,v.jsx)(eD.Z,{className:"!py-2.5"}),(0,v.jsx)(eD.Z,{className:"!py-2.5"})]}),P&&(0,v.jsx)("div",{className:"px-2",children:(0,v.jsxs)(ex.bZ,{variant:_?"default":"warning",children:[(0,v.jsx)(ex.Cd,{className:"text-xs tracking-normal",children:_?"Storage is not available on preview branches for now":"Failed to fetch buckets"}),(0,v.jsx)(ex.X,{className:"text-xs",children:_?"We're actively looking into making this available on preview branches":"Please refresh to try again"})]})}),E&&(0,v.jsxs)(v.Fragment,{children:[0===Z.length&&(0,v.jsx)("div",{className:"px-2",children:(0,v.jsx)(rB.b,{title:"No buckets available",children:"Buckets that you create will appear here"})}),Z.map(function(e,t){var s=r===e.id;return(0,v.jsx)(r8,{bucket:e,projectRef:n,isSelected:s,onSelectDeleteBucket:function(){return x(e)},onSelectEditBucket:function(){return m(e)}},"".concat(t,"_").concat(e.id))})]})]}),(0,v.jsx)("div",{className:"h-px w-full bg-border"}),(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)(O.ZP.Group,{title:"Configuration"}),(0,v.jsx)(b(),{href:"/project/".concat(n,"/storage/policies"),legacyBehavior:!0,children:(0,v.jsx)(O.ZP.Item,{rounded:!0,active:"policies"===y,children:(0,v.jsx)("p",{className:"truncate",children:"Policies"})})})]})]})]}),(0,v.jsx)(r0,{visible:o,onClose:function(){return c(!1)}}),(0,v.jsx)(r5,{visible:void 0!==p,bucket:p,onClose:function(){return m(void 0)}}),(0,v.jsx)(r6.Iw,{visible:void 0!==g,bucket:g,onClose:function(){return x(void 0)}})]})}),r7=(0,d.QO)(function(e){var t,n=e.title,r=e.children,a=(0,d.oR)().ui,o=(0,eg.UO)().ref,c=(0,d.Vm)(),l=(0,rU.HN)(),u=(0,t6.qP)({projectRef:o}),p=u.data,h=u.isLoading,f=null==p?void 0:p.autoApiService,g=(null==c?void 0:c.status)===m.S.INACTIVE;(0,C.useEffect)(function(){!h&&f&&x(f)},[h,o]);var x=(t=(0,s.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:t.endpoint?l.initStore(o,t.endpoint,t.serviceApiKey,t.protocol):a.setNotification({category:"error",message:"Failed to fetch project configuration. Try refreshing your browser, or reach out to us at support@supabase.io"}),l.setLoaded(!0);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,v.jsx)(sP,{title:n||"Storage",product:"Storage",productMenu:(0,v.jsx)(r9,{}),children:r})}),se=n(48125),st=n(97319),sn=n(25149),sr=n(1846),ss=n(67855),sa=n(19269),si=n(59800),so=n(1740),sc=n(85459),sl=n(55144),su=n(46782),sd=n.n(su),sp=n(90286),sm=n.n(sp),sh=n(22962),sf=n(19452),sg=n(40079),sx=n(23317),sb=n(39203),sv=function(e){var t,n,r,a,o,c,l,u,p,h=e.id,f=e.projectRef,x=e.item,j=e.isLocked,y=(0,d.oR)().ui,w=(0,tk.d2)().project,k=(0,sl._2)(),N=Number(h)===x.id,O=(t=(0,s.Z)(i().mark(function e(){var t,n,r,s,a,o,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=w&&w.connectionString){e.next=2;break}return e.abrupt("return",console.error("Connection string is required"));case 2:return t=y.setNotification({category:"loading",message:"Exporting ".concat(x.name," as CSV...")}),e.prev=3,e.next=6,(0,sb.hC)({id:x.id,projectRef:f,connectionString:w.connectionString});case 6:return s=(r=e.sent)&&(0,sf.parseSupaTable)({table:r,columns:null!==(n=r.columns)&&void 0!==n?n:[],primaryKeys:r.primary_keys,relationships:r.relationships},[]),e.next=10,(0,sx.wF)({projectRef:f,connectionString:w.connectionString,table:s});case 10:(a=e.sent.map(function(e){return Object.keys(e).map(function(t){"object"==typeof e[t]&&null!==e[t]&&(e[t]=JSON.stringify(e[t]))}),e})).length>0&&(o=sm().unparse(a,{columns:s.columns.map(function(e){return e.name})}),c=new Blob([o],{type:"text/csv;charset=utf-8;"}),sd()(c,"".concat(x.name,"_rows.csv"))),y.setNotification({id:t,category:"success",message:"Successfully exported ".concat(x.name," as CSV")}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),y.setNotification({id:t,category:"error",message:"Failed to export table: ".concat(e.t0.message)});case 19:case"end":return e.stop()}},e,null,[[3,16]])})),function(){return t.apply(this,arguments)});return(0,v.jsxs)("div",{className:(0,g.default)("group flex items-center justify-between rounded-md",N&&"text-foreground bg-surface-200"),children:[(0,v.jsxs)(b(),{href:"/project/".concat(f,"/editor/").concat(x.id),className:"flex items-center py-1 px-3 w-full space-x-3 max-w-[90%]",children:[(0,v.jsxs)(td.fC,{delayDuration:0,disableHoverableContent:!0,children:[(0,v.jsx)(td.xz,{className:"flex items-center",children:x.type===sg.l.TABLE?(0,v.jsx)(eo.Z,{className:"table-icon",src:"".concat(m.GW,"/img/icons/table-icon.svg"),style:{width:"16px",height:"16px",strokeWidth:"1px"},preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}):x.type===sg.l.VIEW?(0,v.jsx)(eo.Z,{className:"view-icon",src:"".concat(m.GW,"/img/icons/view-icon.svg"),style:{width:"16px",height:"16px",strokeWidth:"1px"},preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}):(0,v.jsx)("div",{className:(0,g.default)("flex items-center justify-center text-xs h-4 w-4 rounded-[2px] font-bold",x.type===sg.l.FOREIGN_TABLE&&"text-yellow-900 bg-yellow-500",x.type===sg.l.MATERIALIZED_VIEW&&"text-purple-1000 bg-purple-500",x.type===sg.l.PARTITIONED_TABLE&&"text-foreground-light bg-border-stronger"),children:null===(l=Object.entries(sg.l).find(function(e){return(0,eN.Z)(e,2)[1]===x.type}))||void 0===l?void 0:null===(u=l[0])||void 0===u?void 0:null===(p=u[0])||void 0===p?void 0:p.toUpperCase()})}),(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"bottom",children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs text-foreground capitalize",children:(n=x.type,null===(r=Object.entries(sg.l).find(function(e){return(0,eN.Z)(e,2)[1]===n}))||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:null===(o=a.toLowerCase())||void 0===o?void 0:null===(c=o.split("_"))||void 0===c?void 0:c.join(" "))})})]})})]}),(0,v.jsx)("p",{className:"text-sm text-foreground-light group-hover:text-foreground transition max-w-[85%] overflow-hidden text-ellipsis whitespace-nowrap",children:x.name.length>20?(0,v.jsxs)(td.fC,{delayDuration:0,disableHoverableContent:!0,children:[(0,v.jsx)(td.xz,{className:"max-w-[95%] overflow-hidden text-ellipsis whitespace-nowrap",children:x.name}),(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"bottom",children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs text-foreground",children:x.name})})]})})]}):x.name})]}),(0,v.jsx)("div",{className:"pr-3",children:x.type===sg.l.TABLE&&N&&!j&&(0,v.jsxs)(tb.h_,{children:[(0,v.jsx)(tb.$F,{children:(0,v.jsx)("div",{className:"text-foreground-lighter transition-colors hover:text-foreground",children:(0,v.jsx)(nS.Z,{size:14,strokeWidth:2})})}),(0,v.jsxs)(tb.AW,{side:"bottom",align:"start",children:[(0,v.jsxs)(tb.Xi,{className:"space-x-2",onClick:function(e){e.stopPropagation(),k.onEditTable()},children:[(0,v.jsx)(rM.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Edit Table"})]},"edit-table"),(0,v.jsxs)(tb.Xi,{className:"space-x-2",onClick:function(e){e.stopPropagation(),k.onDuplicateTable()},children:[(0,v.jsx)(nl.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Duplicate Table"})]},"duplicate-table"),(0,v.jsx)(tb.Xi,{className:"space-x-2",asChild:!0,children:(0,v.jsxs)(b(),{href:"/project/".concat(f,"/auth/policies?search=").concat(x.id),children:[(0,v.jsx)(sh.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"View Policies"})]},"view-policies")},"delete-table"),(0,v.jsxs)(tb.Xi,{className:"space-x-2",onClick:function(e){e.stopPropagation(),O()},children:[(0,v.jsx)(na.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Export as CSV"})]},"download-table-csv"),(0,v.jsx)(tb.VD,{}),(0,v.jsxs)(tb.Xi,{className:"space-x-2",onClick:function(e){e.stopPropagation(),k.onDeleteTable()},children:[(0,v.jsx)(ro.Z,{size:"tiny"}),(0,v.jsx)("p",{children:"Delete Table"})]},"delete-table")]})]})})]})},sj=function(){var e,t,n,r,a=(0,f.UO)().id,o=(0,sl._2)(),c=(0,C.useState)(!1),l=c[0],u=c[1],p=(0,C.useState)(""),m=p[0],h=p[1],g=(0,d._)("table-editor-sort","alphabetical"),x=(0,eN.Z)(g,2),b=x[0],j=x[1],y=(0,tk.d2)().project,k=(0,so.H)({projectRef:null==y?void 0:y.ref,connectionString:null==y?void 0:y.connectionString,schema:o.selectedSchemaName,search:m||void 0,sort:b},{keepPreviousData:!0}),N=k.data,S=k.isLoading,P=k.refetch,E=k.isRefetching,Z=k.hasNextPage,_=k.isFetchingNextPage,I=k.fetchNextPage,L=k.isPreviousData,D=null==N?void 0:null===(t=N.pages)||void 0===t?void 0:t[0].data.count,A=(0,C.useMemo)(function(){return null==N?void 0:N.pages.flatMap(function(e){return e.data.entities})},[null==N?void 0:N.pages]),T=(0,si.Q1)({projectRef:null==y?void 0:y.ref,connectionString:null==y?void 0:y.connectionString}).data,R=null==T?void 0:T.find(function(e){return e.name===o.selectedSchemaName}),z=(0,d.Xo)(n1.KA.TENANT_SQL_ADMIN_WRITE,"tables"),F=(e=(0,s.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),U=(0,w.partition)((null!=T?T:[]).sort(function(e,t){return e.name.localeCompare(t.name)}),function(e){var t;return sc.F.includes(null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"")}),M=(0,eN.Z)(U,1)[0].some(function(e){return e.id===(null==R?void 0:R.id)});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"pt-5 flex flex-col flex-grow space-y-4 h-full",style:{maxHeight:"calc(100vh - 48px)"},children:[(0,v.jsx)(sa.Z,{className:"mx-4",selectedSchemaName:o.selectedSchemaName,onSelectSchema:function(e){h(""),o.setSelectedSchemaName(e)},onSelectCreateSchema:function(){return o.onAddSchema()}}),(0,v.jsxs)("div",{className:"space-y-1 mx-4",children:[M?(0,v.jsxs)(ex.bZ,{children:[(0,v.jsx)(ex.Cd,{className:"text-xs tracking-normal",children:"Viewing protected schema"}),(0,v.jsxs)(ex.X,{className:"text-xs",children:[(0,v.jsx)("p",{className:"mb-2",children:"This schema is managed by Supabase and is read-only through the table editor"}),(0,v.jsx)(ea.z,{type:"default",size:"tiny",onClick:function(){return u(!0)},children:"Learn more"})]})]}):(0,v.jsxs)(td.fC,{delayDuration:0,children:[(0,v.jsx)(td.xz,{className:"w-full",children:(0,v.jsx)(ea.z,{asChild:!0,block:!0,disabled:!z,size:"tiny",icon:(0,v.jsx)("div",{className:"text-foreground-lighter",children:(0,v.jsx)(rM.Z,{size:14,strokeWidth:1.5})}),type:"default",style:{justifyContent:"start"},onClick:o.onAddTable,children:(0,v.jsx)("span",{children:"New table"})})}),!z&&(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"bottom",children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to create tables"})})]})})]}),(0,v.jsx)("div",{className:"mb-2 block",children:(0,v.jsx)(nc.Z,{className:"table-editor-search border-none",icon:L?(0,v.jsx)(eU.Z,{className:"animate-spin text-foreground-lighter",size:12,strokeWidth:1.5}):(0,v.jsx)(tg.Z,{className:"text-foreground-lighter",size:12,strokeWidth:1.5}),placeholder:"Search tables",onChange:function(e){return h(e.target.value.trim())},value:m,size:"tiny",actions:m&&(0,v.jsx)(ea.z,{size:"tiny",type:"text",onClick:function(){return h("")},children:(0,v.jsx)(en.Z,{size:12,strokeWidth:2})})})})]}),S?(0,v.jsxs)("div",{className:"mx-4 flex items-center space-x-2",children:[(0,v.jsx)(eU.Z,{className:"animate-spin",size:14,strokeWidth:1.5}),(0,v.jsx)("p",{className:"text-sm text-foreground-light",children:"Loading entities..."})]}):0===m.length&&(null!==(n=null==A?void 0:A.length)&&void 0!==n?n:0)===0?(0,v.jsxs)("div",{className:"mx-4 space-y-1 rounded-md border border-muted bg-surface-100 py-3 px-4",children:[(0,v.jsx)("p",{className:"text-xs",children:"No entities available"}),(0,v.jsx)("p",{className:"text-xs text-foreground-light",children:"This schema has no entities available yet"})]}):m.length>0&&(null!==(r=null==A?void 0:A.length)&&void 0!==r?r:0)===0?(0,v.jsxs)("div",{className:"mx-4 space-y-1 rounded-md border border-muted bg-surface-100 py-3 px-4",children:[(0,v.jsx)("p",{className:"text-xs",children:"No results found"}),(0,v.jsx)("p",{className:"text-xs text-foreground-light",children:"There are no entities that match your search"})]}):(0,v.jsxs)(O.ZP,{type:"pills",className:"flex flex-auto px-2 space-y-6 pb-4",ulClassName:"flex flex-auto flex-col",children:[(0,v.jsx)(O.ZP.Group,{title:(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,v.jsx)("p",{children:"Tables"}),void 0!==D&&(0,v.jsxs)("p",{style:{fontVariantNumeric:"tabular-nums"},children:["(",D,")"]})]}),(0,v.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,v.jsxs)(tb.h_,{children:[(0,v.jsx)(tb.$F,{children:(0,v.jsxs)(td.fC,{delayDuration:0,children:[(0,v.jsx)(td.xz,{asChild:!0,children:(0,v.jsx)("div",{className:"text-foreground-lighter transition-colors hover:text-foreground",children:(0,v.jsx)(st.Z,{size:18,strokeWidth:1})})}),(0,v.jsx)(td.h_,{children:(0,v.jsxs)(td.VY,{side:"bottom",children:[(0,v.jsx)(td.Eh,{className:"radix-tooltip-arrow"}),(0,v.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,v.jsx)("span",{className:"text-xs",children:"Sort By"})})]})})]})}),(0,v.jsx)(tb.AW,{side:"bottom",align:"start",className:"w-48",children:(0,v.jsxs)(tb._x,{value:b,onValueChange:function(e){return j(e)},children:[(0,v.jsx)(tb.qB,{value:"alphabetical",children:"Alphabetical"},"alphabetical"),(0,v.jsx)(tb.qB,{value:"grouped-alphabetical",children:"Entity Type"},"grouped-alphabetical")]})})]}),(0,v.jsx)("button",{className:"cursor-pointer text-foreground-lighter transition-colors hover:text-foreground",onClick:F,children:(0,v.jsx)(sn.Z,{className:E?"animate-spin":"",size:14})})]})]})})}),(0,v.jsx)("div",{className:"flex flex-1",children:(0,v.jsx)(ss.Z,{items:A,ItemComponent:sv,itemProps:{projectRef:null==y?void 0:y.ref,id:Number(a)},getItemSize:function(){return 28},hasNextPage:Z,isLoadingNextPage:_,onLoadNextPage:function(){return I()}})})]})]}),(0,v.jsx)(sr.b,{visible:l,onClose:function(){return u(!1)}})]})},sy=(0,B.Pi)(function(e){var t=e.children,n=(0,d.oR)(),r=n.vault,s=n.meta,a=n.ui,i=(0,d.Xo)(n1.KA.TENANT_SQL_ADMIN_READ,"tables"),o=s.extensions.byId("supabase_vault"),c=void 0!==o&&null!==o.installed_version;return((0,C.useEffect)(function(){a.selectedProjectRef&&(s.types.load(),s.policies.load(),s.publications.load(),s.extensions.load())},[a.selectedProjectRef]),(0,C.useEffect)(function(){c&&r.load()},[a.selectedProjectRef,c]),i)?(0,v.jsx)(nY,{product:"Table Editor",productMenu:(0,v.jsx)(sj,{}),children:t}):(0,v.jsx)(nY,{children:(0,v.jsx)(se.Z,{isFullPage:!0,resourceText:"view tables from this project"})})});n(61602);var sw=n(88688),sk=function(e){var t=e.organization,n=e.project,r=e.children,s=(0,d.P5)("ongoingIncident")?"calc(100vh - 44px)":"100vh";return(0,v.jsxs)("div",{className:"flex w-full flex-col",style:{height:s,maxHeight:s},children:[(0,v.jsx)(sS,{organization:t,project:n}),(0,v.jsx)("div",{className:"overflow-auto",children:(0,v.jsx)("section",{className:"has-slide-in slide-in relative mx-auto my-10 max-w-2xl",children:r})})]})},sN=(0,d.QO)((0,B.Pi)(sk)),sO=(0,B.Pi)(sk),sS=function(e){var t=e.organization,n=e.project,r=t?1:n?2:0;return(0,v.jsx)("div",{className:"border-b p-3 border-default",children:(0,v.jsx)("div",{className:"PageHeader",children:(0,v.jsxs)("div",{className:"Breadcrumbs flex justify-between",children:[(0,v.jsx)("div",{className:"flex items-center text-sm",children:(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(b(),{href:"/projects",children:(0,v.jsx)("img",{src:"".concat(m.GW,"/img/supabase-logo.svg"),alt:"Supabase",className:"rounded border p-1 hover:border-white border-default",style:{height:24}})}),(0,v.jsx)(sw.Z,{size:"small",className:"text-foreground-light"}),(0,v.jsx)("p",{className:"text-sm",children:t?"Organization: ".concat(t.name):"Create an organization"}),(0,v.jsx)(sw.Z,{size:"small",className:"text-foreground-light"}),(0,v.jsx)("p",{className:"text-sm ".concat(r<1?"text-foreground-light":""),children:n?n.name:"Create a new project"}),(0,v.jsx)(sw.Z,{size:"small",className:"text-foreground-light"}),(0,v.jsx)("p",{className:"text-sm ".concat(r<2?"text-foreground-light":""),children:n?n.name:"Extend your database"})]})}),(0,v.jsx)("div",{className:"flex"}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(V.Z,{}),(0,v.jsx)(W.Z,{})]})]})})})},sP=nH},53526:function(e,t,n){var r=n(38183),s=n(9747),a=n(52322);t.Z=function(){return(0,a.jsxs)("div",{className:"flex h-64 flex-col items-center justify-center",children:[(0,a.jsx)(r.Z,{src:"".concat(s.GW,"/img/no-search-results.svg"),preProcessor:function(e){return e.replace(/svg/,'svg className="mb-2 w-16 h-16 text-color-inherit"')}}),(0,a.jsx)("p",{className:"w-64 text-center text-sm opacity-50",children:"Hmm, we couldn't find any results that match your query."})]})}},85577:function(e,t,n){var r=n(24990),s=n(8647),a=n(95223),i=n(52322);t.Z=function(e){var t=e.title,n=e.size,o=e.children,c=e.ctaButtonLabel,l=void 0===c?"":c,u=e.infoButtonLabel,d=void 0===u?"":u,p=e.infoButtonUrl,m=void 0===p?"":p,h=e.onClickCta,f=void 0===h?function(){}:h,g=e.loading,x=void 0!==g&&g,b=e.disabled,v=void 0!==b&&b,j=e.disabledMessage,y=void 0===j?"":j;return(0,i.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,i.jsx)("div",{className:"flex space-x-4 rounded border border-overlay bg-surface-100 p-6 shadow-md",children:(0,i.jsx)("div",{className:"flex flex-col",children:(0,i.jsxs)("div",{className:"".concat("medium"===(void 0===n?"medium":n)?"w-80":"w-[400px]"," space-y-4"),children:[(0,i.jsx)("h5",{children:void 0===t?"":t}),(0,i.jsx)("div",{className:"flex flex-col space-y-2",children:o}),(l&&f||m&&d)&&(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[l&&f&&(0,i.jsxs)(r.fC,{delayDuration:0,children:[(0,i.jsx)(r.xz,{asChild:!0,children:(0,i.jsx)(s.z,{type:"primary",onClick:f,loading:x,disabled:x||v,children:l})}),v&&y.length>0&&(0,i.jsx)(r.h_,{children:(0,i.jsxs)(r.VY,{side:"bottom",children:[(0,i.jsx)(r.Eh,{className:"radix-tooltip-arrow"}),(0,i.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,i.jsx)("span",{className:"text-xs text-foreground",children:y})})]})})]}),m&&d?(0,i.jsx)(s.z,{type:"default",icon:(0,i.jsx)(a.Z,{size:14,strokeWidth:1.5}),children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:m,children:d})}):null]})]})})})})}},981:function(e,t,n){var r=n(95235),s=n(84501),a=n.n(s),i=n(65336),o=n(71830),c=n(2784),l=n(8647),u=n(210),d=n(52322);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=/{([\d,-]+)}/,f={defaultLanguage:"js"};t.Z=function(e){var t=e.children,n=e.className,r=e.metastring,s=(0,c.useState)(!1),p=s[0],g=s[1],x=(0,c.useRef)(null);(0,c.useRef)(null);var b=[];if(r&&h.test(r)){var v,j,y=null===(j=r.match(h))||void 0===j?void 0:j[1];y&&(b=a()(y).filter(function(e){return e>0}))}(0,c.useEffect)(function(){if(p){var e=setTimeout(function(){return g(!1)},2e3);return function(){return clearTimeout(e)}}},[p]);var w=n&&n.replace(/language-/,"");!w&&f.defaultLanguage&&(w=f.defaultLanguage);var k=function(e){(0,u.vQ)(e,function(){return g(!0)})};return(0,d.jsx)(i.ZP,m(m({},i.lG),{},{theme:f.theme||o.Z,code:null!==(v=null==t?void 0:t.trim())&&void 0!==v?v:"",language:w,children:function(e){var n=e.className,r=e.tokens,s=e.getLineProps,a=e.getTokenProps;return(0,d.jsxs)("div",{className:"Code codeBlockWrapper group",children:[(0,d.jsx)("pre",{ref:x,className:"codeBlock ".concat(n),children:r.map(function(e,t){var n=s({line:e,key:t});return b.includes(t+1)&&(n.className="".concat(n.className," docusaurus-highlight-code-line")),(0,d.jsx)("div",m(m({},n),{},{children:e.map(function(e,t){return(0,d.jsx)("span",m({},a({token:e,key:t})),t)})}),t)})}),(0,d.jsx)("div",{className:"invisible absolute right-0 top-0 opacity-0 transition-opacity group-hover:visible group-hover:opacity-100",children:(0,d.jsx)(l.z,{size:"tiny",type:"default",onClick:function(){return k(t)},children:p?"Copied":"Copy"})})]})}}))}},22005:function(e,t,n){n.d(t,{De:function(){return s},Eb:function(){return l},Qo:function(){return r},R9:function(){return c},Ye:function(){return a},fh:function(){return o},l6:function(){return u},sd:function(){return i}});var r={WEEK:604800,MONTH:2592e3,YEAR:31536e3},s={COLUMNS:"COLUMNS",LIST:"LIST"},a={NAME:"name",UPDATED_AT:"updated_at",CREATED_AT:"created_at",LAST_ACCESSED_AT:"last_accessed_at"},i={ASC:"asc",DESC:"desc"},o={BUCKET:"BUCKET",FILE:"FILE",FOLDER:"FOLDER"},c={READY:"READY",LOADING:"LOADING",EDITING:"EDITING"},l={upload:["INSERT"],download:["SELECT"],list:["SELECT"],update:["SELECT","UPDATE"],move:["SELECT","UPDATE"],copy:["SELECT","INSERT"],remove:["SELECT","DELETE"],createSignedUrl:["SELECT"],createSignedUrls:["SELECT"],getPublicUrl:[]},u={STORAGE_COLUMN:"STORAGE_COLUMN",STORAGE_ITEM:"STORAGE_ITEM",STORAGE_FOLDER:"STORAGE_FOLDER"}},38327:function(e,t,n){n.d(t,{H:function(){return a},b:function(){return s}});var r,s,a=5368709120;(r=s||(s={})).BYTES="bytes",r.KB="KB",r.MB="MB",r.GB="GB"},82410:function(e,t,n){n.d(t,{F:function(){return a},K:function(){return s}});var r=n(38327),s=function(e,t){if(e<=0)return{value:0,unit:r.b.BYTES};var n=void 0!==t?Object.values(r.b).indexOf(t):Math.floor(Math.log(e)/Math.log(1024)),s=void 0!==t?n<0?0:n:n>3?3:n,a=Object.values(r.b)[s];return{value:e/Math.pow(1024,s),unit:a}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.b.BYTES,n=Object.values(r.b).indexOf(t);return e<0||n<0?0:e*Math.pow(1024,n)}},51905:function(e,t,n){n.d(t,{Iw:function(){return t7},cm:function(){return tt},S:function(){return tU},cx:function(){return t1}});var r=n(81333),s=n(95235),a=n(20406),i=n(28526),o=n.n(i),c=n(43991),l=n(76635),u=n(46776),d=n(2784),p=n(51860),m=n(78452),h=n(70203),f=n(9747),g=n(210),x=n(871),b=n(22005),v=n(36849),j=n(8647),y=n(67270),w=n(52322),k=function(e){var t=e.visible,n=void 0!==t&&t,r=e.selectedItemsToDelete,s=void 0===r?[]:r,a=e.onSelectCancel,i=void 0===a?l.noop:a,o=e.onSelectDelete,c=void 0===o?l.noop:o,u=(0,d.useState)(!1),p=u[0],m=u[1];(0,d.useEffect)(function(){m(!1)},[n]);var h=s.length>1,f=h?"Confirm deletion of ".concat(s.length," items"):1===s.length?"Confirm deletion of ".concat(s[0].name):"",g=h?"Are you sure you want to delete the selected ".concat(s.length," items?"):1===s.length?"Are you sure you want to delete the selected ".concat(s[0].type.toLowerCase(),"?"):"";return(0,w.jsx)(v.C,{visible:n,header:(0,w.jsx)("span",{className:"break-words",children:f}),size:"medium",onCancel:i,customFooter:(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(j.z,{type:"default",disabled:p,onClick:i,children:"Cancel"}),(0,w.jsx)(j.z,{type:"danger",disabled:p,loading:p,onClick:function(){m(!0),c()},children:p?"Deleting":"Delete"})]}),children:(0,w.jsx)(v.C.Content,{children:(0,w.jsx)("div",{className:"my-4",children:(0,w.jsx)(y.b,{withIcon:!0,variant:"danger",title:"This action cannot be undone.",children:g})})})})},N=n(28879),O=n.n(N),S=n(43635),P=n(14665),C=n(31786),E={days:86400,weeks:604800,months:2592e3,years:31536e3},Z=(0,u.Pi)(function(e){var t,n=e.onCopyUrl,r=(0,x.HN)(),s=r.getFileUrl,i=r.selectedFileCustomExpiry,c=r.setSelectedFileCustomExpiry,l=void 0!==i,u=function(){return c(void 0)};return(0,w.jsx)(v.C,{hideFooter:!0,size:"small",header:"Custom expiry for signed URL",visible:l,alignFooter:"right",confirmText:"Get URL",onCancel:function(){return u()},children:(0,w.jsx)(S.Z,{validateOnBlur:!0,initialValues:{expiresIn:"",units:"days"},onSubmit:(t=(0,a.Z)(o().mark(function e(t,r){var a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=r.setSubmitting)(!0),e.t0=n,e.t1=i.name,e.next=6,s(i,t.expiresIn*E[t.units]);case 6:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),a(!1),u();case 10:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),validate:function(e){var t={};return""!==e.expiresIn&&e.expiresIn<=0&&(t.expiresIn="Expiry duration cannot be less than 0"),t},children:function(e){var t=e.values,n=e.isSubmitting;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"pt-4 pb-2",children:(0,w.jsxs)(v.C.Content,{children:[(0,w.jsx)("p",{className:"text-sm text-foreground-light mb-2",children:"Enter the duration for which the URL will be valid for:"}),(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(P.Z,{disabled:n,type:"number",id:"expiresIn",className:"w-full"}),(0,w.jsxs)(C.Z,{id:"units",className:"w-[150px]",children:[(0,w.jsx)(C.Z.Option,{id:"days",label:"days",value:"days",children:"days"}),(0,w.jsx)(C.Z.Option,{id:"weeks",label:"weeks",value:"weeks",children:"weeks"}),(0,w.jsx)(C.Z.Option,{id:"months",label:"months",value:"months",children:"months"}),(0,w.jsx)(C.Z.Option,{id:"years",label:"years",value:"years",children:"years"})]})]}),""!==t.expiresIn&&(0,w.jsxs)("p",{className:"text-sm text-foreground-light mt-2",children:["URL will expire on"," ",O()().add(t.expiresIn,t.units).format(f.Cu)]})]})}),(0,w.jsx)(v.C.Separator,{}),(0,w.jsx)(v.C.Content,{children:(0,w.jsxs)("div",{className:"flex items-center justify-end space-x-2 pt-1 pb-3",children:[(0,w.jsx)(j.z,{type:"default",onClick:function(){return u()},children:"Cancel"}),(0,w.jsx)(j.z,{disabled:""===t.expiresIn||n,loading:n,htmlType:"submit",type:"primary",children:"Get signed URL"})]})})]})}})})}),_=n(71623);n(64611);var I=n(59491),L=n(51459),D=n(88688),A=n(34040),T=n(97607),R=n(12223);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var F=function(e){return(0,w.jsx)(R.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:T.Z},e))},U=n(28208),M=n(70696);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var q=function(e){return(0,w.jsx)(R.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:M.Z},e))},W=(0,u.Pi)(function(e){var t,n=e.id,r=e.onCopyUrl,s=void 0===r?l.noop:r,i=(0,x.HN)(),c=i.getFileUrl,u=i.downloadFile,d=i.selectedBucket,p=i.setSelectedItemsToDelete,m=i.setSelectedItemToRename,f=i.setSelectedItemsToMove,g=i.setSelectedFileCustomExpiry,v=d.public,j=(0,h.Xo)(I.KA.STORAGE_ADMIN_WRITE,"*"),y=(t=(0,a.Z)(o().mark(function e(t,n,r){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isCorrupted){e.next=2;break}return e.abrupt("return");case 2:e.t0=t,e.next="copy"===e.t0?5:"rename"===e.t0?15:"move"===e.t0?16:"download"===e.t0?17:20;break;case 5:if(!(void 0!==r&&r<0)){e.next=9;break}return e.abrupt("return",g(n));case 9:return e.t1=s,e.t2=n.name,e.next=13,c(n,r);case 13:return e.t3=e.sent,e.abrupt("return",(0,e.t1)(e.t2,e.t3));case 15:return e.abrupt("return",m(n));case 16:return e.abrupt("return",f([n]));case 17:return e.next=19,u(n);case 19:return e.abrupt("return",e.sent);case 20:return e.abrupt("break",21);case 21:case"end":return e.stop()}},e)})),function(e,n,r){return t.apply(this,arguments)});return(0,w.jsxs)(_.v2,{id:void 0===n?"":n,animation:"fade",children:[v?(0,w.jsxs)(_.ck,{onClick:function(e){return y("copy",e.props.item)},children:[(0,w.jsx)(L.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Get URL"})]}):(0,w.jsxs)(_.rS,{label:(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(L.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"text-xs",children:"Get URL"})]}),arrow:(0,w.jsx)(D.Z,{size:"tiny"}),children:[(0,w.jsx)(_.ck,{onClick:function(e){return y("copy",e.props.item,b.Qo.WEEK)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Expire in 1 week"})}),(0,w.jsx)(_.ck,{onClick:function(e){return y("copy",e.props.item,b.Qo.MONTH)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Expire in 1 month"})}),(0,w.jsx)(_.ck,{onClick:function(e){return y("copy",e.props.item,b.Qo.YEAR)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Expire in 1 year"})}),(0,w.jsx)(_.ck,{onClick:function(e){return y("copy",e.props.item,-1)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Custom expiry"})})]}),j&&[(0,w.jsxs)(_.ck,{onClick:function(e){return y("rename",e.props.item)},children:[(0,w.jsx)(A.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Rename"})]},"rename-file"),(0,w.jsxs)(_.ck,{onClick:function(e){return y("move",e.props.item)},children:[(0,w.jsx)(F,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Move"})]},"move-file"),(0,w.jsxs)(_.ck,{onClick:function(e){return y("download",e.props.item)},children:[(0,w.jsx)(U.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Download"})]},"download-file"),(0,w.jsx)(_.Z0,{},"file-separator"),(0,w.jsxs)(_.ck,{onClick:function(e){return p([e.props.item])},children:[(0,w.jsx)(q,{size:"tiny",stroke:"red"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Delete"})]},"delete-file")]]})}),V=n(62202),G=function(e,t){var n=e.slice(0,t.columnIndex).map(function(e){return e.name}),r=n.length>0?"".concat(n.join("/"),"/").concat(t.name):t.name;(0,g.vQ)(r),V.ZP.success('Copied path to folder "'.concat(t.name,'"'))},H=function(e){var t=e.id,n=(0,x.HN)(),r=n.openedFolders,s=n.downloadFolder,a=n.setSelectedItemToRename,i=n.setSelectedItemsToDelete,o=(0,h.Xo)(I.KA.STORAGE_ADMIN_WRITE,"*");return(0,w.jsxs)(_.v2,{id:void 0===t?"":t,animation:"fade",children:[o&&(0,w.jsxs)(_.ck,{onClick:function(e){return a(e.props.item)},children:[(0,w.jsx)(A.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Rename"})]}),(0,w.jsxs)(_.ck,{onClick:function(e){return s(e.props.item)},children:[(0,w.jsx)(U.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Download"})]}),(0,w.jsxs)(_.ck,{onClick:function(e){return G(r,e.props.item)},children:[(0,w.jsx)(L.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Copy path to folder"})]}),o&&[(0,w.jsx)(_.Z0,{},"separator"),(0,w.jsxs)(_.ck,{onClick:function(e){return i([e.props.item])},children:[(0,w.jsx)(q,{size:"tiny",stroke:"red"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Delete"})]},"delete")]]})},Y=n(78027);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var K=function(e){return(0,w.jsx)(R.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:Y.Z},e))},X=n(37927),$=n(97319),J=n(93471);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var et=function(e){return(0,w.jsx)(R.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:J.Z},e))};function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var es=function(e){var t=e.id,n=(0,x.HN)(),r=n.columns,s=n.selectedItems,a=n.setSelectedItems,i=n.setView,o=n.setSortBy,c=n.setSortByOrder,u=n.addNewFolderPlaceholder,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;u(e)},p=function(e){var t=r[e].items.filter(function(e){return e.type===b.fh.FILE}).map(function(t){return er(er({},t),{},{columnIndex:e})}),n=(0,l.compact)(t.map(function(e){return e.id}));s.filter(function(e){return n.includes(e.id)}).length===t.length?a(s.filter(function(e){return!n.includes(e.id)})):a((0,l.uniqBy)(s.concat(t),"id"))};return(0,w.jsxs)(_.v2,{id:void 0===t?"":t,animation:"fade",children:[(0,w.jsxs)(_.ck,{onClick:function(e){return d(e.props.index)},children:[(0,w.jsx)(K,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"New folder"})]}),(0,w.jsx)(_.Z0,{}),(0,w.jsxs)(_.ck,{onClick:function(e){return p(e.props.index)},children:[(0,w.jsx)(L.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Select all items"})]}),(0,w.jsxs)(_.rS,{label:(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(X.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"text-xs",children:"View"})]}),arrow:(0,w.jsx)(D.Z,{size:"tiny"}),children:[(0,w.jsx)(_.ck,{onClick:function(){return i(b.De.COLUMNS)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"As columns"})}),(0,w.jsx)(_.ck,{onClick:function(){return i(b.De.LIST)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"As list"})})]}),(0,w.jsxs)(_.rS,{label:(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)($.Z,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Sort by"})]}),arrow:(0,w.jsx)(D.Z,{size:"tiny"}),children:[(0,w.jsx)(_.ck,{onClick:function(){return o(b.Ye.NAME)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Name"})}),(0,w.jsx)(_.ck,{onClick:function(){return o(b.Ye.CREATED_AT)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Last created"})}),(0,w.jsx)(_.ck,{onClick:function(){return o(b.Ye.UPDATED_AT)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Last modified"})}),(0,w.jsx)(_.ck,{onClick:function(){return o(b.Ye.LAST_ACCESSED_AT)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Last accessed"})})]}),(0,w.jsxs)(_.rS,{label:(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(et,{size:"tiny"}),(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Sort by order"})]}),arrow:(0,w.jsx)(D.Z,{size:"tiny"}),children:[(0,w.jsx)(_.ck,{onClick:function(){return c(b.sd.ASC)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Ascending"})}),(0,w.jsx)(_.ck,{onClick:function(){return c(b.sd.DESC)},children:(0,w.jsx)("span",{className:"ml-2 text-xs",children:"Descending"})})]})]})},ea=n(86263),ei=n(33725),eo=n(41503),ec=n(67855),el=n(22812),eu=n(9162),ed=n(4741),ep=(0,eu.sj)({isSearching:!1,setIsSearching:function(e){ep.isSearching=e}}),em=function(e){return(0,ed.R)(ep,e)},eh=n(12741),ef=n(24990),eg=n(38183),ex=n(29027),eb=n(39730),ev=n(79983);function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ey=function(e){return(0,w.jsx)(R.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:ev.Z},e))},ew=n(88599);function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eN=function(e){return(0,w.jsx)(R.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:ew.Z},e))},eO=n(57393);function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eP=function(e){return(0,w.jsx)(R.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:eO.Z},e))},eC=n(23733),eE=n(93306),eZ=n(924);function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eL=function(e){var t,n,r=e.item,s=e.view,i=e.columnIndex,c=(0,x.HN)(),u=c.renameFile,p=c.renameFolder,m=c.addNewFolder,h=(0,d.useRef)(null),f=(0,d.useState)(r.name),g=f[0],v=f[1],j=(t=(0,a.Z)(o().mark(function e(t,n){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&(n.preventDefault(),n.stopPropagation()),r.type!==b.fh.FILE){e.next=6;break}return e.next=4,u(r,t,i);case 4:e.next=7;break;case 6:(0,l.has)(r,"id")?p(eI(eI({},r),{},{columnIndex:i}),t,i):m(t,i);case 7:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)});return(0,d.useEffect)(function(){h.current&&h.current.select();var e=function(e){"Escape"===e.key&&((null==r?void 0:r.id)!==void 0?j(r.name):m("",i))};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}},[]),(0,w.jsx)("div",{className:"storage-row flex items-center justify-between rounded bg-gray-500",children:(0,w.jsxs)("div",{className:"flex h-full flex-grow items-center px-2.5",children:[(0,w.jsx)("div",{className:"",children:(0,w.jsx)(eT,{view:s,status:r.status,fileType:r.type,mimeType:null===(n=r.metadata)||void 0===n?void 0:n.mimetype})}),(0,w.jsxs)("form",{className:"h-9",onSubmit:function(e){return j(g,e)},children:[(0,w.jsx)("input",{autoFocus:!0,ref:h,className:"storage-row-input ml-3 h-full bg-inherit p-0 px-1 text-sm",type:"text",value:g,onChange:function(e){return v(e.target.value)},onBlur:function(e){return j(g,e)}}),(0,w.jsx)("button",{className:"hidden",type:"submit",onClick:function(e){return j(g,e)}})]})]})})};function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eT=function(e){var t=e.view,n=e.status,r=e.fileType,s=e.mimeType;if(t===b.De.LIST&&n===b.R9.LOADING)return(0,w.jsx)(ex.Z,{size:16,strokeWidth:2,className:"animate-spin"});if(r===b.fh.BUCKET||r===b.fh.FOLDER){var a=r===b.fh.BUCKET?"".concat(f.GW,"/img/bucket-filled.svg"):r===b.fh.FOLDER?"".concat(f.GW,"/img/folder-filled.svg"):"".concat(f.GW,"/img/file-filled.svg");return(0,w.jsx)(eg.Z,{src:a,preProcessor:function(e){return e.replace(/svg/,'svg class="w-4 h-4 text-color-inherit opacity-75"')}})}return null!=s&&s.includes("image")?(0,w.jsx)(eb.Z,{size:16,strokeWidth:2}):null!=s&&s.includes("audio")?(0,w.jsx)(ey,{size:16,strokeWidth:2}):null!=s&&s.includes("video")?(0,w.jsx)(eN,{size:16,strokeWidth:2}):(0,w.jsx)(eP,{size:16,strokeWidth:2})},eR=function(e){var t,n,r,s,i,c,u,d,p,m=e.index,f=e.item,v=void 0===f?{}:f,j=e.view,y=void 0===j?b.De.COLUMNS:j,k=e.columnIndex,N=void 0===k?0:k,O=e.selectedItems,S=void 0===O?[]:O,P=e.openedFolders,C=void 0===P?[]:P,E=e.selectedFilePreview,Z=void 0===E?{}:E,D=e.onCopyUrl,T=(0,x.HN)(),R=T.getFileUrl,z=T.popColumnAtIndex,M=T.pushOpenedFolderAtIndex,B=T.popOpenedFoldersAtIndex,W=T.setFilePreview,V=T.closeFilePreview,H=T.clearSelectedItems,Y=T.selectedBucket,Q=T.setSelectedItems,K=T.setSelectedItemsToDelete,X=T.setSelectedItemToRename,$=T.setSelectedItemsToMove,J=T.setSelectedFileCustomExpiry,ee=T.fetchFolderContents,et=T.downloadFile,en=T.downloadFolder,er=T.selectRangeItems,es=Y.public,ea=eA(eA({},v),{},{columnIndex:N}),ei=void 0!==(0,l.find)(S,v),ec=C.length>N&&(0,l.isEqual)(C[N],v),el=!(0,l.isEmpty)(Z)&&(0,l.isEqual)(Z.id,v.id),eu=(0,h.Xo)(I.KA.STORAGE_ADMIN_WRITE,"*"),ed=(0,_.av)().show,ep=(t=(0,a.Z)(o().mark(function e(t,n){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:z(t),B(t-1),W(n),H();case 4:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),em=(n=(0,a.Z)(o().mark(function e(t,n){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return V(),H(t+1),B(t-1),M(n,t),e.next=6,ee(n.id,n.name,t);case 6:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}),eg=function(e){if(e&&0!==S.length){er(N,m);return}void 0!==(0,l.find)(S,function(e){return ea.id===e.id})?Q(S.filter(function(e){return ea.id!==e.id})):Q([].concat((0,eh.Z)(S),[ea])),V()},eb=v.type===b.fh.FOLDER?[].concat((0,eh.Z)(eu?[{name:"Rename",icon:(0,w.jsx)(A.Z,{size:"tiny"}),onClick:function(){return X(ea)}}]:[]),[{name:"Download",icon:(0,w.jsx)(U.Z,{size:"tiny"}),onClick:function(){return en(ea)}},{name:"Copy path to folder",icon:(0,w.jsx)(L.Z,{size:"tiny"}),onClick:function(){return G(C,ea)}}],(0,eh.Z)(eu?[{name:"Separator",icon:void 0,onClick:void 0},{name:"Delete",icon:(0,w.jsx)(q,{size:"tiny"}),onClick:function(){return K([ea])}}]:[])):[].concat((0,eh.Z)(v.isCorrupted?[]:[].concat((0,eh.Z)(es?[{name:"Get URL",icon:(0,w.jsx)(L.Z,{size:"tiny"}),onClick:(r=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D,e.t1=ea.name,e.next=4,R(ea);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})}]:[{name:"Get URL",icon:(0,w.jsx)(L.Z,{size:"tiny"}),children:[{name:"Expire in 1 week",onClick:(s=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D,e.t1=ea.name,e.next=4,R(ea,b.Qo.WEEK);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)})},{name:"Expire in 1 month",onClick:(i=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D,e.t1=ea.name,e.next=4,R(ea,b.Qo.MONTH);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{name:"Expire in 1 year",onClick:(c=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D,e.t1=ea.name,e.next=4,R(ea,b.Qo.YEAR);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)})},{name:"Custom expiry",onClick:(u=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(ea));case 1:case"end":return e.stop()}},e)})),function(){return u.apply(this,arguments)})}]}]),(0,eh.Z)(eu?[{name:"Rename",icon:(0,w.jsx)(A.Z,{size:"tiny"}),onClick:function(){return X(ea)}},{name:"Move",icon:(0,w.jsx)(F,{size:"tiny"}),onClick:function(){return $([ea])}},{name:"Download",icon:(0,w.jsx)(U.Z,{size:"tiny"}),onClick:(d=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(ea);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)})},{name:"Separator",icon:void 0,onClick:void 0}]:[]))),(0,eh.Z)(eu?[{name:"Delete",icon:(0,w.jsx)(q,{size:"tiny"}),onClick:function(){return K([ea])}}]:[])),ev=v.metadata?(0,g.td)(v.metadata.size):"-",ej=v.metadata?v.metadata.mimetype:"-",ey=v.created_at?new Date(v.created_at).toLocaleString():"-",ew=v.updated_at?new Date(v.updated_at).toLocaleString():"-",ek=function(e,t){ed(e,{id:t===b.fh.FILE?b.l6.STORAGE_ITEM:b.l6.STORAGE_FOLDER,props:{item:ea}})},eN=y===b.De.LIST&&v.isCorrupted?"calc(100% - 60px)":y!==b.De.LIST||v.isCorrupted?"100%":"calc(100% - 50px)";return v.status===b.R9.EDITING?(0,w.jsx)(eL,{view:y,item:v,columnIndex:N}):(0,w.jsx)("div",{className:"h-full border-b border-default",onContextMenu:function(e){e.stopPropagation(),v.type===b.fh.FILE?ek(e,b.fh.FILE):ek(e,b.fh.FOLDER)},children:(0,w.jsxs)("div",{className:["storage-row group flex h-full items-center px-2.5","hover:bg-panel-footer-light [[data-theme*=dark]_&]:hover:bg-panel-footer-dark","".concat(ec?"bg-surface-200":""),"".concat(el?"bg-green-500 hover:bg-green-500":""),"".concat(v.status!==b.R9.LOADING?"cursor-pointer":"")].join(" "),onClick:function(e){e.stopPropagation(),e.preventDefault(),v.status===b.R9.LOADING||ec||el||(v.type===b.fh.FOLDER||v.type===b.fh.BUCKET?em(N,v):ep(N,v))},children:[(0,w.jsxs)("div",{className:["flex items-center",y===b.De.LIST?"w-[40%] min-w-[250px]":"w-[90%]"].join(" "),children:[(0,w.jsxs)("div",{className:"relative w-[30px]",onClick:function(e){return e.stopPropagation()},children:[!ei&&(0,w.jsx)("div",{className:"absolute ".concat(v.type===b.fh.FILE?"group-hover:hidden":""),style:{top:"2px"},children:(0,w.jsx)(eT,{view:y,status:v.status,fileType:v.type,mimeType:null===(p=v.metadata)||void 0===p?void 0:p.mimetype})}),(0,w.jsx)(eo.Z,{label:"",className:"w-full ".concat(v.type!==b.fh.FILE?"invisible":""," ").concat(ei?"opacity-100":"opacity-0 group-hover:opacity-100"),checked:ei,onChange:function(e){e.stopPropagation(),eg(e.nativeEvent.shiftKey)}})]}),(0,w.jsx)("p",{title:v.name,className:"truncate text-sm",style:{width:eN},children:v.name}),v.isCorrupted&&(0,w.jsxs)(ef.fC,{delayDuration:0,children:[(0,w.jsx)(ef.xz,{children:(0,w.jsx)(eC.Z,{size:18,strokeWidth:2,className:"text-foreground-light"})}),(0,w.jsx)(ef.h_,{children:(0,w.jsxs)(ef.VY,{side:"bottom",children:[(0,w.jsx)(ef.Eh,{className:"radix-tooltip-arrow"}),(0,w.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,w.jsx)("span",{className:"text-xs text-foreground",children:"File is corrupted, please delete and reupload again."})})]})})]})]}),y===b.De.LIST&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("p",{className:"w-[11%] min-w-[100px] truncate text-sm",children:ev}),(0,w.jsx)("p",{className:"w-[14%] min-w-[100px] truncate text-sm",children:ej}),(0,w.jsx)("p",{className:"w-[15%] min-w-[160px] truncate text-sm",children:ey}),(0,w.jsx)("p",{className:"w-[15%] min-w-[160px] truncate text-sm",children:ew})]}),(0,w.jsx)("div",{className:"flex items-center justify-end ".concat(y===b.De.LIST?"flex-grow":"w-[10%]"),onClick:function(e){return e.stopPropagation()},children:v.status===b.R9.LOADING?(0,w.jsx)(ex.Z,{className:"animate-spin ".concat(y===b.De.LIST?"invisible":""),size:16,strokeWidth:2}):(0,w.jsxs)(eE.h_,{modal:!1,children:[(0,w.jsx)(eE.$F,{children:(0,w.jsx)("div",{className:"storage-row-menu opacity-0",children:(0,w.jsx)(eZ.Z,{size:16,strokeWidth:2})})}),(0,w.jsx)(eE.AW,{side:"bottom",align:"end",children:eb.map(function(e){var t,n,r;return(null!==(t=null==e?void 0:e.children)&&void 0!==t?t:[]).length>0?(0,w.jsxs)(eE.Ph,{children:[(0,w.jsxs)(eE.kt,{className:"space-x-2",children:[e.icon||(0,w.jsx)(w.Fragment,{}),(0,w.jsx)("p",{children:e.name})]}),(0,w.jsx)(eE.cq,{children:(0,w.jsx)(eE.TG,{children:null===(n=null!==(r=null==e?void 0:e.children)&&void 0!==r?r:[])||void 0===n?void 0:n.map(function(e){return(0,w.jsx)(eE.Xi,{onClick:e.onClick,children:(0,w.jsx)("p",{children:e.name})},e.name)})})})]},e.name):"Separator"===e.name?(0,w.jsx)(eE.VD,{},e.name):(0,w.jsxs)(eE.Xi,{className:"space-x-2",onClick:e.onClick,children:[e.icon||(0,w.jsx)(w.Fragment,{}),(0,w.jsx)("p",{children:e.name})]},e.name)})})]})})]})})},ez=function(e){var t=e.isOpen,n=e.onDragLeave,r=e.onDrop,s=e.folderIsEmpty;return(0,w.jsx)(ea.u,{show:t,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0",enterTo:"transform opacity-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100",leaveTo:"transform opacity-0",className:"h-full w-full absolute top-0",children:(0,w.jsx)("div",{onDragLeave:n,onDrop:r,className:"absolute top-0 flex h-full w-full items-center justify-center",style:{backgroundColor:s?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.2)"},children:!s&&(0,w.jsxs)("div",{className:"w-3/4 h-32 border-2 border-dashed border-gray-400 rounded-md flex flex-col items-center justify-center p-6 pointer-events-none",style:{backgroundColor:"rgba(0,0,0,0.4)"},children:[(0,w.jsx)(ei.Z,{className:"text-white pointer-events-none",size:20,strokeWidth:2}),(0,w.jsx)("p",{className:"text-center text-sm  text-white mt-2 pointer-events-none",children:"Drop your files to upload to this folder"})]})})})},eF=function(e){var t=e.index,n=void 0===t?0:t,r=e.view,s=void 0===r?b.De.COLUMNS:r,a=e.column,i=e.fullWidth,o=void 0!==i&&i,c=e.openedFolders,u=e.selectedItems,p=void 0===u?[]:u,m=e.selectedFilePreview,h=e.itemSearchString,x=e.onFilesUpload,v=void 0===x?l.noop:x,j=e.onSelectAllItemsInColumn,y=void 0===j?l.noop:j,k=e.onSelectColumnEmptySpace,N=void 0===k?l.noop:k,O=e.onColumnLoadMore,S=void 0===O?l.noop:O,P=e.onCopyUrl,C=void 0===P?l.noop:P,E=(0,d.useState)(!1),Z=E[0],I=E[1],L=(0,d.useRef)(null),D=em();(0,d.useEffect)(function(){if(L){var e=L.current,t=e.scrollHeight,n=e.clientHeight;t>n&&(L.current.scrollTop+=t-n)}},[a]);var A=p.length>0,T=a.items.map(function(e){return e.id}),R=a.items.filter(function(e){return e.type===b.fh.FILE}),z=p.filter(function(e){return T.includes(e.id)}).filter(function(e){return e.type===b.fh.FILE}),F=a.items,U=(0,l.sum)(F.map(function(e){return(0,l.get)(e,["metadata","size"],0)})),M=0===a.items.filter(function(e){return e.status!==b.R9.LOADING}).length,B=(0,_.av)().show,q=function(e){e&&(e.stopPropagation(),e.preventDefault(),"dragover"!==e.type||Z||I(!0))},W=function(){return(0,w.jsx)(eo.Z,{label:"",className:"-mt-0.5",checked:0!==R.length&&z.length===R.length,disabled:0===R.length,onChange:function(){return y(n)}})};return(0,w.jsxs)("div",{ref:L,className:"\n        ".concat(o?"w-full":"w-64 border-r border-overlay","\n        ").concat((b.De.COLUMNS,""),"\n        hide-scrollbar relative flex flex-shrink-0 flex-col overflow-auto\n      "),onContextMenu:function(e){B(e,{id:b.l6.STORAGE_COLUMN,props:{index:n}})},onDragOver:q,onDrop:function(e){q(e),v(e,n)},onClick:function(e){var t=(0,l.get)(e.target,["className"],"");"string"==typeof t&&t.includes("react-contexify")||N(n)},children:[s===b.De.COLUMNS&&(0,w.jsx)("div",{className:"sticky top-0 z-10 mb-0 flex items-center bg-table-header-light px-2.5 [[data-theme*=dark]_&]:bg-table-header-dark ".concat(A?"h-10 py-3 opacity-100":"h-0 py-0 opacity-0"," transition-all duration-200"),onClick:function(e){return e.stopPropagation()},children:R.length>0?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(W,{}),(0,w.jsxs)("p",{className:"text-sm text-foreground-light",children:["Select all ",R.length," files"]})]}):(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:"No files available for selection"})}),s===b.De.LIST&&(0,w.jsxs)("div",{className:" sticky top-0 z-10 flex min-w-min items-center border-b border-overlay bg-surface-100 px-2.5 py-2 ",children:[(0,w.jsxs)("div",{className:"flex w-[40%] min-w-[250px] items-center",children:[(0,w.jsx)(W,{}),(0,w.jsx)("p",{className:"text-sm",children:"Name"})]}),(0,w.jsx)("p",{className:"w-[11%] min-w-[100px] text-sm",children:"Size"}),(0,w.jsx)("p",{className:"w-[14%] min-w-[100px] text-sm",children:"Type"}),(0,w.jsx)("p",{className:"w-[15%] min-w-[160px] text-sm",children:"Created at"}),(0,w.jsx)("p",{className:"w-[15%] min-w-[160px] text-sm",children:"Last modified at"})]}),a.status===b.R9.LOADING&&(0,w.jsxs)("div",{className:"\n            ".concat(o?"w-full":"w-64 border-r border-default","\n            px-2 py-1 my-1 flex flex-shrink-0 flex-col space-y-2 overflow-auto\n          "),children:[(0,w.jsx)(el.Z,{}),(0,w.jsx)(el.Z,{}),(0,w.jsx)(el.Z,{})]}),(0,w.jsx)(ec.Z,{items:F,itemProps:{view:s,columnIndex:n,selectedItems:p,openedFolders:void 0===c?[]:c,selectedFilePreview:void 0===m?{}:m,onCopyUrl:C},ItemComponent:eR,getItemSize:function(e){return 0!==e&&e===F.length?85:37},hasNextPage:a.status!==b.R9.LOADING&&a.hasMoreItems,isLoadingNextPage:a.isLoadingMoreItems,onLoadNextPage:function(){return S(n,a)}}),!(D.isSearching&&h.length>0)&&0===a.items.length&&a.status!==b.R9.LOADING&&(0,w.jsxs)("div",{className:"h-full w-full flex flex-col items-center justify-center",children:[(0,w.jsx)("img",{src:"".concat(f.GW,"/img/storage-placeholder.svg"),className:"opacity-75 pointer-events-none"}),(0,w.jsx)("p",{className:"my-3 opacity-75",children:"Drop your files here"}),(0,w.jsx)("p",{className:"w-40 text-center text-sm text-foreground-light",children:'Or upload them via the "Upload file" button above'})]}),D.isSearching&&h.length>0&&M&&a.status!==b.R9.LOADING&&(0,w.jsxs)("div",{className:"h-full w-full flex flex-col items-center justify-center",children:[(0,w.jsx)("p",{className:"text-sm my-3 text-foreground",children:"No results found in this folder"}),(0,w.jsxs)("p",{className:"w-40 text-center text-sm text-foreground-light",children:['Your search for "',h,'" did not return any results']})]}),(0,w.jsx)(ez,{isOpen:Z,folderIsEmpty:M,onDragLeave:function(){return I(!1)},onDrop:function(){return I(!1)}}),s===b.De.LIST&&(0,w.jsx)("div",{className:" sticky bottom-0 z-10 flex min-w-min items-center bg-panel-footer-light px-2.5 py-2 [[data-theme*=dark]_&]:bg-panel-footer-dark ",children:(0,w.jsxs)("p",{className:"text-sm",children:[(0,g.td)(U)," for ",F.length," items"]})})]})},eU=(0,u.Pi)(function(e){var t=e.view,n=void 0===t?b.De.COLUMNS:t,r=e.columns,s=void 0===r?[]:r,a=e.openedFolders,i=void 0===a?[]:a,o=e.selectedItems,c=void 0===o?[]:o,u=e.selectedFilePreview,p=void 0===u?{}:u,m=e.itemSearchString,h=e.onFilesUpload,f=void 0===h?l.noop:h,g=e.onSelectAllItemsInColumn,x=void 0===g?l.noop:g,v=e.onSelectColumnEmptySpace,j=void 0===v?l.noop:v,y=e.onColumnLoadMore,k=void 0===y?l.noop:y,N=e.onCopyUrl,O=void 0===N?l.noop:N,S=(0,d.useRef)(null);return(0,d.useEffect)(function(){if(S){var e=S.current,t=e.scrollWidth,n=e.clientWidth;t>n&&(S.current.scrollLeft+=t-n)}},[s]),(0,w.jsxs)("div",{ref:S,className:"file-explorer flex flex-grow overflow-x-auto justify-between h-full w-full",children:[(0,w.jsx)(es,{id:b.l6.STORAGE_COLUMN}),(0,w.jsx)(W,{id:b.l6.STORAGE_ITEM,onCopyUrl:O}),(0,w.jsx)(H,{id:b.l6.STORAGE_FOLDER}),n===b.De.COLUMNS?(0,w.jsx)("div",{className:"flex",children:s.map(function(e,t){return(0,w.jsx)(eF,{index:t,view:n,column:e,openedFolders:i,selectedItems:c,selectedFilePreview:p,itemSearchString:m,onFilesUpload:f,onSelectAllItemsInColumn:x,onSelectColumnEmptySpace:j,onColumnLoadMore:k,onCopyUrl:O},"column-".concat(t))})}):n===b.De.LIST?(0,w.jsx)(w.Fragment,{children:s.length>0&&(0,w.jsx)(eF,{fullWidth:!0,index:s.length-1,view:n,column:s[s.length-1],selectedItems:c,selectedFilePreview:p,itemSearchString:m,onFilesUpload:f,onSelectAllItemsInColumn:x,onSelectColumnEmptySpace:j,onColumnLoadMore:k,onCopyUrl:O})}):(0,w.jsxs)("div",{children:["Unknown view: ",n]})]})}),eM=n(98168),eB=n(51803),eq=n(25149),eW=n(37690),eV=n(25063),eG=n(97346),eH=n(55210),eY=n(59227),eQ=n(38477),eK=n(51422),eX=[{key:b.De.COLUMNS,name:"As columns"},{key:b.De.LIST,name:"As list"}],e$=[{key:b.Ye.NAME,name:"Name"},{key:b.Ye.CREATED_AT,name:"Time created"},{key:b.Ye.UPDATED_AT,name:"Time modified"},{key:b.Ye.LAST_ACCESSED_AT,name:"Time last accessed"}],eJ=[{key:b.sd.ASC,name:"Ascending"},{key:b.sd.DESC,name:"Descending"}],e0=function(e){var t=e.loading,n=e.isSearching,r=e.breadcrumbs,s=e.togglePathEdit;return(0,w.jsx)("div",{className:"group ".concat(t?"":"cursor-pointer"),onClick:function(){return t.isLoading?{}:s()},children:t.isLoading?(0,w.jsxs)("div",{className:"ml-2 flex items-center",children:[(0,w.jsx)(ex.Z,{size:16,strokeWidth:2,className:"animate-spin"}),(0,w.jsx)("p",{className:"ml-3 text-sm",children:t.message})]}):(0,w.jsxs)("div",{className:"flex cursor-pointer items-center",children:[(0,w.jsx)("p",{className:"ml-3 text-sm truncate",children:r[r.length-1]||""}),!n&&(0,w.jsx)("div",{className:"ml-3 flex items-center space-x-2 opacity-0 transition group-hover:opacity-100",children:(0,w.jsx)(j.z,{type:"text",icon:(0,w.jsx)(eM.Z,{}),children:"Navigate"})})]})})},e1=function(e){var t=e.loading,n=e.isSearching,r=e.breadcrumbs,s=e.selectBreadcrumb,a=r.map(function(e,t){return{name:e,index:t}}),i=a.length<=5?a:a.slice(0,2).concat([{name:"...",index:-1}]).concat(a.slice(a.length-2,a.length));return t.isLoading?(0,w.jsxs)("div",{className:"ml-2 flex items-center",children:[(0,w.jsx)(ex.Z,{size:16,strokeWidth:2,className:"animate-spin"}),(0,w.jsx)("p",{className:"ml-3 text-sm",children:t.message})]}):(0,w.jsx)("div",{className:"ml-3 flex items-center ".concat(n&&"max-w-[140px] overflow-x-auto"),children:i.map(function(e,t){return(0,w.jsxs)("div",{className:"flex items-center",children:[0!==t&&(0,w.jsx)(D.Z,{size:10,strokeWidth:2,className:"mx-3"}),(0,w.jsx)("p",{className:"truncate text-sm ".concat("..."!==e.name?"cursor-pointer":""),style:{maxWidth:"6rem"},onClick:function(){return"..."!==e.name?s(e.index):{}},children:e.name},e.name)]},e.name)})})},e2=function(e){var t,n,r=e.itemSearchString,s=void 0===r?"":r,i=e.setItemSearchString,c=void 0===i?l.noop:i,u=e.onFilesUpload,p=void 0===u?l.noop:u,m=em(),f=(0,eK.cg)(),g=(0,d.useState)(""),v=g[0],y=g[1],k=(0,d.useState)(""),N=k[0],O=k[1],S=(0,d.useState)({isLoading:!1,message:""}),C=S[0],E=S[1],Z=(0,d.useState)(!1),_=Z[0],L=Z[1],D=(0,d.useState)(!1),A=D[0],T=D[1],R=(0,d.useRef)(null),z=(0,d.useRef)(null),F=(0,x.HN)(),U=F.view,M=F.setView,B=F.columns,q=F.sortBy,W=F.setSortBy,V=F.sortByOrder,G=F.setSortByOrder,H=F.popColumn,Y=F.popColumnAtIndex,Q=F.popOpenedFolders,X=F.popOpenedFoldersAtIndex,$=F.fetchFoldersByPath,J=F.refetchAllOpenedFolders,ee=F.addNewFolderPlaceholder,et=F.clearOpenedFolders,en=F.closeFilePreview,er=F.selectedBucket,es=B.map(function(e){return e.name}),ea=B.length<=1,eo=(0,h.Xo)(I.KA.STORAGE_ADMIN_WRITE,"*");(0,d.useEffect)(function(){s&&O(s)},[]),(0,d.useEffect)(function(){(0,l.isEqual)(z.current,es)||(L(!1),z.current=es)},[es]);var ec=(0,d.useCallback)((0,l.debounce)(c,300),[]),el=function(){H(),Q(),en()},eu=(t=(0,a.Z)(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=6;break}Y(0),et(),en(),e.next=11;break;case 6:return n=t.join("/"),E({isLoading:!0,message:"Navigating to ".concat(n,"...")}),e.next=10,$(t);case 10:E({isLoading:!1,message:""});case 11:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),ed=function(){O(""),m.setIsSearching(!1),c("")},ep=(n=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,J();case 3:T(!1);case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,w.jsxs)("div",{className:" flex h-[40px] pl-2 items-center justify-between rounded-t-md border-b border-overlay bg-surface-100",children:[(0,w.jsxs)("div",{className:"flex items-center ".concat(_?"w-1/2":""),children:[es.length>0&&(0,w.jsx)(j.z,{icon:(0,w.jsx)(eB.Z,{size:16,strokeWidth:2}),size:"tiny",type:"text",className:"".concat(es.length>1?"opacity-100":"opacity-25"," px-1"),disabled:ea,onClick:function(){L(!1),el()}}),_?(0,w.jsx)("form",{className:"ml-2 flex-grow",children:(0,w.jsx)(P.Z,{autoFocus:!0,type:"text",size:"small",value:v,onChange:function(e){y(e.target.value)},placeholder:"e.g Parent Folder/Child Folder",actions:[(0,w.jsx)(j.z,{type:"default",htmlType:"button",onClick:function(){L(!1)},children:"Cancel"},"cancelPath"),(0,w.jsx)(j.z,{type:"primary",htmlType:"submit",onClick:function(e){e&&(e.preventDefault(),e.stopPropagation()),L(!1),eu((0,l.compact)(v.split("/")))},children:"Go to folder"},"setPath")]},"pathSet")}):U===b.De.COLUMNS?(0,w.jsx)(e0,{loading:C,isSearching:m.isSearching,breadcrumbs:es,togglePathEdit:function(){L(!0),y(es.slice(1).join("/")),m.isSearching&&ed()}}):(0,w.jsx)(e1,{loading:C,isSearching:m.isSearching,breadcrumbs:es,selectBreadcrumb:function(e){Y(e),X(e-1)}})]}),(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-1 px-2",children:[(0,w.jsx)(j.z,{size:"tiny",icon:(0,w.jsx)(eq.Z,{}),type:"text",loading:A,onClick:ep,children:"Reload"}),(0,w.jsxs)(eE.h_,{children:[(0,w.jsx)(eE.$F,{asChild:!0,children:(0,w.jsx)(j.z,{type:"text",icon:"LIST"===U?(0,w.jsx)(eW.Z,{size:16,strokeWidth:2}):(0,w.jsx)(eV.Z,{size:16,strokeWidth:2}),children:"View"})}),(0,w.jsxs)(eE.AW,{align:"end",className:"w-40 min-w-0",children:[eX.map(function(e){return(0,w.jsx)(eE.Xi,{onClick:function(){return M(e.key)},children:(0,w.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,w.jsx)("p",{children:e.name}),U===e.key&&(0,w.jsx)(eG.Z,{className:"text-brand",strokeWidth:2})]})},e.key)}),(0,w.jsx)(eE.VD,{}),(0,w.jsxs)(eE.Ph,{children:[(0,w.jsx)(eE.kt,{children:"Sort by"}),(0,w.jsx)(eE.TG,{className:"w-44",children:e$.map(function(e){return(0,w.jsx)(eE.Xi,{onClick:function(){return W(e.key)},children:(0,w.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,w.jsx)("p",{children:e.name}),q===e.key&&(0,w.jsx)(eG.Z,{className:"text-brand",strokeWidth:2})]})},e.key)})})]}),(0,w.jsxs)(eE.Ph,{children:[(0,w.jsx)(eE.kt,{children:"Sort order"}),(0,w.jsx)(eE.TG,{children:eJ.map(function(e){return(0,w.jsx)(eE.Xi,{onClick:function(){return G(e.key)},children:(0,w.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,w.jsx)("p",{children:e.name}),V===e.key&&(0,w.jsx)(eG.Z,{className:"text-brand",strokeWidth:2})]})},e.key)})})]})]})]})]}),(0,w.jsx)("div",{className:"h-6 border-r border-control"}),(0,w.jsxs)("div",{className:"flex items-center space-x-1 px-2",children:[(0,w.jsx)("div",{className:"hidden",children:(0,w.jsx)("input",{ref:R,type:"file",multiple:!0,onChange:p})}),(0,w.jsxs)(ef.fC,{delayDuration:0,children:[(0,w.jsx)(ef.xz,{className:"w-full",children:(0,w.jsx)(j.z,{icon:(0,w.jsx)(ei.Z,{size:16,strokeWidth:2}),type:"text",disabled:!eo||0===es.length,onClick:function(){R.current&&R.current.click()},children:"Upload files"})}),!eo&&(0,w.jsx)(ef.h_,{children:(0,w.jsxs)(ef.VY,{side:"bottom",children:[(0,w.jsx)(ef.Eh,{className:"radix-tooltip-arrow"}),(0,w.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,w.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to upload files"})})]})})]}),(0,w.jsxs)(ef.fC,{delayDuration:0,children:[(0,w.jsx)(ef.xz,{className:"w-full",children:(0,w.jsx)(j.z,{icon:(0,w.jsx)(K,{size:16,strokeWidth:2}),type:"text",disabled:!eo||0===es.length,onClick:function(){return ee(-1)},children:"Create folder"})}),!eo&&(0,w.jsx)(ef.h_,{children:(0,w.jsxs)(ef.VY,{side:"bottom",children:[(0,w.jsx)(ef.Eh,{className:"radix-tooltip-arrow"}),(0,w.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,w.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to create folders"})})]})})]})]}),(0,w.jsx)("div",{className:"h-6 border-r border-control"}),(0,w.jsx)("div",{className:"flex items-center px-2",children:m.isSearching?(0,w.jsx)(P.Z,{size:"tiny",autoFocus:!0,className:"w-52",icon:(0,w.jsx)(eH.Z,{size:"tiny",strokeWidth:2}),actions:[(0,w.jsx)(eY.Z,{className:"mx-2 cursor-pointer text-foreground",size:"tiny",strokeWidth:2,onClick:ed},"close")],placeholder:"Search for a file or folder",type:"text",value:N,onChange:function(e){O(e.target.value),ec(e.target.value)}}):(0,w.jsx)(j.z,{icon:(0,w.jsx)(eH.Z,{size:16,strokeWidth:2}),size:"tiny",type:"text",className:"px-1",onClick:function(){L(!1),m.setIsSearching(!0)}})}),f&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"h-6 border-r border-control"}),(0,w.jsx)("div",{className:"mx-2",children:(0,w.jsx)(eQ.Z,{section:["storage",er.name]})})]})]})]})},e4=function(){var e=(0,x.HN)(),t=e.selectedItems,n=e.downloadFile,r=e.downloadSelectedFiles,s=e.clearSelectedItems,i=e.setSelectedItemsToDelete,c=e.setSelectedItemsToMove;return(0,w.jsxs)("div",{className:"z-10 flex h-[40px] items-center rounded-t-md bg-brand-400 px-2 py-1 shadow [[data-theme*=dark]_&]:bg-brand-600",children:[(0,w.jsx)(j.z,{icon:(0,w.jsx)(eY.Z,{size:16,strokeWidth:2}),type:"text",onClick:function(){return s()}}),(0,w.jsxs)("div",{className:"ml-4 flex items-center space-x-3",children:[(0,w.jsxs)("p",{className:"mb-0 text-sm text-foreground",children:[(0,w.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:t.length})," items selected"]}),(0,w.jsx)(j.z,{icon:(0,w.jsx)(U.Z,{size:16,strokeWidth:2}),type:"primary",onClick:(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t.length){e.next=5;break}return e.next=3,n(t[0]);case 3:e.next=7;break;case 5:return e.next=7,r(t);case 7:case"end":return e.stop()}},e)})),children:"Download"}),(0,w.jsx)("div",{className:"border-r border-green-800 py-3 opacity-50"}),(0,w.jsx)(j.z,{icon:(0,w.jsx)(q,{size:16,strokeWidth:2}),type:"primary",onClick:function(){return i(t)},children:"Delete"}),(0,w.jsx)(j.z,{icon:(0,w.jsx)(F,{size:16,strokeWidth:2}),type:"primary",onClick:function(){return c(t)},children:"Move"})]})]})},e3=function(e){var t,n=e.bucketName,r=void 0===n?"":n,s=e.visible,a=void 0!==s&&s,i=e.selectedItemsToMove,o=void 0===i?[]:i,c=e.onSelectCancel,u=void 0===c?l.noop:c,p=e.onSelectMove,m=void 0===p?l.noop:p,h=(0,d.useState)(!1),f=h[0],g=h[1],x=(0,d.useState)(""),b=x[0],y=x[1];(0,d.useEffect)(function(){g(!1),y("")},[a]);var k=o.length>1,N=k?"Moving ".concat(o.length," items within ").concat(r):1===o.length?"Moving ".concat(null===(t=o[0])||void 0===t?void 0:t.name," within ").concat(r):"",O=function(e){e&&e.preventDefault(),g(!0),m("/"===b[0]?b.slice(1):b)};return(0,w.jsx)(v.C,{visible:a,header:N,description:"Enter the path to where you'd like to move the file".concat(k?"s":""," to."),size:"medium",onCancel:u,customFooter:(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(j.z,{type:"default",onClick:u,children:"Cancel"}),(0,w.jsx)(j.z,{type:"primary",loading:f,onClick:O,children:f?"Moving files":"Move files"})]}),children:(0,w.jsx)(v.C.Content,{children:(0,w.jsxs)("form",{className:"my-4",children:[(0,w.jsx)("div",{className:"relative flex items-center",children:(0,w.jsx)(P.Z,{autoFocus:!0,label:"Path to new directory in ".concat(r),type:"text",className:"w-full",placeholder:"e.g folder1/subfolder2",value:b,descriptionText:"Leave blank to move items to the root of the bucket",onChange:function(e){return y(e.target.value)}})}),(0,w.jsx)("button",{className:"hidden",type:"submit",onClick:O})]})})})},e5=n(77740),e6=function(e){var t=e.mimeType,n=e.previewUrl;return t&&n?"loading"===n?(0,w.jsx)("div",{className:"flex h-full w-full items-center justify-center text-foreground-lighter",children:(0,w.jsx)(ex.Z,{size:14,strokeWidth:2,className:"animate-spin"})}):"skipped"===n?(0,w.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[(0,w.jsx)(eg.Z,{src:"".concat(f.GW,"/img/file-filled.svg"),preProcessor:function(e){return e.replace(/svg/,'svg class="mx-auto w-32 h-32 text-color-inherit opacity-75"')}}),(0,w.jsx)("p",{className:"mt-2 w-2/5 text-center text-sm",children:"File size is too large to preview in the explorer"})]}):t.includes("image")?(0,w.jsx)("div",{className:"flex h-full w-full items-center justify-center bg-contain bg-center bg-no-repeat",style:{backgroundImage:"url('".concat(n,"')")}}):t.includes("audio")?(0,w.jsx)("div",{className:"flex h-full w-full items-center justify-center px-10",children:(0,w.jsxs)("audio",{controls:!0,style:{width:"inherit"},children:[(0,w.jsx)("source",{src:n,type:"audio/mpeg"}),(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:"Your browser does not support the audio element."})]},n)}):t.includes("video")?(0,w.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,w.jsxs)("video",{controls:!0,style:{maxHeight:"100%"},children:[(0,w.jsx)("source",{src:n,type:"video/mp4"}),(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:"Your browser does not support the video tag."})]},n)}):(0,w.jsx)(eg.Z,{src:"".concat(f.GW,"/img/file-filled.svg"),preProcessor:function(e){return e.replace(/svg/,'svg class="mx-auto w-32 h-32 text-color-inherit opacity-75"')}}):(0,w.jsx)(eg.Z,{src:"".concat(f.GW,"/img/file-filled.svg"),preProcessor:function(e){return e.replace(/svg/,'svg class="mx-auto w-32 h-32 text-color-inherit opacity-75"')}})},e8=function(e){var t=e.onCopyUrl,n=(0,x.HN)(),r=n.getFileUrl,s=n.downloadFile,i=n.selectedBucket,c=n.selectedFilePreview,u=n.closeFilePreview,d=n.setSelectedItemsToDelete,p=n.setSelectedFileCustomExpiry,m=!(0,l.isEmpty)(c),f=c.metadata?(0,g.td)(c.metadata.size):null,v=c.metadata?c.metadata.mimetype:null,y=c.created_at?new Date(c.created_at).toLocaleString():"Unknown",k=c.updated_at?new Date(c.updated_at).toLocaleString():"Unknown",N=(0,h.Xo)(I.KA.STORAGE_ADMIN_WRITE,"*");return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(ea.u,{show:m,enter:"transition ease-out duration-150",enterFrom:"transform opacity-0",enterTo:"transform opacity-100",leave:"transition ease-in duration-100",leaveFrom:"transform opacity-100",leaveTo:"transform opacity-0",children:(0,w.jsxs)("div",{className:" h-full border-l border-overlay bg-surface-100 p-4",style:{width:450},children:[(0,w.jsx)("div",{className:"flex w-full justify-end text-foreground-lighter transition-colors hover:text-foreground",children:(0,w.jsx)(eY.Z,{className:"cursor-pointer",size:14,strokeWidth:2,onClick:function(){return u()}})}),(0,w.jsx)("div",{className:"my-4 border border-overlay",children:(0,w.jsx)("div",{className:"flex h-56 w-full items-center 2xl:h-72",children:(0,w.jsx)(e6,{mimeType:v,previewUrl:c.previewUrl})})}),(0,w.jsxs)("div",{className:"w-full space-y-6",children:[(0,w.jsxs)("div",{className:"space-y-1",children:[(0,w.jsx)("h5",{className:"break-words text-base text-foreground",children:c.name}),c.isCorrupted&&(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(eC.Z,{size:14,strokeWidth:2,className:"text-foreground-light"}),(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:"File is corrupted, please delete and reupload this file again"})]}),v&&(0,w.jsxs)("p",{className:"text-sm text-foreground-light",children:[v,f&&(0,w.jsxs)("span",{children:[" - ",f]})]})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"mb-1 text-xs text-foreground-lighter",children:"Added on"}),(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:y})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"mb-1 text-xs text-foreground-lighter",children:"Last modified"}),(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:k})]})]}),(0,w.jsxs)("div",{className:"flex space-x-2 border-b border-overlay pb-4",children:[(0,w.jsx)(j.z,{type:"default",icon:(0,w.jsx)(U.Z,{size:16,strokeWidth:2}),disabled:c.isCorrupted,onClick:(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),children:"Download"}),i.public?(0,w.jsx)(j.z,{type:"outline",icon:(0,w.jsx)(L.Z,{size:16,strokeWidth:2}),onClick:(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=c.name,e.next=4,r(c);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),disabled:c.isCorrupted,children:"Get URL"}):(0,w.jsxs)(eE.h_,{children:[(0,w.jsx)(eE.$F,{children:(0,w.jsx)(j.z,{type:"outline",icon:(0,w.jsx)(L.Z,{size:16,strokeWidth:2}),iconRight:(0,w.jsx)(e5.Z,{}),disabled:c.isCorrupted,children:"Get URL"})}),(0,w.jsxs)(eE.AW,{side:"bottom",align:"center",children:[(0,w.jsx)(eE.Xi,{onClick:(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=c.name,e.next=4,r(c,b.Qo.WEEK);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),children:"Expire in 1 week"},"expires-one-week"),(0,w.jsx)(eE.Xi,{onClick:(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=c.name,e.next=4,r(c,b.Qo.MONTH);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),children:"Expire in 1 month"},"expires-one-month"),(0,w.jsx)(eE.Xi,{onClick:(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=c.name,e.next=4,r(c,b.Qo.YEAR);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),children:"Expire in 1 year"},"expires-one-year"),(0,w.jsx)(eE.Xi,{onClick:function(){return p(c)},children:"Custom expiry"},"custom-expiry")]})]})]}),(0,w.jsxs)(ef.fC,{delayDuration:0,children:[(0,w.jsx)(ef.xz,{children:(0,w.jsx)(j.z,{type:"outline",disabled:!N,size:"tiny",icon:(0,w.jsx)(q,{size:16,strokeWidth:2}),onClick:function(){return d([c])},children:"Delete file"})}),!N&&(0,w.jsx)(ef.h_,{children:(0,w.jsxs)(ef.VY,{side:"bottom",children:[(0,w.jsx)(ef.Eh,{className:"radix-tooltip-arrow"}),(0,w.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,w.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to delete this file"})})]})})]})]})]})})})};function e9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e9(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te=function(e){var t,n,s,i,u,v,j=e.bucket,y=(0,x.HN)(),N=y.columns,O=y.selectedFilePreview,S=y.closeFilePreview,P=y.selectedItems,C=y.setSelectedItems,E=y.clearSelectedItems,_=y.selectedItemsToDelete,I=y.clearSelectedItemsToDelete,L=y.openedFolders,D=y.popColumnAtIndex,A=y.popOpenedFoldersAtIndex,T=y.selectedItemsToMove,R=y.clearSelectedItemsToMove,z=y.view,F=y.currentBucketName,U=y.openBucket,M=y.loadExplorerPreferences,B=y.fetchFolderContents,q=y.fetchMoreFolderContents,W=y.fetchFoldersByPath,V=y.deleteFolder,G=y.uploadFiles,H=y.deleteFiles,Y=y.moveFiles,Q=(0,d.useRef)(null),K=(0,h.oR)().ui,X=(0,c.UO)().ref,$=(0,m.z)({projectRef:X}).data,J=(0,p.oF)({projectRef:X}).data,ee=(null!==(i=null==J?void 0:J.services)&&void 0!==i?i:[]).find(function(e){return e.app.id==f.pG}),et=null==ee?void 0:ee.app_config,en="".concat(null!==(u=null==et?void 0:et.protocol)&&void 0!==u?u:"https","://").concat(null!==(v=null==et?void 0:et.endpoint)&&void 0!==v?v:"-"),er=(0,d.useState)(""),es=er[0],ea=er[1],ei=window.innerHeight-122;(0,d.useEffect)(function(){var e;(e=(0,a.Z)(o().mark(function e(){var t,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(z!==b.De.LIST){e.next=22;break}if(t=L.length-1,n=L[t],!es){e.next=13;break}if(n){e.next=9;break}return e.next=7,B(j.id,j.name,-1,es);case 7:e.next=11;break;case 9:return e.next=11,B(n.id,n.name,t,es);case 11:case 16:e.next=20;break;case 13:if(n){e.next=18;break}return e.next=16,B(j.id,j.name,-1);case 18:return e.next=20,B(n.id,n.name,t);case 20:e.next=23;break;case 22:z===b.De.COLUMNS&&W(L.map(function(e){return e.name}),es,!0);case 23:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[es]),(0,d.useEffect)(function(){M()},[]),(0,d.useEffect)(function(){U(j)},[j]);var eo=(t=(0,a.Z)(o().mark(function e(t){var n,r,s,a=arguments;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:-1,t.persist(),r=t.target.files||t.dataTransfer.items,s=!(0,l.isEmpty)((0,l.get)(t,["dataTransfer","items"],[])),e.next=6,G(r,n,s);case 6:t.target.value="";case 7:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),ec=(n=(0,a.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),el=(s=(0,a.Z)(o().mark(function e(){var t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==_.length){e.next=15;break}if(t=(0,r.Z)(_,1)[0]){e.next=4;break}return e.abrupt("return");case 4:e.t0=t.type,e.next=e.t0===b.fh.FOLDER?7:e.t0===b.fh.FILE?10:13;break;case 7:return e.next=9,V(t);case 9:case 12:return e.abrupt("break",13);case 10:return e.next=12,H([t]);case 13:e.next=17;break;case 15:return e.next=17,H(_);case 17:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)}),eu=function(e,t){var n,r=(null==$?void 0:null===(n=$.customDomain)||void 0===n?void 0:n.status)==="active"?t.replace(en,"https://".concat($.customDomain.hostname)):t;(0,g.vQ)(r,function(){K.setNotification({category:"success",message:"Copied URL for ".concat(e," to clipboard."),duration:4e3})})};return(0,w.jsxs)("div",{ref:Q,className:" bg-background border-overlay flex h-full w-full flex-col rounded-md border",children:[0===P.length?(0,w.jsx)(e2,{itemSearchString:es,setItemSearchString:ea,onFilesUpload:eo}):(0,w.jsx)(e4,{}),(0,w.jsxs)("div",{className:"flex h-full",style:{height:ei},children:[(0,w.jsx)(eU,{view:z,columns:N,openedFolders:L,selectedItems:P,selectedFilePreview:O,itemSearchString:es,onFilesUpload:eo,onSelectAllItemsInColumn:function(e){var t=N[e].items.filter(function(e){return e.type===b.fh.FILE}).map(function(t){return e7(e7({},t),{},{columnIndex:e})}),n=(0,l.compact)(t.map(function(e){return e.id}));P.filter(function(e){return n.includes(e.id)}).length===t.length?C(P.filter(function(e){return!n.includes(e.id)})):C((0,l.uniqBy)(P.concat(t),"id"))},onSelectColumnEmptySpace:function(e){D(e),A(e-1),S(),E()},onColumnLoadMore:function(e,t){return q(e,t,es)},onCopyUrl:eu}),(0,w.jsx)(e8,{onCopyUrl:eu})]}),(0,w.jsx)(k,{visible:_.length>0,selectedItemsToDelete:_,onSelectCancel:I,onSelectDelete:el}),(0,w.jsx)(e3,{bucketName:F,visible:T.length>0,selectedItemsToMove:T,onSelectCancel:R,onSelectMove:ec}),(0,w.jsx)(Z,{onCopyUrl:eu})]})};te.displayName="StorageExplorer";var tt=(0,u.Pi)(te),tn=n(89700);function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ta=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return new Uint32Array([t])[0].toString(36)},ti=function(e,t){return 0===t.length?t:tl(to(e,t))},to=function(e,t){var n=e.map(function(e){return e.name});return t.map(function(e){var t=e.definition,r=e.check,s=null!==t?tc(t):tc(r);return s&&n.includes(s)?ts(ts({},e),{},{bucket:s}):ts(ts({},e),{},{bucket:"Ungrouped"})})},tc=function(e){var t,n=(null!==(t=null==e?void 0:e.split(" AND "))&&void 0!==t?t:[]).filter(function(e){return e.includes("bucket_id")}),s=(0,r.Z)(n,1)[0];return s?s.split("'")[1]:null},tl=function(e){var t=(0,l.groupBy)(e,"bucket");return Object.keys(t).map(function(e){return{name:e,policies:t[e]}})},tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=t.name,s=t.definition,a=t.allowedOperations,i=t.roles,o=s?s.replace(/\s+/g," ").trim():"";return a.map(function(t,s){return td(s,e,r,o,t,i,n)})},td=function(e,t,n,r,s,a,i){var o=ta(t);return{name:i?"".concat(n," ").concat(o,"_").concat(e):n,definition:"INSERT"===s?void 0:"(".concat(r,")"),action:"PERMISSIVE",check:"INSERT"===s?"(".concat(r,")"):void 0,command:s,schema:"storage",table:"objects",roles:a.length>0?a:void 0}},tp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.keys(b.Eb).filter(function(t){var n=b.Eb[t];if(0===(0,l.difference)(n,e).length)return t})},tm=function(e,t,n,r,s,a,i){var o=ta(t),c=i?"".concat(n," ").concat(o,"_").concat(e):n,l="Add policy for the ".concat(s,' operation under the policy "').concat(n,'"'),u=0===a.length?["public"]:a;return{description:l,statement:'\n    CREATE POLICY "'.concat(c,'"\n    ON storage.objects\n    FOR ').concat(s,"\n    TO ").concat(u.join(", "),"\n    ").concat("INSERT"===s?"WITH CHECK":"USING"," (").concat(r,");\n").replace(/\s+/g," ").trim()}},th=function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=t.name,s=t.definition,a=t.allowedOperations,i=t.roles;return a.map(function(t,a){return tm(a,e,r,s||"",t,i,n)})},tf=n(45008),tg=n(77426),tx=n(74985),tb=n(73302),tv=function(e){var t=e.policy,n=e.table,r=e.bucketName,s=e.onSelectPolicyEdit,a=void 0===s?function(){}:s,i=e.onSelectPolicyDelete,o=void 0===i?function(){}:i,c=t.name,l=t.command;return(0,w.jsx)("div",{className:"group",children:(0,w.jsxs)(tf.Z.Content,{className:"flex justify-between gap-2 border-b border-overlay py-4",children:[(0,w.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center",children:[(0,w.jsx)("div",{className:"font-mono text-xs text-foreground-lighter",children:l}),(0,w.jsx)("div",{className:"flex flex-col gap-2 lg:flex-row",children:(0,w.jsx)("span",{className:"truncate text-sm text-foreground",children:c})})]}),(0,w.jsxs)(eE.h_,{children:[(0,w.jsx)(eE.$F,{children:(0,w.jsx)(j.z,{type:"default",style:{paddingLeft:4,paddingRight:4},icon:(0,w.jsx)(eZ.Z,{})})}),(0,w.jsxs)(eE.AW,{side:"bottom",align:"end",size:"small",children:[(0,w.jsxs)(eE.Xi,{className:"space-x-2",type:"outline",onClick:function(){return a(t,r,n)},children:[(0,w.jsx)(A.Z,{size:14}),(0,w.jsx)("p",{children:"Edit"})]}),(0,w.jsx)(eE.VD,{}),(0,w.jsxs)(eE.Xi,{type:"outline",className:"space-x-2",onClick:function(){return o(t)},children:[(0,w.jsx)(tg.Z,{size:14}),(0,w.jsx)("p",{children:"Delete"})]})]})]})]})})},tj=function(e){var t=e.table,n=void 0===t?"":t,r=e.label,s=void 0===r?"":r,a=e.bucket,i=void 0===a?{}:a,o=e.policies,c=void 0===o?[]:o,u=e.onSelectPolicyAdd,d=void 0===u?function(){}:u,p=e.onSelectPolicyEdit,m=void 0===p?function(){}:p,h=e.onSelectPolicyDelete,f=void 0===h?function(){}:h;return(0,w.jsx)(tf.Z,{title:[(0,w.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,w.jsx)(tx.Z,{className:"text-foreground-light",size:"small"}),(0,w.jsx)("h4",{className:"m-0 text-lg",children:(0,w.jsx)("span",{children:s})}),i.public&&(0,w.jsx)(tb.Z,{color:"yellow",children:"Public"})]}),(0,w.jsx)(j.z,{type:"outline",onClick:function(){return d(i.name,n)},children:"New policy"})]},s)],children:0===c.length?(0,w.jsx)("div",{className:"p-4 px-6",children:(0,w.jsx)("p",{className:"text-sm text-foreground-lighter",children:"No policies created yet"})}):(0,w.jsxs)("div",{className:"grid grid-cols-1 divide-y [[data-theme*=dark]_&]:divide-dark",children:[c.map(function(e){return(0,w.jsx)(tv,{policy:e,table:n,bucketName:i.name,onSelectPolicyEdit:m,onSelectPolicyDelete:f},e.name)}),0!==c.length?(0,w.jsx)("div",{className:"px-6 py-2",children:(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:(0,l.isEmpty)(i)?"objects"===n?"".concat(c.length," polic").concat(c.length>1?"ies":"y"," that are not tied to any buckets"):"".concat(c.length," polic").concat(c.length>1?"ies":"y"," that target your buckets"):"".concat(c.length," polic").concat(c.length>1?"ies":"y"," in ").concat(i.name)})}):null]})})},ty=n(82269),tw=[{id:"policy-1",templateName:"Allow access to JPG images in a public folder to anonymous users",description:"This policy uses native postgres functions, functions from auth and storage schema",name:"Give anon users access to JPG images in folder",statement:"\nCREATE POLICY \"policy_name\"\nON storage.objects FOR {operation} {USING | WITH CHECK} (\n  -- restrict bucket\n  bucket_id = {bucket_name}\n  -- allow access to only jpg file\n  AND storage.\"extension\"(name) = 'jpg'\n  -- in the public folder\n  AND LOWER((storage.foldername(name))[1]) = 'public'\n  -- to anonymous users\n  AND auth.role() = 'anon'\n);\n    ".trim(),definition:"bucket_id = {bucket_id} AND storage.\"extension\"(name) = 'jpg' AND LOWER((storage.foldername(name))[1]) = 'public' AND auth.role() = 'anon'",allowedOperations:[]},{id:"policy-2",templateName:"Give users access to only their own a top level folder named as uid",description:"For example a user with id d7bed83c-44a0-4a4f-925f-efc384ea1e50 will be able to access anything under the folder d7bed83c-44a0-4a4f-925f-efc384ea1e50/",name:"Give users access to own folder",statement:'\nCREATE POLICY "policy_name"\nON storage.objects FOR {operation} {USING | WITH CHECK} (\n    -- restrict bucket\n    bucket_id = {bucket_name}\n    and auth.uid()::text = (storage.foldername(name))[1]\n);\n    '.trim(),definition:"bucket_id = {bucket_id} AND auth.uid()::text = (storage.foldername(name))[1]",allowedOperations:[]},{id:"policy-3",templateName:"Give users access to a folder only to authenticated users",description:"This policy gives users access to a folder (e.g private) only if they are authenticated",name:"Give users authenticated access to folder",statement:"\nCREATE POLICY \"policy_name\"\nON storage.objects FOR {operation} {USING | WITH CHECK} (\n    -- restrict bucket\n    bucket_id = {bucket_name}\n    AND (storage.foldername(name))[1] = 'private'\n    AND auth.role() = 'authenticated'\n);\n    ".trim(),definition:"bucket_id = {bucket_id} AND (storage.foldername(name))[1] = 'private' AND auth.role() = 'authenticated'",allowedOperations:[]},{id:"policy-4",templateName:"Give access to a nested folder called admin/assets only to a specific user",description:'This policy gives read access to all authenticated users for your project to the folder "public"',name:"Give access to a folder",statement:"\nCREATE POLICY \"policy_name\"\nON storage.objects FOR {operation} {USING | WITH CHECK} (\n	  -- restrict bucket\n    bucket_id = {bucket_name}\n    AND (storage.foldername(name))[1] = 'admin' AND (storage.foldername(name))[2] = 'assets'\n    AND auth.uid()::text = 'd7bed83c-44a0-4a4f-925f-efc384ea1e50'\n);\n    ".trim(),definition:"bucket_id = {bucket_id} AND (storage.foldername(name))[1] = 'admin' AND (storage.foldername(name))[2] = 'assets' AND auth.uid()::text = 'd7bed83c-44a0-4a4f-925f-efc384ea1e50'",allowedOperations:[]},{id:"policy-5",templateName:"Give access to a file to a user",description:"This policy gives access to a specific file to a specific user",name:"Give access to a file to user",statement:"\nCREATE POLICY \"policy_name\"\nON storage.objects FOR {operation} {USING | WITH CHECK} (\n	  -- restrict bucket\n    bucket_id = {bucket_name}\n    AND name = 'admin/assets/Costa Rican Frog.jpg'\n    AND auth.uid()::text = 'd7bed83c-44a0-4a4f-925f-efc384ea1e50'\n);\n    ".trim(),definition:"bucket_id = {bucket_id} AND name = 'admin/assets/Costa Rican Frog.jpg' AND auth.uid()::text = 'd7bed83c-44a0-4a4f-925f-efc384ea1e50'",allowedOperations:[]}],tk=n(30340),tN=n(95223),tO=n(89635),tS=n(33869),tP=function(e){var t=e.definition,n=e.onUpdatePolicyDefinition;return(0,w.jsxs)("div",{className:"flex space-x-12",children:[(0,w.jsxs)("div",{className:"flex w-1/3 flex-col space-y-2",children:[(0,w.jsx)("label",{className:"text-base text-foreground-light",htmlFor:"policy-name",children:"Policy definition"}),(0,w.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Provide a SQL conditional expression that returns a boolean."})]}),(0,w.jsx)("div",{className:"h-56 w-2/3",children:(0,w.jsx)(tS.Z,{defaultValue:void 0===t?"":t,onInputChange:void 0===n?function(){}:n})})]})},tC=function(e){var t=e.allowedOperations,n=void 0===t?[]:t,r=e.onToggleOperation,s=void 0===r?function(){}:r,a=tp(n);return(0,w.jsxs)("div",{className:"flex justify-between space-x-12",children:[(0,w.jsxs)("div",{className:"flex w-1/3 flex-col space-y-2",children:[(0,w.jsx)("label",{className:"text-base text-foreground-light",htmlFor:"allowed-operation",children:"Allowed operation"}),(0,w.jsxs)("p",{className:"text-sm text-foreground-lighter",children:["Based on the operations you have selected, you can use the highlighted functions in the"," ",(0,w.jsx)("a",{href:"https://supabase.com/docs/reference/javascript/storage-from-list",target:"_blank",rel:"noreferrer",className:"underline",children:"client library"}),"."]})]}),(0,w.jsxs)("div",{className:"w-2/3",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,w.jsx)(eo.Z,{label:"SELECT",onChange:function(){return s("SELECT")},checked:n.includes("SELECT")}),(0,w.jsx)(eo.Z,{label:"INSERT",onChange:function(){return s("INSERT")},checked:n.includes("INSERT")}),(0,w.jsx)(eo.Z,{label:"UPDATE",onChange:function(){return s("UPDATE")},checked:n.includes("UPDATE")}),(0,w.jsx)(eo.Z,{label:"DELETE",onChange:function(){return s("DELETE")},checked:n.includes("DELETE")})]}),(0,w.jsx)("div",{className:"flex w-5/6 flex-wrap",children:Object.keys(b.Eb).map(function(e){return(0,w.jsx)("div",{className:"mr-2 mt-2 font-mono",children:(0,w.jsx)(tb.Z,{color:a.includes(e)?"green":"gray",children:e})},e)})})]})]})},tE=function(e){var t=e.onViewTemplates,n=e.onReviewPolicy;return(0,w.jsxs)("div",{className:"flex w-full items-center justify-end space-x-4 border-t px-6 py-3 border-default",children:[(0,w.jsx)(j.z,{asChild:!0,type:"link",icon:(0,w.jsx)(tN.Z,{size:14,strokeWidth:1.5}),children:(0,w.jsx)("a",{href:"https://supabase.com/docs/guides/storage/access-control",target:"_blank",rel:"noreferrer",children:"Documentation"})}),(0,w.jsxs)("div",{className:"flex w-full items-center justify-end gap-2",children:[(0,w.jsx)(j.z,{type:"default",onClick:void 0===t?function(){}:t,children:"View templates"}),(0,w.jsx)(j.z,{type:"primary",onClick:void 0===n?function(){}:n,children:"Review"})]})]})},tZ=function(e){var t=e.policyFormFields,n=void 0===t?{}:t,r=e.roles,s=e.onViewTemplates,a=e.onUpdatePolicyName,i=e.onUpdatePolicyDefinition,o=e.onToggleOperation,c=e.onUpdatePolicyRoles,l=e.onReviewPolicy,u=n.definition,d=n.roles;return(0,w.jsxs)("div",{className:"",children:[(0,w.jsxs)("div",{className:"mb-8 space-y-8 py-6",children:[(0,w.jsx)(v.C.Content,{children:(0,w.jsx)(tO.CM,{name:n.name,limit:50,onUpdatePolicyName:void 0===a?function(){}:a})}),(0,w.jsx)(v.C.Separator,{}),(0,w.jsx)(v.C.Content,{children:(0,w.jsx)(tC,{allowedOperations:n.allowedOperations,onToggleOperation:void 0===o?function(){}:o})}),(0,w.jsx)(v.C.Separator,{}),(0,w.jsx)(v.C.Content,{children:(0,w.jsx)(tO.$L,{roles:void 0===r?[]:r,selectedRoles:d,onUpdateSelectedRoles:void 0===c?function(){}:c})}),(0,w.jsx)(v.C.Separator,{}),(0,w.jsx)(v.C.Content,{children:(0,w.jsx)(tP,{definition:u,onUpdatePolicyDefinition:void 0===i?function(){}:i})})]}),(0,w.jsx)(tE,{onViewTemplates:void 0===s?function(){}:s,onReviewPolicy:void 0===l?function(){}:l})]})},t_=function(){return(0,w.jsx)("div",{className:"my-10 flex items-center justify-center space-x-2 opacity-50",children:(0,w.jsx)("p",{children:"There are no changes made to this policy"})})},tI=function(e){var t=e.policyStatements,n=void 0===t?[]:t,r=e.onSelectBack,s=e.onSelectSave,a=void 0===s?function(){}:s,i=(0,d.useState)(!1),o=i[0],c=i[1];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(v.C.Content,{children:(0,w.jsxs)("div",{className:"space-y-6 py-8",children:[(0,w.jsx)("div",{className:"flex items-center justify-between space-y-8 space-x-4",children:(0,w.jsx)("div",{className:"flex flex-col",children:(0,w.jsxs)("p",{className:"text-sm text-foreground-light",children:["These are the SQL statements that will be used to create your policies. The suffix appended to the end of your policy name (",(0,w.jsx)("code",{children:"[hashString]_[number]"}),") just functions as a unique identifier for each of your policies."]})})}),(0,w.jsxs)("div",{className:"space-y-4 overflow-y-auto",style:{maxHeight:"25rem"},children:[0===n.length&&(0,w.jsx)(t_,{}),n.map(function(e,t){var n=e.statement||"";return(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("span",{children:e.description}),(0,w.jsx)("div",{className:"h-40",children:(0,w.jsx)(tS.Z,{readOnly:!0,defaultValue:n})})]},"policy_".concat(t))})]})]})}),(0,w.jsxs)("div",{className:"flex w-full items-center justify-end gap-2 border-t px-6 py-4 border-default",children:[(0,w.jsx)(j.z,{type:"default",onClick:void 0===r?function(){}:r,children:"Back to edit"}),n.length>0&&(0,w.jsx)(j.z,{type:"primary",onClick:function(){c(!0),a()},loading:o,children:"Save policy"})]})]})},tL=["id"];function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tT={name:"",roles:[],policyIds:[],definition:"",allowedOperations:[]},tR=function(e){var t,n=e.visible,r=void 0!==n&&n,s=e.bucketName,i=void 0===s?"":s,c=e.roles,u=e.onSelectCancel,p=e.onCreatePolicies,m=void 0===p?function(){}:p,f=e.onSaveSuccess,g=void 0===f?function(){}:f,x=(0,h.oR)().ui,b=(0,d.useState)(""),j=b[0],y=b[1],k=(0,d.useState)(""),N=k[0],O=k[1],S=(0,d.useState)(tT),P=S[0],C=S[1],E=(0,d.useState)([]),Z=E[0],_=E[1];(0,d.useEffect)(function(){r&&(I(),C(tT))},[r]);var I=function(){return O(tk.$A.SELECTION)},L=function(e){"new"===e&&C(tA(tA({},P),{},{definition:"bucket_id = '".concat(i,"'")})),O(tk.$A.EDITOR)},D=function(){y(N),O(tk.$A.TEMPLATES)},A=function(){return O(j)},T=(t=(0,a.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:-1!==e.sent.indexOf(!0)?L():g();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,w.jsx)(v.C,{size:N===tk.$A.SELECTION?"medium":"xxlarge",closable:!0,hideFooter:!0,visible:r,contentStyle:{padding:0},header:[(0,w.jsx)(function(e){var t=e.view,n=e.bucketName,r=e.onSelectBackFromTemplates;return t===tk.$A.TEMPLATES?(0,w.jsx)("div",{className:"",children:(0,w.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,w.jsx)("span",{onClick:void 0===r?function(){}:r,className:"cursor-pointer text-foreground-lighter transition-colors hover:text-foreground",children:(0,w.jsx)(eB.Z,{strokeWidth:2,size:14})}),(0,w.jsx)("h4",{className:"textlg m-0",children:"Select a template to use for your new policy"})]})}):(0,w.jsx)("div",{className:"flex items-center space-x-3",children:(0,w.jsx)("h4",{className:"m-0 text-lg",children:t===tk.$A.EDITOR||t===tk.$A.SELECTION?"Adding new policy to ".concat(n):t===tk.$A.REVIEW?"Reviewing policies to be created for ".concat(n):void 0})})},{view:N,bucketName:i,onSelectBackFromTemplates:A},"0")],onCancel:void 0===u?function(){}:u,children:(0,w.jsx)("div",{className:"w-full",children:N===tk.$A.SELECTION?(0,w.jsx)(tk.pT,{description:"PostgreSQL policies control access to your files and folders",onViewTemplates:D,onViewEditor:function(){return L("new")}}):N===tk.$A.EDITOR?(0,w.jsx)(tZ,{roles:void 0===c?[]:c,policyFormFields:P,onViewTemplates:D,onUpdatePolicyName:function(e){e.length<=50&&C(tA(tA({},P),{},{name:e}))},onUpdatePolicyDefinition:function(e){C(tA(tA({},P),{},{definition:e}))},onToggleOperation:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return C(tA(tA({},P),{},{allowedOperations:[e]}));var n=P.allowedOperations.includes(e)?(0,l.pull)(P.allowedOperations.slice(),e):P.allowedOperations.concat([e]);return C(tA(tA({},P),{},{allowedOperations:n}))},onUpdatePolicyRoles:function(e){C(tA(tA({},P),{},{roles:e}))},onReviewPolicy:function(){var e=P.name,t=P.definition,n=P.allowedOperations;return 0===e.length?x.setNotification({category:"info",message:"Do give your policy a name"}):0===t.length?x.setNotification({category:"info",message:"Did you forget to provide a definition for your policy?"}):0===n.length?x.setNotification({category:"info",message:"You will need to allow at least one operation in your policy"}):void(_(th(i,P)),O(tk.$A.REVIEW))}}):N===tk.$A.TEMPLATES?(0,w.jsx)(tk.jm,{templates:tw,onSelectBackFromTemplates:A,onUseTemplate:function(e){e.id;var t=(0,ty.Z)(e,tL),n=t.definition.replace("{bucket_id}","'".concat(i,"'"));C(tA(tA(tA({},P),t),{},{definition:n})),L()}}):N===tk.$A.REVIEW?(0,w.jsx)(tI,{policyStatements:Z,onSelectBack:L,onSelectSave:function(){T(tu(i,P))}}):(0,w.jsx)("div",{})})})},tz=function(e){return e.guiHeight,(0,w.jsx)(tf.Z,{title:[(0,w.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,w.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,w.jsx)(tx.Z,{size:"small"}),(0,w.jsx)("h4",{children:"Bucket policies"})]})},"storagePlaceholder")],children:(0,w.jsx)("div",{className:"p-4 px-6",children:(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:"Create a bucket first to start writing policies!"})})})},tF=n(85610),tU=(0,u.Pi)(function(){var e,t,n,r,s,i,u=(0,h.oR)(),p=u.ui,m=u.meta,f=(0,c.UO)().ref,g=(0,x.HN)().loaded,b=(0,tF.K)({projectRef:f}).data,v=null!=b?b:[],j=m.roles.list(function(e){return!m.roles.systemRoles.includes(e.name)}),y=(0,d.useState)([]),k=y[0],N=y[1],O=(0,d.useState)({}),S=O[0],P=O[1],C=(0,d.useState)({}),E=C[0],Z=C[1],_=(0,d.useState)({}),I=_[0],L=_[1],D=(0,l.isEmpty)(S)&&!(0,l.isEmpty)(I)&&(0,l.get)(I,["bucket"],"").length>0,A=!(0,l.isEmpty)(I)&&!D,T=ti(v,(0,l.filter)(k,{table:"objects"})),R=(0,l.get)((0,l.find)(T,{name:"Ungrouped"}),["policies"],[]),z=(0,l.filter)(k,{table:"buckets"});(0,d.useEffect)(function(){F()},[]);var F=(e=(0,a.Z)(o().mark(function e(){var t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=5;break}return e.next=3,m.policies.load();case 3:N(null!==(t=null==m?void 0:m.policies.list(function(e){return"storage"===e.schema},{allSchemas:!0}))&&void 0!==t?t:[]);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";P({}),L({bucket:e,table:t})},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";L({bucket:t,table:n}),P(e)},B=function(){L({})},q=function(e){return Z(e)},W=(t=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.setNotification({category:"success",message:"Successfully saved policy!"}),e.next=3,F();case 3:B();case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),V=(n=(0,a.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=(0,a.Z)(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.policies.create(t);case 2:if(!(n=e.sent).error){e.next=6;break}return p.setNotification({category:"error",message:"Error adding policy: ".concat(n.error.message)}),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),G=(r=(0,a.Z)(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.policies.create(t);case 2:if(!(n=e.sent).error){e.next=6;break}return p.setNotification({category:"error",message:"Error adding policy: ".concat(n.error.message)}),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),H=(s=(0,a.Z)(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.policies.update(t.id,t);case 2:if(!(n=e.sent).error){e.next=6;break}return p.setNotification({category:"error",message:"Error updating policy: ".concat(n.error.message)}),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),Y=(i=(0,a.Z)(o().mark(function e(){var t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.policies.del(E.id);case 2:return(t=e.sent).error?p.setNotification({category:"error",message:"Failed to delete policy: ".concat(t.error.message)}):p.setNotification({category:"success",message:"Successfully deleted policy!"}),Z({}),e.next=7,F();case 7:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)});return(0,w.jsxs)("div",{className:"flex min-h-full w-full flex-col",children:[(0,w.jsx)("h3",{className:"text-xl",children:"Storage policies"}),(0,w.jsx)("p",{className:"mt-2 text-sm text-foreground-light",children:"Safeguard your files with policies that define the operations allowed for your users at the bucket level."}),g?(0,w.jsxs)("div",{className:"mt-4 space-y-4",children:[0===v.length&&(0,w.jsx)(tz,{}),v.map(function(e){var t=(0,l.get)((0,l.find)(T,{name:e.name}),["policies"],[]);return(0,w.jsx)(tj,{table:"objects",label:e.name,bucket:e,policies:t,onSelectPolicyAdd:U,onSelectPolicyEdit:M,onSelectPolicyDelete:q},e.name)}),(0,w.jsx)("div",{className:"!mb-4 w-full border-b border-gray-600"}),(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:"You may also write policies for the tables under the storage schema directly for greater control"}),(0,w.jsx)(tj,{table:"objects",label:"Other policies under storage.objects",policies:R,onSelectPolicyAdd:U,onSelectPolicyEdit:M,onSelectPolicyDelete:q}),(0,w.jsx)(tj,{table:"buckets",label:"Policies under storage.buckets",policies:z,onSelectPolicyAdd:U,onSelectPolicyEdit:M,onSelectPolicyDelete:q})]}):(0,w.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,w.jsx)(ex.Z,{className:"animate-spin",size:16})}),(0,w.jsx)(tR,{visible:D,bucketName:I.bucket,roles:j,onSelectCancel:B,onCreatePolicies:V,onSaveSuccess:W}),(0,w.jsx)(tk.yV,{visible:A,schema:"storage",roles:j,table:I.table,target:I.bucket,selectedPolicyToEdit:S,onSelectCancel:B,onCreatePolicy:G,onUpdatePolicy:H,onSaveSuccess:W}),(0,w.jsx)(tn.Z,{danger:!0,visible:!(0,l.isEmpty)(E),title:"Confirm to delete policy",description:'This is permanent! Are you sure you want to delete the policy "'.concat(E.name,'"'),buttonLabel:"Delete",buttonLoadingLabel:"Deleting",onSelectCancel:function(){return Z({})},onSelectConfirm:Y})]})}),tM=n(80717),tB=n(72047),tq=n(32732),tW=n(55830),tV=n(62350),tG=n(37552),tH=n(23560),tY=["onSuccess","onError"];function tQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tK(){return(tK=(0,a.Z)(o().mark(function e(t){var n,r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectRef,r=t.fileSizeLimit,e.next=3,(0,tG.r$)("".concat(f.T5,"/projects/").concat(n,"/config/storage"),{fileSizeLimit:r});case 3:if(!(s=e.sent).error){e.next=6;break}throw s.error;case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var tX=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,ty.Z)(e,tY),i=(0,tW.NL)();return(0,tV.D)(function(e){return function(e){return tK.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tQ(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(o().mark(function s(){var a;return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=n.projectRef,s.next=3,i.invalidateQueries(tH.U.storage(a));case 3:return s.next=5,null==t?void 0:t(e,n,r);case 5:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?V.ZP.error("Failed to update storage settings: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},t$=n(38327),tJ=n(82410),t0=function(e){var t,n=e.config,r=e.projectRef,s=e.organizationSlug,i=n.fileSizeLimit,c=n.isFreeTier,l=(0,tJ.K)(i),u=l.value,p=l.unit,m=(0,h.oR)().ui,f=(0,d.useState)(p),g=f[0],x=f[1],b={fileSizeLimit:u,unformattedFileSizeLimit:i},v=(0,h.Xo)(I.KA.STORAGE_ADMIN_WRITE,"*"),y=tX({onSuccess:function(e){b={fileSizeLimit:(0,tJ.K)(e.fileSizeLimit).value,unformattedFileSizeLimit:e.fileSizeLimit},m.setNotification({category:"success",message:"Successfully updated storage settings"})}}),k=y.mutate,N=y.isLoading,O="".concat(new Intl.NumberFormat("en-US").format(t$.H)," bytes"),E=(0,tJ.K)(t$.H,g).value,Z=function(e){var t={};return e.fileSizeLimit>E&&(t.fileSizeLimit="Maximum limit is up to ".concat(E.toLocaleString()," ").concat(g,".")),t},_=(t=(0,a.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z(t).fileSizeLimit){e.next=3;break}return e.abrupt("return",m.setNotification({category:"error",message:"Upload file size limit must be up to 5GB (".concat(O,")")}));case 3:k({projectRef:r,fileSizeLimit:(0,tJ.F)(t.fileSizeLimit,g)});case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,w.jsx)("div",{children:(0,w.jsx)(S.Z,{validateOnBlur:!0,initialValues:b,validate:Z,onSubmit:_,children:function(e){var t=e.values,n=e.handleReset,a=b.unformattedFileSizeLimit!==(0,tJ.F)(t.fileSizeLimit,g);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mb-6",children:[(0,w.jsx)("h3",{className:"mb-2 text-xl text-foreground",children:"Storage Settings"}),(0,w.jsx)("div",{className:"text-sm text-foreground-lighter",children:"Configure your project's storage settings"})]}),(0,w.jsx)("div",{className:"space-y-20",children:(0,w.jsxs)("div",{className:"bg-surface-100 overflow-hidden border-muted rounded-md border shadow",children:[(0,w.jsx)("div",{className:"flex flex-col gap-0 divide-y divide-border-muted",children:(0,w.jsxs)("div",{className:"grid grid-cols-12 gap-6 px-8 py-8 lg:gap-12",children:[(0,w.jsx)("div",{className:"relative flex flex-col col-span-12 gap-6 lg:col-span-4",children:(0,w.jsx)("p",{className:"text-sm",children:"Upload file size limit"})}),(0,w.jsxs)("div",{className:"relative flex flex-col col-span-12 gap-x-6 gap-y-2 lg:col-span-8",children:[(0,w.jsxs)("div",{className:"grid grid-cols-12 col-span-12 gap-2",children:[(0,w.jsx)("div",{className:"col-span-8",children:(0,w.jsx)(P.Z,{id:"fileSizeLimit",name:"fileSizeLimit",type:"number",disabled:c||!v,step:1,onKeyPress:function(e){(e.charCode<48||e.charCode>57)&&e.preventDefault()}})}),(0,w.jsx)("div",{className:"col-span-4",children:(0,w.jsx)(C.Z,{disabled:c,value:g,onChange:x,children:Object.values(t$.b).map(function(e){return(0,w.jsx)(C.Z.Option,{disabled:c,label:e,value:e,children:(0,w.jsx)("div",{children:e})},e)})})})]}),(0,w.jsxs)("p",{className:"text-sm text-foreground-light",children:[g!==t$.b.BYTES&&"Equivalent to ".concat((0,tJ.F)(t.fileSizeLimit,g).toLocaleString()," bytes. "),"Maximum size in bytes of a file that can be uploaded is 5 GB (",O,")."]})]})]})}),c&&(0,w.jsx)("div",{className:"px-6 pb-6",children:(0,w.jsx)(tB.Z,{icon:(0,w.jsx)(tM.Z,{size:"large"}),organizationSlug:s,primaryText:"Free Plan has a fixed upload file size limit of 50 MB.",projectRef:r,secondaryText:"Upgrade to the Pro plan for a configurable upload file size limit of up to 5 GB."})}),(0,w.jsx)("div",{className:"border-t border-overlay"}),(0,w.jsx)("div",{className:"flex justify-between px-8 py-4",children:(0,w.jsxs)("div",{className:"flex items-center justify-between w-full gap-2",children:[v?(0,w.jsx)("div",{}):(0,w.jsx)("p",{className:"text-sm text-foreground-light",children:"You need additional permissions to update storage settings"}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)(j.z,{type:"default",htmlType:"reset",onClick:function(){return n()},disabled:N||!a&&void 0!==a,children:"Cancel"}),(0,w.jsx)(j.z,{type:"primary",htmlType:"submit",loading:N,disabled:!v||N||!a&&void 0!==a,children:"Save"})]})]})})]})})]})}})})},t1=function(e){var t=e.projectRef,n=e.organizationSlug,r=(0,tq.kl)({projectRef:t},{enabled:f.Qy}),s=r.data;return r.error||null!=s&&s.error?(0,w.jsx)("div",{className:"p-6 mx-auto text-center sm:w-full md:w-3/4",children:(0,w.jsx)("p",{className:"text-sm",children:"Error loading storage settings"})}):s?(0,w.jsx)(t0,{config:s,projectRef:t,organizationSlug:n}):(0,w.jsx)("div",{className:"w-full",children:(0,w.jsx)(el.A,{})})},t2=n(5632),t4=n(61329),t3=n(9548),t5=["onSuccess","onError"];function t6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t8(){return(t8=(0,a.Z)(o().mark(function e(t){var n,r,s,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef,r=t.id,n){e.next=3;break}throw Error("projectRef is required");case 3:if(r){e.next=5;break}throw Error("Bucket name is requried");case 5:return e.next=7,(0,tG.v_)("".concat(f.T5,"/storage/").concat(n,"/buckets/").concat(r,"/empty"),{});case 7:if(!(s=e.sent).error){e.next=10;break}throw s.error;case 10:return e.next=12,(0,tG.$v)("".concat(f.T5,"/storage/").concat(n,"/buckets/").concat(r));case 12:if(!(a=e.sent).error){e.next=15;break}throw a.error;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t9=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,ty.Z)(e,t5),i=(0,tW.NL)();return(0,tV.D)(function(e){return function(e){return t8.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t6(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(o().mark(function s(){var a;return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=n.projectRef,s.next=3,i.invalidateQueries(t3.m.buckets(a));case 3:return s.next=5,null==t?void 0:t(e,n,r);case 5:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?V.Am.error("Failed to delete bucket: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},t7=function(e){var t,n,r,s=e.visible,i=e.bucket,u=e.onClose,d=(0,t2.useRouter)(),p=(0,h.oR)(),m=p.ui,f=p.meta,g=(0,c.UO)().ref,x=(0,tF.K)({projectRef:g}).data,b=t9({onSuccess:(t=(0,a.Z)(o().mark(function e(){var t,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.policies.loadBySchema("storage");case 2:return t=ti(y,f.policies.list().filter(function(e){return"objects"===e.table})),n=(0,l.get)((0,l.find)(t,{name:i.name}),["policies"],[]),e.next=8,Promise.all(n.map(function(e){return f.policies.del(e.id)}));case 8:m.setNotification({category:"success",message:"Successfully deleted bucket ".concat(i.name)}),d.push("/project/".concat(g,"/storage/buckets")),u();case 11:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})}),v=b.mutate,j=b.isLoading,y=null!=x?x:[],k=(n=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(i){e.next=4;break}return e.abrupt("return",console.error("No bucket is selected"));case 4:v({projectRef:g,id:i.id});case 5:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,w.jsx)(t4.Z,{visible:void 0!==s&&s,title:"Confirm deletion of ".concat(null==i?void 0:i.name),confirmPlaceholder:"Type in name of bucket",onConfirm:k,onCancel:u,confirmString:null!==(r=null==i?void 0:i.name)&&void 0!==r?r:"",loading:j,text:(0,w.jsxs)(w.Fragment,{children:["Your bucket ",(0,w.jsx)("span",{className:"font-bold",children:null==i?void 0:i.name})," and all its contents will be permanently deleted."]}),alert:"You cannot recover this bucket once it is deleted.",confirmLabel:"Delete bucket ".concat(null==i?void 0:i.name)})}},55268:function(e,t,n){var r=n(95235),s=n(82269),a=n(52322),i=["children","colSpan","className","style"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){var t=e.body,n=e.head,r=e.className,s=e.containerClassName,i=e.borderless,o=e.headTrClasses,c=e.bodyClassName,l=e.style,u=["table-container"];s&&u.push(s),i&&u.push("table-container--borderless");var d=["table"];return r&&d.push(r),(0,a.jsx)("div",{className:u.join(" "),children:(0,a.jsxs)("table",{className:d.join(" "),style:l,children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:o,children:n})}),(0,a.jsx)("tbody",{className:c,children:t})]})})}l.th=function(e){var t=e.children,n=e.className,r=e.style,s=["p-3 px-4 text-left"];return n&&s.push(n),(0,a.jsx)("th",{className:s.join(" "),style:r,children:t})},l.td=function(e){var t=e.children,n=e.colSpan,r=e.className,o=e.style,l=(0,s.Z)(e,i);return(0,a.jsx)("td",c(c({className:r,colSpan:n,style:o},l),{},{children:t}))},l.tr=function(e){var t=e.children,n=e.className,r=e.onClick,s=e.style,i=e.hoverable,o=[n];return(r||i)&&o.push("tr--link"),(0,a.jsx)("tr",{className:o.join(" "),onClick:r,style:s,children:t})},t.Z=l},38477:function(e,t,n){var r=n(44172),s=n(8647),a=n(35852),i=n(52322);t.Z=function(e){var t=e.section,n=(0,r.WZ)();return(0,i.jsx)(s.z,{size:"tiny",type:"default",onClick:function(){t&&n.setActiveDocsSection(t),n.setShowProjectApiDocs(!0)},icon:(0,i.jsx)(a.Z,{size:14,strokeWidth:2}),children:"API Docs"})}},67855:function(e,t,n){var r=n(95235),s=n(2784),a=n(36631),i=n(81705),o=n(6738),c=n(11628),l=n(210),u=n(22812),d=n(52322);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=(0,a.Z)(function(e,t){return m({items:e},t)}),f=(0,s.memo)(function(e){var t=e.data,n=e.index,r=e.style,s=t.items,a=t.itemProps,i=t.ItemComponent,o=n<s.length?s[n]:void 0;return o?(0,d.jsx)("div",{style:r,children:(0,d.jsx)(i,m({index:n,item:o},a))}):(0,d.jsxs)("div",{className:"space-y-1 my-1",style:r,children:[(0,d.jsx)(u.Z,{}),(0,d.jsx)(u.Z,{}),(0,d.jsx)(u.Z,{})]})},i.wy);t.Z=(0,s.memo)(function(e){var t=e.items,n=void 0===t?[]:t,r=e.itemProps,s=e.hasNextPage,a=void 0!==s&&s,l=e.isLoadingNextPage,u=e.getItemSize,p=void 0===u?function(){return 40}:u,m=e.onLoadNextPage,g=e.ItemComponent,x=void 0!==l&&l?function(){}:void 0===m?function(){}:m,b=function(e){return!a||e<n.length},v=a?n.length+1:n.length,j=h(n,{itemProps:void 0===r?{}:r,ItemComponent:void 0===g?function(){return null}:g});return(0,d.jsxs)("div",{className:"relative flex flex-col flex-grow",children:[(0,d.jsx)("div",{className:"flex-grow",children:(0,d.jsx)(o.ZP,{children:function(e){var t=e.height,n=e.width;return(0,d.jsx)(c.Z,{itemCount:v,isItemLoaded:b,loadMoreItems:x,children:function(e){var r=e.onItemsRendered,s=e.ref;return(0,d.jsx)(i.S_,{ref:s,height:null!=t?t:0,width:null!=n?n:0,itemCount:v,itemData:j,itemSize:p,onItemsRendered:r,children:f})}})}})}),(0,d.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none"}})]})},l.t0)},61329:function(e,t,n){var r=n(36849),s=n(43635),a=n(67270),i=n(14665),o=n(8647),c=n(52322);t.Z=function(e){var t=e.title,n=e.size,l=e.onConfirm,u=e.visible,d=e.onCancel,p=e.loading,m=e.confirmLabel,h=e.confirmPlaceholder,f=e.confirmString,g=e.alert,x=e.text,b=e.children;return(0,c.jsx)(r.C,{hideFooter:!0,closable:!0,size:void 0===n?"small":n,visible:u,header:t,onCancel:d,children:(0,c.jsx)(s.Z,{validateOnBlur:!0,initialValues:{confirmValue:""},validate:function(e){var t={};return 0===e.confirmValue.length?t.confirmValue="Enter the required value.":e.confirmValue!==f&&(t.confirmValue="Value entered does not match."),t},onSubmit:l,children:function(){return(0,c.jsx)("div",{className:"w-full py-4",children:(0,c.jsxs)("div",{className:"space-y-4",children:[b&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.C.Content,{children:b}),(0,c.jsx)(r.C.Separator,{})]}),g&&(0,c.jsx)(r.C.Content,{children:(0,c.jsx)(a.b,{variant:"warning",withIcon:!0,title:g})}),void 0!==x&&(0,c.jsx)(r.C.Content,{children:(0,c.jsx)("p",{className:"mb-2 block text-sm break-all",children:x})}),(0,c.jsx)(r.C.Separator,{}),(0,c.jsx)(r.C.Content,{children:(0,c.jsx)(i.Z,{id:"confirmValue",label:(0,c.jsxs)("span",{children:["Type ",(0,c.jsx)("span",{className:"text-foreground break-all",children:f})," to confirm."]}),placeholder:h})}),(0,c.jsx)(r.C.Separator,{}),(0,c.jsx)(r.C.Content,{children:(0,c.jsx)(o.z,{block:!0,type:"danger",size:"medium",htmlType:"submit",loading:p,disabled:p,children:m})})]})})}})})}},48125:function(e,t,n){var r=n(23733),s=n(52322);t.Z=function(e){var t=e.resourceText,n=e.isFullPage,a=function(){return(0,s.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200",children:(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(r.Z,{size:"large"})}),(0,s.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or adminstrator for assistance."})})]})})]})})};return void 0!==n&&n?(0,s.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,s.jsx)("div",{className:"w-[550px]",children:(0,s.jsx)(a,{})})}):(0,s.jsx)(a,{})}},45008:function(e,t,n){var r=n(3929),s=n(52322);function a(e){var t=[];t=e.hideHeaderStyling?["bg-surface-100"]:["bg-surface-100 border-b border-overlay"];var n=(0,s.jsxs)("div",{className:"\n        ".concat(e.noHideOverflow?"":"overflow-hidden"," rounded-md border\n        border-overlay shadow-sm ").concat(e.noMargin?"":"mb-8"," ").concat(e.className),children:[e.title&&(0,s.jsx)("div",{className:t.join(" "),children:(0,s.jsx)("div",{className:"flex items-center px-6 py-4",children:e.title})}),(0,s.jsx)("div",{className:"bg-surface-100 ".concat(e.bodyClassName||""),children:e.children}),e.footer&&(0,s.jsx)("div",{className:"bg-surface-100 border-t border-overlay",children:(0,s.jsx)("div",{className:"flex h-12 items-center px-6",children:e.footer})})]});return!1===e.wrapWithLoading?n:(0,s.jsx)(r.Z,{active:!!e.loading,children:n})}a.Content=function(e){var t=e.children,n=e.className,r=["px-6 py-4"];return n&&r.push(n),(0,s.jsx)("div",{className:r.join(" "),children:t})},t.Z=a},96352:function(e,t,n){var r=n(39097),s=n.n(r),a=n(95490),i=n(8647),o=n(52322);t.Z=function(e){var t=e.name,n=void 0===t?"":t,r=e.isActive,c=e.isExternal,l=e.icon,u=e.url,d=void 0===u?"":u,p=e.target,m=e.onClick,h=e.textClassName,f=e.hoverText,g=e.label,x=(0,o.jsx)(a.ZP.Item,{icon:l,rounded:!0,active:r,onClick:m,children:(0,o.jsx)("div",{className:"flex w-full items-center justify-between gap-1",children:(0,o.jsxs)("div",{title:(void 0===f?"":f)||("string"==typeof n?n:""),className:"flex items-center gap-2 truncate w-full "+(void 0===h?"":h),children:[(0,o.jsxs)("span",{className:"truncate",children:[n," "]}),void 0!==g&&(0,o.jsx)("span",{className:"text-orange-800 text-xs font-normal truncate",children:g})]})})});return d?c?(0,o.jsx)(i.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:l,children:(0,o.jsx)(s(),{href:d,target:"_blank",rel:"noreferrer",children:n})}):(0,o.jsx)(s(),{href:d,className:"block",target:void 0===p?"_self":p,children:x}):x}},22731:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(95490),s=n(73302),a=n(96352),i=n(52322),o=function(e){var t=e.page,n=e.menu;return(0,i.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto",children:(0,i.jsx)(r.ZP,{type:"pills",children:n.map(function(e,o){return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"my-6 space-y-8",children:(0,i.jsxs)("div",{className:"mx-3",children:[(0,i.jsx)(r.ZP.Group,{title:e.title?(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("span",{children:e.title}),e.isPreview&&(0,i.jsx)(s.Z,{color:"amber",children:"Not production ready"})]}):null}),(0,i.jsx)("div",{children:e.items.map(function(e){return(0,i.jsx)(a.Z,{url:e.url,name:e.name,icon:e.icon,isActive:t===e.key,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),o!==n.length-1&&(0,i.jsx)("div",{className:"h-px w-full bg-overlay"})]},e.title)})})})}},43276:function(e,t,n){n.d(t,{D:function(){return x},m:function(){return v}});var r=n(59491),s=n(63059),a=n(8647),i=n(71813),o=n(23733),c=n(29027),l=n(14665),u=n(4300),d=n(45008),p=n(90263),m=n(51860),h=n(70203),f=n(9747),g=n(52322),x=function(){var e,t,n=(0,u.UO)().ref,x=(0,m.oF)({projectRef:n}),b=x.data,v=x.isError,j=x.isLoading,y=(0,p.tb)({projectRef:n}),w=y.data,k=y.isError,N=y.isLoading,O=null==w?void 0:w.jwtSecretUpdateStatus,S=(0,h.Xo)(r.KA.READ,"service_api_keys"),P=void 0===O||O===s.iL.Updated,C=(null!==(e=null==b?void 0:b.services)&&void 0!==e?e:[]).find(function(e){return e.app.id==f.pG}),E=null!==(t=null==C?void 0:C.service_api_keys)&&void 0!==t?t:[],Z=0===E.length;return(0,g.jsx)(d.Z,{title:(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("h5",{className:"text-base",children:"Project API keys"}),(0,g.jsxs)("p",{className:"text-sm text-foreground-light",children:["Your API is secured behind an API gateway which requires an API Key for every request.",(0,g.jsx)("br",{}),"You can use the keys below in the Supabase client libraries.",(0,g.jsx)("br",{}),(0,g.jsx)("a",{href:"https://supabase.com/docs#client-libraries",target:"_blank",rel:"noreferrer",children:(0,g.jsx)(a.z,{icon:(0,g.jsx)(i.Z,{}),type:"default",className:"mt-4",children:"Client Docs"})})]})]}),children:v||k?(0,g.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,g.jsx)(o.Z,{size:16,strokeWidth:1.5}),(0,g.jsx)("p",{className:"text-sm text-foreground-light",children:v?"Failed to retrieve API keys":"Failed to update JWT secret"})]}):Z||j||N?(0,g.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,g.jsx)(c.Z,{className:"animate-spin",size:16,strokeWidth:1.5}),(0,g.jsx)("p",{className:"text-sm text-foreground-light",children:j||Z?"Retrieving API keys":"JWT secret is being updated"})]}):E.map(function(e,t){var n;return(0,g.jsx)(d.Z.Content,{className:t>=1&&"border-t border-panel-border-interior-light [[data-theme*=dark]_&]:border-panel-border-interior-dark",children:(0,g.jsx)(l.Z,{readOnly:!0,disabled:!0,layout:"horizontal",className:"input-mono",label:(0,g.jsxs)(g.Fragment,{children:[null===(n=e.tags)||void 0===n?void 0:n.split(",").map(function(e,t){return(0,g.jsx)("code",{className:"text-xs text-code",children:e},"".concat(e).concat(t))}),"service_role"===e.tags&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("code",{className:"bg-red-900 text-xs text-white",children:"secret"})}),"anon"===e.tags&&(0,g.jsx)("code",{className:"text-xs text-code",children:"public"})]}),copy:S&&P,reveal:"anon"!==e.tags&&S&&P,value:S?O===s.iL.Failed?"JWT secret update failed, new API key may have issues":O===s.iL.Updating?"Updating JWT secret...":e.api_key:"You need additional permissions to view API keys",onChange:function(){},descriptionText:"service_role"===e.tags?"This key has the ability to bypass Row Level Security. Never share it publicly.":"This key is safe to use in a browser if you have enabled Row Level Security for your tables and configured policies."})},e.api_key)})})},b=n(43991),v=function(){var e,t,n,r,a,i=(0,b.UO)().ref,u=(0,m.oF)({projectRef:i}),h=u.data,x=u.isLoading,v=u.isError,y=(0,p.tb)({projectRef:i}),w=y.data,k=y.isError,N=y.isLoading,O=null==w?void 0:w.jwtSecretUpdateStatus,S=void 0===O||O===s.iL.Updated,P=null!==(e=null==h?void 0:null===(t=h.project)||void 0===t?void 0:t.jwt_secret)&&void 0!==e?e:"",C=(null!==(n=null==h?void 0:h.services)&&void 0!==n?n:[]).find(function(e){return e.app.id==f.pG}),E=null==C?void 0:C.app_config,Z="".concat(null!==(r=null==E?void 0:E.protocol)&&void 0!==r?r:"https","://").concat(null!==(a=null==E?void 0:E.endpoint)&&void 0!==a?a:"-");return(0,g.jsx)(j,{children:v||k?(0,g.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,g.jsx)(o.Z,{size:16,strokeWidth:1.5}),(0,g.jsx)("p",{className:"text-sm text-foreground-light",children:v?"Failed to retrieve configuration":"Failed to update JWT secret"})]}):x||N?(0,g.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,g.jsx)(c.Z,{className:"animate-spin",size:16,strokeWidth:1.5}),(0,g.jsx)("p",{className:"text-sm text-foreground-light",children:x?"Retrieving API keys":"JWT secret is being updated"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z.Content,{children:(0,g.jsx)(l.Z,{label:"URL",readOnly:!0,copy:!0,disabled:!0,className:"input-mono",value:Z,descriptionText:"A RESTful endpoint for querying and managing your database.",layout:"horizontal"})}),(0,g.jsx)(d.Z.Content,{className:"border-t border-panel-border-interior-light [[data-theme*=dark]_&]:border-panel-border-interior-dark",children:(0,g.jsx)(l.Z,{label:"JWT Secret",readOnly:!0,copy:S,reveal:S,disabled:!0,value:O===s.iL.Failed?"JWT secret update failed":O===s.iL.Updating?"Updating JWT secret...":P,className:"input-mono",descriptionText:"Used to decode your JWTs. You can also use this to mint your own JWTs.",layout:"horizontal"})})]})})},j=function(e){var t=e.children;return(0,g.jsx)(d.Z,{title:(0,g.jsx)("div",{className:"space-y-3",children:(0,g.jsx)("h5",{className:"text-base",children:"Project Configuration"})}),children:t})}},19269:function(e,t,n){var r=n(2784),s=n(8647),a=n(29027),i=n(25208),o=n(82654),c=n(35852),l=n(15742),u=n(96535),d=n(97346),p=n(31375),m=n(97064),h=n(59800),f=n(52322);t.Z=function(e){var t=e.className,n=e.size,g=void 0===n?"tiny":n,x=e.showError,b=e.selectedSchemaName,v=e.supportSelectAll,j=e.onSelectSchema,y=e.onSelectCreateSchema,w=(0,r.useState)(!1),k=w[0],N=w[1],O=(0,m.d2)().project,S=(0,h.Q1)({projectRef:null==O?void 0:O.ref,connectionString:null==O?void 0:O.connectionString}),P=S.data,C=S.isLoading,E=S.isSuccess,Z=S.isError,_=S.error,I=S.refetch,L=(null!=P?P:[]).sort(function(e,t){return e.name>t.name?0:-1});return(0,f.jsxs)("div",{className:t,children:[C&&(0,f.jsx)(s.z,{type:"outline",className:"w-full [&>span]:w-full",icon:(0,f.jsx)(a.Z,{className:"animate-spin",size:12}),children:(0,f.jsx)("div",{className:"w-full flex space-x-3 py-0.5",children:(0,f.jsx)("p",{className:"text-xs text-foreground-light",children:"Loading schemas..."})})}),(void 0===x||x)&&Z&&(0,f.jsxs)(i.bZ,{variant:"warning",className:"!px-3 !py-3",children:[(0,f.jsx)(i.Cd,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,f.jsxs)(i.X,{className:"text-xs mb-2",children:["Error: ",null==_?void 0:_.message]}),(0,f.jsx)(s.z,{type:"default",size:"tiny",onClick:function(){return I()},children:"Reload schemas"})]}),E&&(0,f.jsxs)(o.J2,{open:k,onOpenChange:N,modal:!1,children:[(0,f.jsx)(o.xo,{asChild:!0,children:(0,f.jsx)(s.z,{size:g,type:"outline",className:"w-full [&>span]:w-full ".concat("small"===g?"py-1.5":""),iconRight:(0,f.jsx)(c.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),children:(0,f.jsxs)("div",{className:"w-full flex space-x-3 py-0.5",children:[(0,f.jsx)("p",{className:"text-xs text-foreground-light",children:"schema"}),(0,f.jsx)("p",{className:"text-xs",children:"*"===b?"All schemas":b})]})})}),(0,f.jsx)(o.yk,{className:"p-0 w-64",side:"bottom",align:"start",children:(0,f.jsxs)(l.mY,{children:[(0,f.jsx)(l.sZ,{placeholder:"Find schema..."}),(0,f.jsxs)(l.e8,{children:[(0,f.jsx)(l.rb,{children:"No schemas found"}),(0,f.jsx)(l.fu,{children:(0,f.jsxs)(u.x,{className:(L||[]).length>7?"h-[210px]":"",children:[void 0!==v&&v&&(0,f.jsxs)(l.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:function(){j("*"),N(!1)},onClick:function(){j("*"),N(!1)},children:[(0,f.jsx)("span",{children:"All schemas"}),"*"===b&&(0,f.jsx)(d.Z,{className:"text-brand",strokeWidth:2})]},"select-all"),null==L?void 0:L.map(function(e){return(0,f.jsxs)(l.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:function(){j(e.name),N(!1)},onClick:function(){j(e.name),N(!1)},children:[(0,f.jsx)("span",{children:e.name}),b===e.name&&(0,f.jsx)(d.Z,{className:"text-brand",strokeWidth:2})]},e.id)})]})}),void 0!==y&&(0,f.jsx)(l.fu,{className:"border-t",children:(0,f.jsxs)(l.di,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:function(){y(),N(!1)},onClick:function(){y(),N(!1)},children:[(0,f.jsx)(p.Z,{}),"Create a new schema"]})})]})]})})]})]})}},33869:function(e,t,n){var r=n(20406),s=n(28526),a=n.n(s),i=n(79534),o=n(76635),c=n(2784),l=n(70203),u=n(52322);t.Z=function(e){var t=e.queryId,n=e.language,s=e.defaultValue,d=e.readOnly,p=e.contextmenu,m=e.onInputChange,h=void 0===m?o.noop:m,f=(0,i.useMonaco)(),g=(0,l.oR)().meta,x=(0,c.useRef)();function b(){return(b=(0,r.Z)(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.formatQuery(t);case 3:if(!(n=e.sent).error){e.next=6;break}throw n.error;case 6:return e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.error("formatPgsql error:",e.t0),e.abrupt("return",t);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}return(0,c.useEffect)(function(){if(f){var e=f.languages.registerDocumentFormattingEditProvider("pgsql",{provideDocumentFormattingEdits:function(e){return(0,r.Z)(a().mark(function t(){var n,r;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getValue(),t.next=3,function(e){return b.apply(this,arguments)}(n);case 3:return r=t.sent,t.abrupt("return",[{range:e.getFullModelRange(),text:r}]);case 5:case"end":return t.stop()}},t)}))()}});return function(){e.dispose()}}},[f]),(0,c.useEffect)(function(){if(x.current){var e;null===(e=x.current)||void 0===e||e.changeViewZones(function(e){e.addZone({afterLineNumber:0,heightInPx:4,domNode:document.createElement("div")})})}},[t]),(0,u.jsx)(i.default,{className:"monaco-editor",theme:"vs-dark",defaultLanguage:void 0===n?"pgsql":n,defaultValue:void 0===s?"":s,path:t,loading:(0,u.jsx)(function(){return(0,u.jsx)("h4",{className:"text-lg",children:"Loading"})},{}),options:{readOnly:void 0!==d&&d,tabSize:2,fontSize:13,minimap:{enabled:!1},wordWrap:"on",fixedOverflowWidgets:!0,contextmenu:void 0===p||p},onMount:function(e,t){x.current=e,e.changeViewZones(function(e){e.addZone({afterLineNumber:0,heightInPx:4,domNode:document.createElement("div")})})},onChange:h})}},97792:function(e,t,n){var r=n(6277),s=n(52322);t.Z=function(e){var t=e.options,n=e.width,a=void 0===n?50:n,i=e.activeOption,o=e.onClickOption,c=e.borderOverride;return(0,s.jsxs)("div",{className:"relative border ".concat(void 0===c?"border-stronger":c," rounded-md h-7"),style:{padding:1,width:(a+1)*2},children:[(0,s.jsx)("span",{style:{width:a,translate:i===t[1]?"0px":"".concat(a-2,"px")},"aria-hidden":"true",className:(0,r.default)("z-0 inline-block rounded h-full bg-overlay-hover shadow transform","transition-all ease-in-out border border-strong")}),t.map(function(e,t){var n;return(0,s.jsx)("span",{style:{width:a+1},className:"\n              ".concat(i===e?"text-foreground":"text-foreground-light","\n              ").concat(0===t?"right-0":"left-0","\n              ").concat((n=i===e,"absolute top-0 z-1 text-xs inline-flex h-full items-center justify-center font-medium\n    ".concat(n?"hover:text-foreground-light hover:text-foreground":"hover:text-foreground"," hover:text-foreground focus:z-10 focus:outline-none focus:border-blue-300 focus:ring-blue\n    transition ease-in-out duration-150")),"\n              cursor-pointer\n            "),onClick:function(){return o(e)},children:(0,s.jsx)("span",{className:(0,r.default)("capitalize hover:text-foreground",i===e?"text-foreground":"text-foreground-light"),children:e})},"toggle_".concat(t))})]})}},72047:function(e,t,n){var r=n(24990),s=n(59491),a=n(39097),i=n.n(a),o=n(8647),c=n(70203),l=n(97415),u=n(52322);t.Z=function(e){var t,n=e.icon,a=e.primaryText,d=e.projectRef,p=e.organizationSlug,m=e.secondaryText,h=e.addon,f=(0,l.G)({orgSlug:p}).data,g=null==f?void 0:null===(t=f.plan)||void 0===t?void 0:t.id,x=(0,c.Xo)(s.KA.BILLING_WRITE,"stripe.subscriptions"),b=(0,c.P5)("disableProjectCreationAndUpdate");return(0,u.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200",children:(0,u.jsxs)("div",{className:"flex space-x-3",children:[n&&(0,u.jsx)("div",{className:"mt-1",children:n}),(0,u.jsxs)("div",{className:"flex w-full items-center justify-between space-x-32",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{className:"text-sm",children:a}),(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"text-sm text-foreground-light",children:m})})]}),(0,u.jsxs)(r.fC,{delayDuration:0,children:[(0,u.jsx)(r.xz,{children:(0,u.jsx)(o.z,{type:"primary",disabled:!x||b,children:(0,u.jsx)(i(),{href:"free"===g?"/org/".concat(p,"/billing?panel=subscriptionPlan"):"/project/".concat(d,"/settings/addons?panel=").concat(h),children:"free"===g?"Upgrade to Pro":"Enable Addon"})})}),!x||b?(0,u.jsx)(r.h_,{children:(0,u.jsxs)(r.VY,{side:"bottom",children:[(0,u.jsx)(r.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:"border border-background text-center rounded bg-alternative py-1 px-2 leading-none shadow",children:(0,u.jsx)("span",{className:"text-xs text-foreground",children:b?(0,u.jsxs)(u.Fragment,{children:["Subscription changes are currently disabled.",(0,u.jsx)("br",{}),"Our engineers are working on a fix."]}):x?"":"You need additional permissions to amend subscriptions"})})]})}):(0,u.jsx)(u.Fragment,{})]})]})]})})}},97512:function(e,t,n){n.d(t,{g:function(){return h}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(62350),l=n(37552),u=n(9747),d=["onSuccess"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(){return(m=(0,a.Z)(o().mark(function e(t){var n,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sql,e.next=3,(0,l.v_)(u.GW+"/api/ai/sql/title",{sql:n});case 3:if(r=e.sent,(0,l.d8)(r)){e.next=6;break}throw r.error;case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=(0,s.Z)(e,d);return(0,c.D)(function(e){return function(e){return m.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,null==t?void 0:t(e,n,r);case 2:case"end":return s.stop()}},s)}))()}},n))}},93615:function(e,t,n){n.d(t,{J:function(){return x}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(55830),l=n(62350),u=n(62202),d=n(81229),p=n(6464),m=n(37946),h=["onSuccess","onError"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(){return(g=(0,a.Z)(o().mark(function e(t){var n,r,s,a,i,c,l;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectRef,r=t.branchName,s=t.gitBranch,a=t.region,e.next=3,(0,d.v_)("/v1/projects/{ref}/branches",{params:{path:{ref:n}},body:{branch_name:r,git_branch:s,region:a}});case 3:if(c=(i=e.sent).data,!(l=i.error)){e.next=8;break}throw l;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,i=(0,s.Z)(e,h),d=(0,c.NL)();return(0,l.D)(function(e){return function(e){return g.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(o().mark(function s(){var a;return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=n.projectRef,s.next=3,d.invalidateQueries(p.x.list(a));case 3:return s.next=5,d.invalidateQueries(m.i.detail(a));case 5:return s.next=7,null==t?void 0:t(e,n,r);case 7:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?u.Am.error("Failed to create branch: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},i))}},90263:function(e,t,n){n.d(t,{tb:function(){return x}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(63059),l=n(55830),u=n(58943),d=n(37552),p=n(9747);n(2784);var m=n(23560),h=["enabled"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(){return(g=(0,a.Z)(o().mark(function e(t,n){var r,s,a,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,d.U2)("".concat(p.T5,"/props/project/").concat(s,"/jwt-secret-update-status"),{signal:n});case 5:if(!(a=e.sent).error){e.next=8;break}throw a.error;case 8:return i=null==a?void 0:null===(r=a.jwtSecretUpdateStatus)||void 0===r?void 0:r.meta,e.abrupt("return",{changeTrackingId:null==i?void 0:i.change_tracking_id,jwtSecretUpdateError:null==i?void 0:i.error,jwtSecretUpdateProgress:null==i?void 0:i.progress,jwtSecretUpdateStatus:null==i?void 0:i.status});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=(0,s.Z)(n,h),o=(0,l.NL)();return(0,u.a)(m.U.jwtSecretUpdatingStatus(t),function(e){return function(e,t){return g.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t,refetchInterval:function(e){return!!e&&e.jwtSecretUpdateStatus===c.iL.Updating&&1e3},onSuccess:function(){o.invalidateQueries(m.U.postgrest(t))}},i))}},51860:function(e,t,n){n.d(t,{oF:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(37552),u=n(9747);n(2784);var d=n(23560),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,a.Z)(o().mark(function e(t,n){var r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/props/project/").concat(r,"/settings"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=(0,s.Z)(n,p);return(0,c.a)(d.U.settings(t),function(e){return function(e,t){return h.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t,refetchInterval:function(e,t){var n,r,s=(null!==(n=null==e?void 0:e.services)&&void 0!==n?n:[]).find(function(e){return e.app.id==u.pG});return 0===(null!==(r=null==s?void 0:s.service_api_keys)&&void 0!==r?r:[]).length?2e3:0}},i))}},32732:function(e,t,n){n.d(t,{kl:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(37552),u=n(9747);n(2784);var d=n(23560),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,a.Z)(o().mark(function e(t,n){var r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/projects/").concat(r,"/config/storage"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=(0,s.Z)(n,p);return(0,c.a)(d.U.storage(t),function(e){return function(e,t){return h.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t},i))}},93407:function(e,t,n){n.d(t,{h1:function(){return x}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(55830),l=n(58943),u=n(63059),d=n(37552),p=n(9747);n(2784);var m=n(23560),h=["enabled"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(){return(g=(0,a.Z)(o().mark(function e(t,n){var r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,d.U2)("".concat(p.Q2,"/projects/").concat(r,"/upgrade/status"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=function(e){var t=e.projectRef,n=e.projectStatus,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.enabled,o=(0,s.Z)(a,h),d=(0,c.NL)();return(0,l.a)(m.U.upgradeStatus(t),function(e){return function(e,t){return g.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===i||i)&&void 0!==t,refetchInterval:function(e){var t,r;return!!e&&(n===p.S.UPGRADING&&(null===(t=e.databaseUpgradeStatus)||void 0===t?void 0:t.status)!==u.h.Upgrading||(null===(r=e.databaseUpgradeStatus)||void 0===r?void 0:r.status)===u.h.Upgrading)&&5e3},onSuccess:function(e){var n;(null===(n=e.databaseUpgradeStatus)||void 0===n?void 0:n.status)===u.h.Upgraded&&d.invalidateQueries(m.U.upgradeEligibility(t))}},o))}},7825:function(e,t,n){n.d(t,{I1:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(37552),u=n(9747);n(2784);var d=n(40780),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,a.Z)(o().mark(function e(t,n){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}throw Error("projectRef is required for getContent");case 2:return e.next=4,(0,l.U2)("".concat(u.T5,"/projects/").concat(t,"/content"),{signal:n});case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:if(r){e.next=9;break}throw Error("Content not found");case 9:return e.abrupt("return",{content:r.data});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enabled,a=(0,s.Z)(t,p);return(0,c.a)(d.$.list(e),function(t){return function(e,t){return h.apply(this,arguments)}(e,t.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===n||n)&&void 0!==e},a))}},78452:function(e,t,n){n.d(t,{z:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(37552),u=n(9747),d=n(15993),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,a.Z)(o().mark(function e(t,n){var r,s,a,i,c,d,p,m,h;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,l.U2)("".concat(u.Q2,"/projects/").concat(s,"/custom-hostname"),{signal:n});case 5:if(!(a=e.sent).error){e.next=14;break}if(!((null===(i=a.error)||void 0===i?void 0:i.code)===400&&(null===(c=a.error)||void 0===c?void 0:null===(d=c.message)||void 0===d?void 0:d.includes("not allowed to set up custom domain")))){e.next=10;break}return e.abrupt("return",{customDomain:null,status:"0_not_allowed"});case 10:if(!((null===(p=a.error)||void 0===p?void 0:p.code)===400&&(null===(m=a.error)||void 0===m?void 0:null===(h=m.message)||void 0===h?void 0:h.includes("custom hostname configuration")))){e.next=13;break}return e.abrupt("return",{customDomain:null,status:"0_no_hostname_configured"});case 13:throw a.error;case 14:return e.abrupt("return",{customDomain:null==a?void 0:null===(r=a.data)||void 0===r?void 0:r.result,status:a.status});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=(0,s.Z)(n,p);return(0,c.a)(d.A.list(t),function(e){return function(e,t){return h.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===a||a)&&u.Qy&&void 0!==t},i))}},15993:function(e,t,n){n.d(t,{A:function(){return r}});var r={list:function(e){return["projects",e,"custom-domains"]}}},57083:function(e,t,n){n.d(t,{A:function(){return r}});var r={schemaList:function(e){return["projects",e,"schemas"]},backups:function(e){return[e,"database","backups"]},poolingConfiguration:function(e){return[e,"database","pooling-configuration"]}}},59800:function(e,t,n){n.d(t,{Q1:function(){return h},XL:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(81229),u=n(57083),d=["enabled"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(){return(m=(0,a.Z)(o().mark(function e(t,n){var r,s,a,i,c,u;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef,s=t.connectionString,r){e.next=3;break}throw Error("projectRef is required");case 3:return a=new Headers,s&&a.set("x-connection-encrypted",s),e.next=7,(0,l.U2)("/platform/pg-meta/{ref}/schemas",{params:{header:{"x-connection-encrypted":s},path:{ref:r}},headers:Object.fromEntries(a),signal:n});case 7:if(c=(i=e.sent).data,!(u=i.error)){e.next=12;break}throw u;case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=function(e){var t=e.projectRef,n=e.connectionString,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.enabled,o=(0,s.Z)(a,d);return(0,c.a)(u.A.schemaList(t),function(e){return function(e,t){return m.apply(this,arguments)}({projectRef:t,connectionString:n},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===i||i)&&void 0!==t},o))};function f(e,t){return e.invalidateQueries(u.A.schemaList(t))}},62175:function(e,t,n){n.d(t,{at:function(){return h}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(37552),u=n(9747);n(2784);var d=["enabled"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(){return(m=(0,a.Z)(o().mark(function e(t,n){var r,s,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return s="".concat(u.T5,"/projects/").concat(r,"/api/rest"),e.next=6,(0,l.U2)(s,{signal:n});case 6:if(!(a=e.sent).error){e.next=9;break}throw a.error;case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=(0,s.Z)(n,d);return(0,c.a)(["projects",t,"docs"],function(e){return function(e,t){return m.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t},i))}},98572:function(e,t,n){n.d(t,{IB:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(37552),u=n(9747);n(2784);var d=n(79217),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,a.Z)(o().mark(function e(t,n){var r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,l.U2)("".concat(u.Q2,"/projects/").concat(r,"/functions"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=(0,s.Z)(n,p);return(0,c.a)(d.f.list(t),function(e){return function(e,t){return h.apply(this,arguments)}({projectRef:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:u.Qy&&(void 0===a||a)&&void 0!==t},i))}},79217:function(e,t,n){n.d(t,{f:function(){return r}});var r={list:function(e){return["projects",e,"edge-functions"]},detail:function(e,t){return["projects",e,"edge-function",t]}}},1740:function(e,t,n){n.d(t,{H:function(){return h}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58586),l=n(94170),u=n(30098),d=["enabled"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(){return(m=(0,a.Z)(o().mark(function e(t,n){var r,s,a,i,c,u,d,p,m,h,f,g,x,b,v;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectRef,s=t.connectionString,i=void 0===(a=t.schema)?"public":a,c=t.search,d=void 0===(u=t.limit)?100:u,m=void 0===(p=t.page)?0:p,g="alphabetical"===(f=void 0===(h=t.sort)?"alphabetical":h)?"c.relname asc":'"type_sort" asc, c.relname asc',x="alphabetical"===f?"r.name asc":"r.type_sort asc, r.name asc",b="\n    with records as (\n      select\n        c.oid::int8 as \"id\",\n        nc.nspname as \"schema\",\n        c.relname as \"name\",\n        c.relkind as \"type\",\n        case c.relkind\n          when 'r' then 1\n          when 'v' then 2\n          when 'm' then 3\n          when 'f' then 4\n          when 'p' then 5\n        end as \"type_sort\",\n        obj_description(c.oid) as \"comment\",\n        count(*) over() as \"count\"\n      from\n        pg_namespace nc\n        join pg_class c on nc.oid = c.relnamespace\n      where\n        c.relkind in ('r', 'v', 'm', 'f', 'p')\n        and not pg_is_other_temp_schema(nc.oid)\n        and (\n          pg_has_role(c.relowner, 'USAGE')\n          or has_table_privilege(\n            c.oid,\n            'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'\n          )\n          or has_any_column_privilege(c.oid, 'SELECT, INSERT, UPDATE, REFERENCES')\n        )\n        and nc.nspname = '".concat(i,"'\n        ").concat(c?"and c.relname ilike '%".concat(c,"%'"):"","\n      order by ").concat(g,"\n      limit ").concat(d,"\n      offset ").concat(m*d,"\n    )\n    select\n      jsonb_build_object(\n        'entities', coalesce(jsonb_agg(\n          jsonb_build_object(\n            'id', r.id,\n            'schema', r.schema,\n            'name', r.name,\n            'type', r.type,\n            'comment', r.comment\n          )\n          order by ").concat(x,"\n        ), '[]'::jsonb),\n        'count', coalesce(min(r.count), 0)\n      ) \"data\"\n    from records r;\n  "),e.next=6,(0,l.Rj)({projectRef:r,connectionString:s,sql:b,queryKey:["public","entity-types"]},n);case 6:return v=e.sent.result,e.abrupt("return",v[0]);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=function(e){var t=e.projectRef,n=e.connectionString,a=e.schema,i=void 0===a?"public":a,o=e.search,l=e.limit,h=void 0===l?100:l,f=e.sort,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=g.enabled,b=(0,s.Z)(g,d);return(0,c.N)(u.C.list(t,{schema:i,search:o,sort:f,limit:h}),function(e){var r=e.signal;return function(e,t){return m.apply(this,arguments)}({projectRef:t,connectionString:n,schema:i,search:o,limit:h,page:e.pageParam,sort:f},r)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===x||x)&&void 0!==t&&void 0!==n,getNextPageParam:function(e,t){var n=t.length;if(!(n*h>=e.data.count))return n}},b))}},50928:function(e,t,n){n.d(t,{s:function(){return h}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(62350),l=n(62202),u=n(81229),d=["onSuccess","onError"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(){return(m=(0,a.Z)(o().mark(function e(t,n){var r,s,a,i,c,l,d;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.organizationIntegrationId,s=t.repoOwner,a=t.repoName,i=t.branchName,r){e.next=3;break}throw Error("Organization integration ID is required");case 3:return e.next=5,(0,u.U2)("/platform/integrations/github/branches/{organization_integration_id}/{repo_owner}/{repo_name}/{branch_name}",{params:{path:{organization_integration_id:r,repo_owner:s,repo_name:a,branch_name:i}},signal:n});case 5:if(l=(c=e.sent).data,!(d=c.error)){e.next=10;break}throw d;case 10:return e.abrupt("return",l);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,i=(0,s.Z)(e,d);return(0,c.D)(function(e){return function(e,t){return m.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,null==t?void 0:t(e,n,r);case 2:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?l.Am.error("Failed to check Github branch: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},i))}},74715:function(e,t,n){n.d(t,{A:function(){return g}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(55830),l=n(62350),u=n(62202),d=n(81229),p=n(94347),m=["onSuccess","onError"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(){return(f=(0,a.Z)(o().mark(function e(t,n){var r,s,a,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.connectionId,e.next=3,(0,d.IV)("/platform/integrations/github/connections/{connection_id}",{params:{path:{connection_id:r}}});case 3:if(a=(s=e.sent).data,!(i=s.error)){e.next=8;break}throw i;case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,i=(0,s.Z)(e,m),d=(0,c.NL)();return(0,l.D)(function(e){return function(e,t){return f.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.all([d.invalidateQueries(p.F.integrationsList()),d.invalidateQueries(p.F.integrationsListWithOrg(n.orgSlug)),d.invalidateQueries(p.F.githubRepoList(n.integrationId)),d.invalidateQueries(p.F.githubConnectionsList(n.integrationId))]);case 2:return s.next=4,null==t?void 0:t(e,n,r);case 4:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?u.Am.error("Failed to delete Github connection: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},i))}},53334:function(e,t,n){n.d(t,{s:function(){return g}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(55830),l=n(62350),u=n(62202),d=n(81229),p=n(94347),m=["onSuccess","onError"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(){return(f=(0,a.Z)(o().mark(function e(t){var n,r,s,a,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.organizationIntegrationId,r=t.connection,e.next=3,(0,d.v_)("/platform/integrations/github/connections",{body:{organization_integration_id:n,connection:r}});case 3:if(a=(s=e.sent).data,!(i=s.error)){e.next=8;break}throw i;case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,i=(0,s.Z)(e,m),d=(0,c.NL)();return(0,l.D)(function(e){return function(e){return f.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.all([d.invalidateQueries(p.F.integrationsList()),d.invalidateQueries(p.F.integrationsListWithOrg(n.orgSlug)),d.invalidateQueries(p.F.githubRepoList(n.organizationIntegrationId)),d.invalidateQueries(p.F.githubConnectionsList(n.organizationIntegrationId))]);case 2:return s.next=4,null==t?void 0:t(e,n,r);case 4:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,a.Z)(o().mark(function s(){return o().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?u.Am.error("Failed to create Github connection: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},i))}},12922:function(e,t,n){n.d(t,{q:function(){return g}});var r=n(12741),s=n(95235),a=n(82269),i=n(20406),o=n(28526),c=n.n(o),l=n(58943),u=n(81229),d=n(94347),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,i.Z)(c().mark(function e(t,n){var s,a,i,o,l;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.integrationId){e.next=3;break}throw Error("integrationId is required");case 3:a=[],i=100,o=1;case 6:return e.next=9,function(e,t,n,r){return f.apply(this,arguments)}(s,i,o,n);case 9:if(l=e.sent,a.push.apply(a,(0,r.Z)(l)),o+=1,!(l.length<i||o>10)){e.next=14;break}return e.abrupt("break",16);case 14:e.next=6;break;case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=(0,i.Z)(c().mark(function e(t,n,r,s){var a,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.U2)("/platform/integrations/github/repos/{organization_integration_id}",{params:{path:{organization_integration_id:t},query:{per_page:n,page:r}},signal:s});case 2:if(i=(a=e.sent).data,!(o=a.error)){e.next=7;break}throw o;case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=function(e){var t=e.integrationId,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,i=(0,a.Z)(n,p);return(0,l.a)(d.F.githubRepoList(t),function(e){return function(e,t){return h.apply(this,arguments)}({integrationId:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===r||r)&&void 0!==t},i))}},42984:function(e,t,n){n.d(t,{u:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(37552),u=n(9747),d=n(6815),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,a.Z)(o().mark(function e(t,n){var r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.slug){e.next=3;break}throw Error("slug is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/organizations/").concat(r,"/members/reached-free-project-limit"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){var t=e.slug,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=(0,s.Z)(n,p);return(0,c.a)(d.O.freeProjectLimitCheck(t),function(e){return function(e,t){return h.apply(this,arguments)}({slug:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t},i))}},54085:function(e,t,n){n.d(t,{J:function(){return o}});var r=n(20406),s=n(28526),a=n.n(s),i=n(81229);function o(e,t){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(a().mark(function e(t,n){var r,s,o,c;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ref){e.next=3;break}throw Error("Project ref is required");case 3:return e.next=5,(0,i.U2)("/v1/projects/{ref}/types/typescript",{params:{path:{ref:r}},signal:n});case 5:if(o=(s=e.sent).data,!(c=s.error)){e.next=10;break}throw c;case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}n(37946)},85610:function(e,t,n){n.d(t,{K:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(81229),u=n(9548),d=["enabled"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(){return(h=(0,a.Z)(o().mark(function e(t,n){var r,s,a,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,l.U2)("/platform/storage/{ref}/buckets",{params:{path:{ref:r}},signal:n});case 5:if(a=(s=e.sent).data,!(i=s.error)){e.next=10;break}throw i;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,a=(0,s.Z)(n,d);return(0,c.a)(u.m.buckets(t),function(e){return function(e,t){return h.apply(this,arguments)}({projectRef:t},e.signal)},m(m({enabled:(void 0===r||r)&&void 0!==t},a),{},{retry:function(e,t){return!("object"==typeof t&&null!==t&&t.message.startsWith("Tenant config")&&t.message.endsWith("not found"))&&e<3}}))}},9548:function(e,t,n){n.d(t,{m:function(){return r}});var r={buckets:function(e){return["projects",e,"buckets"]}}},28018:function(e,t,n){n.d(t,{Z:function(){return r}});var r={usage:function(e){return["projects",e,"usage"]},orgUsage:function(e){return["organizations",e,"usage"]},resourceWarnings:function(){return["projects","resource-warnings"]}}},90213:function(e,t,n){n.d(t,{v:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(37552),u=n(9747),d=n(28018),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,a.Z)(o().mark(function e(t,n){var r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.orgSlug){e.next=3;break}throw Error("orgSlug is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/organizations/").concat(r,"/usage"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){var t=e.orgSlug,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=(0,s.Z)(n,p);return(0,c.a)(d.Z.orgUsage(t),function(e){return function(e,t){return h.apply(this,arguments)}({orgSlug:t},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t},i))}},87471:function(e,t,n){n.d(t,{q:function(){return f}});var r=n(95235),s=n(82269),a=n(20406),i=n(28526),o=n.n(i),c=n(58943),l=n(81229),u=n(28018),d=n(43991),p=["enabled"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){return(h=(0,a.Z)(o().mark(function e(t){var n,r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.U2)("/platform/projects-resource-warnings",{signal:t});case 2:if(r=(n=e.sent).data,!(s=n.error)){e.next=7;break}throw s;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,n=(0,s.Z)(e,p);return(0,c.a)(u.Z.resourceWarnings(),function(e){return function(e){return h.apply(this,arguments)}(e.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({enabled:d.Qy&&(void 0===t||t),staleTime:18e5},n))}},27701:function(e,t,n){n.d(t,{V:function(){return r}});function r(e){return!!e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message}},85459:function(e,t,n){n.d(t,{F:function(){return r}});var r=["auth","extensions","information_schema","net","pgsodium","pgsodium_masks","pgbouncer","pgtle","realtime","storage","supabase_functions","supabase_migrations","vault","graphql","graphql_public"]},91516:function(e,t,n){n.d(t,{H9:function(){return h},n3:function(){return p}});var r=n(12741),s=n(81333),a=n(95922),i=n(20406),o=n(28526),c=n.n(o),l=n(37552);function u(e){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)(c().mark(function e(t){var n,r,s=arguments;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(s.length>1)||void 0===s[1]||s[1],e.next=3,fetch(t);case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:{code:r.status,message:r.statusText,requestId:""}});case 6:if(e.prev=6,!n){e.next=13;break}return e.next=10,r.json();case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,r.text();case 15:e.t0=e.sent;case 16:return e.abrupt("return",e.t0);case 19:return e.prev=19,e.t1=e.catch(6),e.abrupt("return",{error:{message:e.t1.message,code:500,requestId:""}});case 22:case"end":return e.stop()}},e,null,[[6,19]])}))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)(c().mark(function e(t){var n,i,o,d,p,m,h,f,g,x,b,v,j,y,w,k,N,O,S,P,C,E,Z,_,I;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return o=null!==(n=null==t?void 0:t.split("/"))&&void 0!==n?n:[],p=(d=(0,a.Z)(o))[3],m=d[4],h=d[6],f=d.slice(7).join("/"),g="https://api.github.com/repos/".concat(p,"/").concat(m,"/contents/").concat(f),x="".concat(g,"/supabase?ref=").concat(h),b="".concat(g,"/").concat("supabase/migrations").concat(h?"?ref=".concat(h):""),e.next=10,Promise.all([u(x),u(b)]);case 10:if(v=e.sent,y=(j=(0,s.Z)(v,2))[0],w=j[1],(0,l.d8)(y)){e.next=17;break}return console.warn("Failed to fetch supabase files from GitHub: ".concat(y.error)),e.abrupt("return",null);case 17:if((0,l.d8)(w)){e.next=20;break}return console.warn("Failed to fetch migration files from GitHub: ".concat(w.error)),e.abrupt("return",null);case 20:return k=null===(i=y.find(function(e){return"seed.sql"===e.name}))||void 0===i?void 0:i.download_url,O=(N=w.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})).map(function(e){return u(e.download_url,!1)}),e.next=25,Promise.all([k?u(k,!1):Promise.resolve("")].concat((0,r.Z)(O)));case 25:return S=e.sent,C=(P=(0,a.Z)(S))[0],Z=(E=P.slice(1)).filter(function(e){return(0,l.d8)(e)}).join(";"),_=(0,l.d8)(C)?C:"",I="\n    create schema if not exists supabase_migrations;\n    create table if not exists supabase_migrations.schema_migrations (\n      version text not null primary key,\n      statements text[],\n      name text\n    );\n    ".concat(N.map(function(e,t){var n=E[t];if(!(0,l.d8)(n))return"";var r=e.name.split("_")[0],s=JSON.stringify(n.split(";").map(function(e){return e.trim()}).filter(Boolean));return"\n        insert into supabase_migrations.schema_migrations (version, statements, name)\n        select '".concat(r,"', array_agg(jsonb_statements)::text[], '").concat(e.name,"'\n        from jsonb_array_elements_text($statements$").concat(s,"$statements$::jsonb) as jsonb_statements;\n      ")}),"\n  "),e.abrupt("return","".concat(Z,";").concat(I,";").concat(_));case 33:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){var t,n,r,s,a,i;return"Vercel"===e.integration.name?"https://vercel.com/dashboard/".concat((null===(t=e.metadata)||void 0===t?void 0:t.account.type)==="Team"?"".concat(null===(n=e.metadata)||void 0===n?void 0:n.account.team_slug,"/"):"","integrations/").concat(null===(r=e.metadata)||void 0===r?void 0:r.configuration_id):"GitHub"===e.integration.name?"https://github.com/".concat((null===(s=e.metadata)||void 0===s?void 0:s.account.type)==="Organization"?"organizations/".concat(null===(a=e.metadata)||void 0===a?void 0:a.account.name,"/"):"","settings/installations/").concat(null===(i=e.metadata)||void 0===i?void 0:i.installation_id):""}},871:function(e,t,n){n.d(t,{HN:function(){return E}});var r=n(81333),s=n(82269),a=n(12741),i=n(20406),o=n(96412),c=n(13089),l=n(95235),u=n(28526),d=n.n(u),p=n(70536),m=n(62419),h=n(76635),f=n(80075);n(2784);var g=n(62202),x=n(22005),b=n(70203),v=n(37552),j=n(9747),y=n(34406),w=new URL(y.env.SUPABASE_PUBLIC_URL||"http://localhost:8000");y.env.LOGFLARE_URL,w.origin,w.host;var k=w.protocol.replace(":","");y.env.DEFAULT_PROJECT_NAME;var N=["previewUrl"];function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=null;function E(){return null===C&&(C=new I(null)),C}var Z=".emptyFolderPlaceholder",_="Please do not close the browser until it's completed",I=function(){function e(t){var n,c,u,y,w,k,S,C,E,I,L,D,A,T,R,z,F,U,M,B,q,W,V,G,H,Y=this;(0,o.Z)(this,e),(0,l.Z)(this,"projectRef",""),(0,l.Z)(this,"loaded",!1),(0,l.Z)(this,"view",x.De.COLUMNS),(0,l.Z)(this,"sortBy",x.Ye.NAME),(0,l.Z)(this,"sortByOrder","asc"),(0,l.Z)(this,"buckets",[]),(0,l.Z)(this,"selectedBucket",{}),(0,l.Z)(this,"columns",[]),(0,l.Z)(this,"openedFolders",[]),(0,l.Z)(this,"selectedItems",[]),(0,l.Z)(this,"selectedItemsToDelete",[]),(0,l.Z)(this,"selectedItemsToMove",[]),(0,l.Z)(this,"selectedFilePreview",{}),(0,l.Z)(this,"selectedFileCustomExpiry",void 0),(0,l.Z)(this,"DEFAULT_OPTIONS",{limit:200,offset:0,sortBy:{column:this.sortBy,order:this.sortByOrder}}),(0,l.Z)(this,"ui",null),(0,l.Z)(this,"supabaseClient",null),(0,l.Z)(this,"endpoint",""),(0,l.Z)(this,"filePreviewCache",[]),(0,l.Z)(this,"uploadProgress",0),(0,l.Z)(this,"abortController",null),(0,l.Z)(this,"initializeSupabaseClient",function(e,t,n){Y.supabaseClient=(0,p.eI)("".concat(j.Qy?"https":n,"://").concat(t),e,{auth:{persistSession:!1,autoRefreshToken:!1,multiTab:!1,detectSessionInUrl:!1,localStorage:{getItem:function(e){},setItem:function(e,t){},removeItem:function(e){}}}})}),(0,l.Z)(this,"updateFileInPreviewCache",function(e){var t=Y.filePreviewCache.map(function(t){return t.id===e.id?e:t});Y.filePreviewCache=t}),(0,l.Z)(this,"addFileToPreviewCache",function(e){var t=Y.filePreviewCache.concat([e]);Y.filePreviewCache=t}),(0,l.Z)(this,"clearFilePreviewCache",function(){Y.filePreviewCache=[]}),(0,l.Z)(this,"getLocalStorageKey",function(){return"supabase-storage-".concat(Y.projectRef)}),(0,l.Z)(this,"getLatestColumnIndex",function(){return Y.columns.length-1}),(0,l.Z)(this,"getCurrentlySelectedBucket",function(){return Y.columns.length>1?Y.columns[1]:null}),(0,l.Z)(this,"getPathAlongOpenedFolders",function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e?Y.openedFolders.length>0?"".concat(Y.selectedBucket.name,"/").concat(Y.openedFolders.map(function(e){return e.name}).join("/")):Y.selectedBucket.name:Y.openedFolders.map(function(e){return e.name}).join("/")}),(0,l.Z)(this,"abortApiCalls",function(){Y.abortController.abort(),Y.abortController=new AbortController}),(0,l.Z)(this,"setLoaded",function(e){Y.loaded=e}),(0,l.Z)(this,"setSelectedBucket",function(e){Y.selectedBucket=e,Y.clearOpenedFolders(),Y.closeFilePreview(),Y.clearSelectedItems()}),(0,l.Z)(this,"setView",function(e){Y.view=e,Y.closeFilePreview(),Y.updateExplorerPreferences()}),(0,l.Z)(this,"setSortBy",(n=(0,i.Z)(d().mark(function e(t){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Y.sortBy=t,Y.closeFilePreview(),Y.updateExplorerPreferences(),e.next=5,Y.refetchAllOpenedFolders();case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})),(0,l.Z)(this,"setSortByOrder",(c=(0,i.Z)(d().mark(function e(t){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Y.sortByOrder=t,Y.closeFilePreview(),Y.updateExplorerPreferences(),e.next=5,Y.refetchAllOpenedFolders();case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})),(0,l.Z)(this,"clearColumns",function(){Y.columns=[]}),(0,l.Z)(this,"pushColumnAtIndex",function(e,t){Y.columns=Y.columns.slice(0,t+1).concat([e])}),(0,l.Z)(this,"popColumn",function(){Y.abortApiCalls(),Y.columns=Y.columns.slice(0,Y.getLatestColumnIndex())}),(0,l.Z)(this,"popColumnAtIndex",function(e){Y.columns=Y.columns.slice(0,e+1)}),(0,l.Z)(this,"setColumnIsLoadingMore",function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];Y.columns=Y.columns.map(function(n,r){return r===e?P(P({},n),{},{isLoadingMoreItems:t}):n})}),(0,l.Z)(this,"pushOpenedFolderAtIndex",function(e,t){Y.openedFolders=Y.openedFolders.slice(0,t).concat(e)}),(0,l.Z)(this,"popOpenedFolders",function(){Y.openedFolders=Y.openedFolders.slice(0,Y.openedFolders.length-1)}),(0,l.Z)(this,"popOpenedFoldersAtIndex",function(e){Y.openedFolders=Y.openedFolders.slice(0,e+1)}),(0,l.Z)(this,"clearOpenedFolders",function(){Y.openedFolders=[]}),(0,l.Z)(this,"setSelectedItems",function(e){Y.selectedItems=e}),(0,l.Z)(this,"clearSelectedItems",function(e){void 0!==e?Y.selectedItems=Y.selectedItems.filter(function(t){return t.columnIndex!==e}):Y.selectedItems=[]}),(0,l.Z)(this,"setSelectedItemsToDelete",function(e){Y.selectedItemsToDelete=e}),(0,l.Z)(this,"clearSelectedItemsToDelete",function(){Y.selectedItemsToDelete=[]}),(0,l.Z)(this,"setSelectedItemsToMove",function(e){Y.selectedItemsToMove=e}),(0,l.Z)(this,"clearSelectedItemsToMove",function(){Y.selectedItemsToMove=[]}),(0,l.Z)(this,"setSelectedFileCustomExpiry",function(e){Y.selectedFileCustomExpiry=e}),(0,l.Z)(this,"addNewFolderPlaceholder",function(e){var t=x.fh.FOLDER,n=-1===e?Y.getLatestColumnIndex():e;Y.addTempRow(t,"Untitled folder",x.R9.EDITING,n,{},!0)}),(0,l.Z)(this,"addNewFolder",(u=(0,i.Z)(d().mark(function e(t,n){var r,s,a,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=Y.sanitizeNameForDuplicateInColumn(t,!1,n))){e.next=4;break}return e.abrupt("return");case 4:if(/^[a-zA-Z0-9_-\s]*$/.test(r)){e.next=6;break}return e.abrupt("return",Y.ui.setNotification({message:"Folder name contains invalid special characters",category:"error",duration:8e3}));case 6:if(!(r.includes("/")||r.includes("\\"))){e.next=8;break}return e.abrupt("return",Y.ui.setNotification({message:"Folder names should not have forward or back slashes.",category:"error",duration:8e3}));case 8:if(0!==r.length){e.next=10;break}return e.abrupt("return",Y.removeTempRows(n));case 10:return Y.updateFolderAfterEdit(r,n),s="".concat(r,"/").concat(Z),i=(a=Y.openedFolders.slice(0,n).map(function(e){return e.name}).join("/")).length>0?"".concat(a,"/").concat(s):s,e.next=16,Y.supabaseClient.storage.from(Y.selectedBucket.name).upload(i,new File([],Z));case 16:if(!(a.length>0)){e.next=19;break}return e.next=19,(0,v.$v)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects"),{paths:["".concat(a,"/").concat(Z)]});case 19:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)})),(0,l.Z)(this,"setFilePreview",(y=(0,i.Z)(d().mark(function e(t){var n,r,s,a,i,o,c,l,u,p,m,f;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null===(n=t.metadata)||void 0===n?void 0:n.size,!((null===(r=t.metadata)||void 0===r?void 0:r.mimetype)&&s)){e.next=25;break}if(!(s>1e7)){e.next=6;break}return Y.selectedFilePreview=P(P({},t),{},{previewUrl:"skipped"}),e.abrupt("return");case 6:if(Y.selectedFilePreview=P(P({},t),{},{previewUrl:"loading"}),c=null!==(a=null==(o=(0,h.find)(Y.filePreviewCache,{id:t.id}))?void 0:o.fetchedAt)&&void 0!==a?a:null,l=null!==(i=null==o?void 0:o.expiresIn)&&void 0!==i?i:null,!(u=null!==c&&null!==l)||c+1e3*l<Date.now()){e.next=16;break}Y.selectedFilePreview=P(P({},t),{},{previewUrl:o.url}),e.next=23;break;case 16:return e.next=18,Y.fetchFilePreview(t.name);case 18:p=e.sent,m=Y.selectedBucket.public?"".concat(p,"?t=").concat(new Date().toISOString()):p,Y.selectedFilePreview=P(P({},t),{},{previewUrl:m}),f={id:t.id,url:p,expiresIn:31536e4,fetchedAt:Date.now()},u?Y.updateFileInPreviewCache(f):Y.addFileToPreviewCache(f);case 23:e.next=26;break;case 25:Y.selectedFilePreview=P(P({},t),{},{previewUrl:null});case 26:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)})),(0,l.Z)(this,"closeFilePreview",function(){Y.selectedFilePreview={}}),(0,l.Z)(this,"getFileUrl",(w=(0,i.Z)(d().mark(function e(t){var n,r,s,a,i,o,c=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:0,!(void 0!==(r=(0,h.find)(Y.filePreviewCache,{id:t.id}))&&0===n)){e.next=6;break}return e.abrupt("return",r.url);case 6:return e.next=8,Y.fetchFilePreview(t.name,n);case 8:return s=e.sent,(a=new URL(s)).searchParams.set("t",new Date().toISOString()),i=a.toString(),o={id:t.id,url:i,expiresIn:31536e4,fetchedAt:Date.now()},Y.addFileToPreviewCache(o),e.abrupt("return",i);case 15:case"end":return e.stop()}},e)})),function(e){return w.apply(this,arguments)})),(0,l.Z)(this,"openBucket",(k=(0,i.Z)(d().mark(function e(t){var n,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.name,(0,h.isEqual)(Y.selectedBucket,t)){e.next=6;break}return Y.setSelectedBucket(t),e.next=6,Y.fetchFolderContents(n,r,-1);case 6:case"end":return e.stop()}},e)})),function(e){return k.apply(this,arguments)})),(0,l.Z)(this,"getFile",(S=(0,i.Z)(d().mark(function e(t){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e,n){return t.file(e,n)});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("getFile error:",e.t0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return S.apply(this,arguments)})),(0,l.Z)(this,"getFilesDataTransferItems",(C=(0,i.Z)(d().mark(function e(t){var n,r,s,i,o,c,l,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Y.ui.setNotification({category:"loading",message:"Retrieving items to upload..."}),r=[],s=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(e))){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}(t);try{for(i.s();!(o=i.n()).done;)c=o.value,s.push(c.webkitGetAsEntry())}catch(e){i.e(e)}finally{i.f()}case 5:if(!(s.length>0)){e.next=25;break}if(!(l=s.shift()||{}).isFile){e.next=14;break}return e.next=10,Y.getFile(l);case 10:void 0!==(u=e.sent)&&(u.path=l.fullPath.slice(1),r.push(u)),e.next=23;break;case 14:if(!l.isDirectory){e.next=23;break}return e.t0=s.push,e.t1=s,e.t2=a.Z,e.next=20,Y.readAllDirectoryEntries(l.createReader());case 20:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 23:e.next=5;break;case 25:return g.ZP.dismiss(n),e.abrupt("return",r);case 27:case"end":return e.stop()}},e)})),function(e){return C.apply(this,arguments)})),(0,l.Z)(this,"readAllDirectoryEntries",(E=(0,i.Z)(d().mark(function e(t){var n,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Y.readEntriesPromise(t);case 3:r=e.sent;case 4:if(!(r.length>0)){e.next=11;break}return n.push.apply(n,(0,a.Z)(r)),e.next=8,Y.readEntriesPromise(t);case 8:r=e.sent,e.next=4;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e)})),function(e){return E.apply(this,arguments)})),(0,l.Z)(this,"readEntriesPromise",(I=(0,i.Z)(d().mark(function e(t){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e,n){t.readEntries(e,n)});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("readEntriesPromise error:",e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return I.apply(this,arguments)})),(0,l.Z)(this,"uploadFiles",(L=(0,i.Z)(d().mark(function e(t,n){var r,s,a,o,c,l,u,p,m,f,b,j,y,w,k,N,O,S,P,C=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=C.length>2&&void 0!==C[2]&&C[2],c=new Date,l=!0,!o){e.next=9;break}return e.next=6,Y.getFilesDataTransferItems(t);case 6:e.t0=e.sent.filter(function(e){return!e.path.includes("#/")}),e.next=10;break;case 9:e.t0=Array.from(t);case 10:return u=e.t0,p=-1===n?Y.getLatestColumnIndex():n,m=(null!==(r=null===(s=Y.columns)||void 0===s?void 0:null===(a=s[p])||void 0===a?void 0:a.items)&&void 0!==r?r:[]).filter(function(e){return!e.id}).map(function(e){return e.name}),f=u.map(function(e){if(!e.path)return e;var t=e.path.split("/"),r=t.length>1?t[0]:null;if(m.includes(r)){var s=Y.sanitizeNameForDuplicateInColumn(r,l,n);t[0]=s,e.path=t.join("/")}return e}),Y.uploadProgress=0,b=[],j=f.length,y=0,w=0,k=Y.openedFolders.slice(0,p).map(function(e){return e.name}).join("/"),N=Y.ui.setNotification({category:"loading",message:"Uploading ".concat(f.length," file").concat(f.length>1?"s":"","..."),description:_,progress:0}),O=f.map(function(e){var t,n={cacheControl:"3600"},r={mimetype:e.type,size:e.size},s=(null!==(t=null==e?void 0:e.path)&&void 0!==t?t:"").split("/").length>1,a=s?e.name:Y.sanitizeNameForDuplicateInColumn(e.name,l),o=(0,h.has)(e,["path"])&&s?e.path:a,c=k.length>0?"".concat(k,"/").concat(o):o;if(s){var u=e.path.split("/")[0];b.includes(u)||(Y.addTempRow(x.fh.FOLDER,u,x.R9.LOADING,p,r),b.push(u))}else Y.addTempRow(x.fh.FILE,a,x.R9.LOADING,p,r);return function(){return new Promise(function(){var t=(0,i.Z)(d().mark(function t(r){var s;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.supabaseClient.storage.from(Y.selectedBucket.name).upload(c,e,n);case 2:s=t.sent.error,Y.uploadProgress=Y.uploadProgress+1/f.length,s?(w+=1,Y.ui.setNotification({message:"Failed to upload ".concat(e.name,": ").concat(s.message),category:"error"})):y+=1,r();case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}),S=(0,h.chunk)(O,10),e.prev=23,e.next=26,S.reduce(function(){var e=(0,i.Z)(d().mark(function e(t,n){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,Promise.allSettled(n.map(function(e){return e()}));case 4:Y.ui.setNotification({id:N,category:"loading",message:"Uploading ".concat(f.length," file").concat(f.length>1?"s":"","..."),description:_,progress:100*Y.uploadProgress});case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 26:if(!(y>0)){e.next=29;break}return e.next=29,(0,v.$v)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects"),{paths:["".concat(k,"/").concat(Z)]});case 29:return e.next=31,Y.refetchAllOpenedFolders();case 31:0===j?g.ZP.dismiss(N):w===j?Y.ui.setNotification({id:N,category:"error",message:"Failed to upload ".concat(j," file").concat(j>1?"s":"","!")}):y===j?Y.ui.setNotification({id:N,category:"success",message:"Successfully uploaded ".concat(j," file").concat(j>1?"s":"","!")}):Y.ui.setNotification({id:N,category:"success",message:"Successfully uploaded ".concat(y," out of ").concat(j," file").concat(j>1?"s":"","!")}),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(23),Y.ui.setNotification({id:N,error:e.t1,message:"Failed to upload files",category:"error"});case 37:P=new Date,console.log("Total time taken for ".concat(f.length," files: ").concat((P-c)/1e3," seconds"));case 39:case"end":return e.stop()}},e,null,[[23,34]])})),function(e,t){return L.apply(this,arguments)})),(0,l.Z)(this,"moveFiles",(D=(0,i.Z)(d().mark(function e(t){var n,r,s,a,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,h.compact)(t.split("/")).join("/"),r=0,Y.clearSelectedItems(),s=(0,g.ZP)("Please do not close the browser until the move is completed",{duration:1/0}),e.next=7,Promise.all(Y.selectedItemsToMove.map(function(){var e=(0,i.Z)(d().mark(function e(s){var a,i,o,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(a=Y.openedFolders.slice(0,s.columnIndex).map(function(e){return e.name}).join("/")).length>0?"".concat(a,"/").concat(s.name):s.name,o=t.length>0?"".concat(n,"/").concat(s.name):s.name,e.next=5,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/move"),{from:i,to:o});case 5:(c=e.sent).error&&(r+=1,Y.ui.setNotification({category:"error",message:c.error.message}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 7:return r===Y.selectedItemsToMove.length?Y.ui.setNotification({message:"Failed to move files",category:"error"}):Y.ui.setNotification({message:"Successfully moved ".concat(Y.selectedItemsToMove.length-r," to ").concat(n),category:"success"}),g.ZP.dismiss(s),a=Y.selectedItemsToMove.map(function(e){return e.id}),o=Y.filePreviewCache.filter(function(e){return!a.includes(e.id)}),Y.filePreviewCache=o,e.next=14,Y.refetchAllOpenedFolders();case 14:Y.clearSelectedItemsToMove();case 15:case"end":return e.stop()}},e)})),function(e){return D.apply(this,arguments)})),(0,l.Z)(this,"fetchFilePreview",(A=(0,i.Z)(d().mark(function e(t){var n,r,s,a,i,o=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:0,s=(r=Y.getPathAlongOpenedFolders(!1)).length>0?"".concat(r,"/").concat(t):t,!Y.selectedBucket.public){e.next=15;break}return e.next=7,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/public-url"),{path:s});case 7:if((a=e.sent).error){e.next=12;break}return e.abrupt("return",a.publicUrl);case 12:Y.ui.setNotification({category:"error",message:"Failed to fetch public file preview: ".concat(a.error.message)});case 13:e.next=23;break;case 15:return e.next=17,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/sign"),{path:s,expiresIn:n||31536e4});case 17:if((i=e.sent).error){e.next=22;break}return e.abrupt("return",i.signedUrl);case 22:Y.ui.setNotification({category:"error",message:"Failed to fetch signed url preview: ".concat(i.error.message)});case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}},e)})),function(e){return A.apply(this,arguments)})),(0,l.Z)(this,"deleteFiles",(T=(0,i.Z)(d().mark(function e(t){var n,r,s,a,o,c,l,u,p=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]&&p[1],Y.closeFilePreview(),r=0,s=(0,h.some)(t,"prefix")?t.map(function(e){return"".concat(e.prefix,"/").concat(e.name)}):t.map(function(e){var t=e.name,n=e.columnIndex,r=Y.openedFolders.slice(0,n).map(function(e){return e.name}).join("/");return Y.updateRowStatus(t,x.R9.LOADING,n),r.length>0?"".concat(r,"/").concat(t):t}),Y.clearSelectedItems(),a=Y.ui.setNotification({category:"loading",message:"Deleting ".concat(s.length," file(s)..."),description:_,progress:0}),o=(0,h.chunk)(s,2).map(function(e){return function(){return r+=e.length/s.length,(0,v.$v)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.name,"/objects"),{paths:e})}}),e.next=9,(0,h.chunk)(o,2).reduce(function(){var e=(0,i.Z)(d().mark(function e(t,n){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,Promise.all(n.map(function(e){return e()}));case 4:Y.ui.setNotification({id:a,category:"loading",message:"Deleting ".concat(s.length," file(s)..."),description:_,progress:100*r});case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 9:if(c=t.map(function(e){return e.id}),l=Y.filePreviewCache.filter(function(e){return!c.includes(e.id)}),Y.filePreviewCache=l,n){e.next=22;break}return u=(0,h.uniq)(s.map(function(e){var t=e.split("/");return t.slice(0,t.length-1).join("/")})),e.next=16,Promise.all(u.map(function(e){return Y.validateParentFolderEmpty(e)}));case 16:return Y.ui.setNotification({id:a,category:"success",message:"Successfully deleted ".concat(s.length," file(s)")}),e.next=19,Y.refetchAllOpenedFolders();case 19:Y.clearSelectedItemsToDelete(),e.next=23;break;case 22:g.ZP.dismiss(a);case 23:case"end":return e.stop()}},e)})),function(e){return T.apply(this,arguments)})),(0,l.Z)(this,"downloadFolder",(R=(0,i.Z)(d().mark(function e(t){var n,r,s,a,o,c,l,u,p,f;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,r=Y.ui.setNotification({category:"loading",message:"Retrieving files from folder..."}),e.next=4,Y.getAllItemsAlongFolder(t);case 4:return s=e.sent,Y.ui.setNotification({id:r,category:"loading",message:"Downloading ".concat(s.length," files..."),description:_,progress:0}),a=s.map(function(e){var t,r,a=null!==(t=null===(r=e.metadata)||void 0===r?void 0:r.mimetype)&&void 0!==t?t:null;return function(){return new Promise(function(){var t=(0,i.Z)(d().mark(function t(r){var i,o;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/download"),{path:"".concat(e.prefix,"/").concat(e.name)});case 2:if(i=t.sent,n+=1/s.length,i.error){t.next=11;break}return t.next=7,i.blob();case 7:o=t.sent,r({name:e.name,prefix:e.prefix,blob:new Blob([o],{type:a})}),t.next=13;break;case 11:console.error("Failed to download file","".concat(e.prefix,"/").concat(e.name)),r(!1);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}),o=(0,h.chunk)(a,10),e.next=10,o.reduce(function(){var e=(0,i.Z)(d().mark(function e(t,a){var i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return i=e.sent,e.next=5,Promise.allSettled(a.map(function(e){return e()}));case 5:return o=e.sent,Y.ui.setNotification({id:r,category:"loading",message:"Downloading ".concat(s.length," file").concat(s.length>1?"s":"","..."),description:_,progress:100*n}),e.abrupt("return",(null!=i?i:[]).concat(o.map(function(e){return e.value}).filter(Boolean)));case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 10:if(c=e.sent,l=new m.U5("application/zip"),u=new m._Q(l,{bufferedWrite:!0}),0!==c.length){e.next=15;break}return e.abrupt("return",Y.ui.setNotification({id:r,category:"error",message:'Failed to download files from "'.concat(t.name,'"')}));case 15:return c.forEach(function(e){e.blob&&u.add("".concat(e.prefix,"/").concat(e.name),new m.Nt(e.blob))}),e.t0=URL,e.next=19,u.close();case 19:e.t1=e.sent,p=e.t0.createObjectURL.call(e.t0,e.t1),(f=document.createElement("a")).href=p,f.setAttribute("download","".concat(t.name,".zip")),document.body.appendChild(f),f.click(),f.parentNode.removeChild(f),Y.ui.setNotification({id:r,category:"success",message:c.length===s.length?'Successfully downloaded folder "'.concat(t.name,'"'):'Downloaded folder "'.concat(t.name,'". However, ').concat(s.length-c.length," files did not download successfully.")});case 28:case"end":return e.stop()}},e)})),function(e){return R.apply(this,arguments)})),(0,l.Z)(this,"downloadSelectedFiles",(z=(0,i.Z)(d().mark(function e(t){var n,r,s,o,c,l,u,p,f,g,x;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.min.apply(Math,(0,a.Z)(t.map(function(e){return e.columnIndex}))),r=t.map(function(e){var t=e.name,r=e.columnIndex,s=Y.openedFolders.slice(n,r).map(function(e){return e.name}).join("/"),a=s.length>0?"".concat(s,"/").concat(t):t;return P(P({},e),{},{formattedPathToFile:a})}),s=0,o=Y.ui.setNotification({category:"loading",message:"Downloading ".concat(t.length," files...")}),c=r.map(function(e){return function(){return new Promise(function(){var t=(0,i.Z)(d().mark(function t(n){var a;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.downloadFile(e,!1,!0);case 2:a=t.sent,s+=1/r.length,n(P(P({},a),{},{name:e.formattedPathToFile}));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}),l=(0,h.chunk)(c,10),e.next=10,l.reduce(function(){var e=(0,i.Z)(d().mark(function e(n,r){var a,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return a=e.sent,e.next=5,Promise.allSettled(r.map(function(e){return e()}));case 5:return i=e.sent,Y.ui.setNotification({id:o,category:"loading",message:"Downloading ".concat(t.length," file").concat(t.length>1?"s":"","..."),description:_,progress:100*s}),e.abrupt("return",(null!=a?a:[]).concat(i.map(function(e){return e.value}).filter(Boolean)));case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 10:return u=e.sent,p=new m.U5("application/zip"),f=new m._Q(p,{bufferedWrite:!0}),u.forEach(function(e){f.add(e.name,new m.Nt(e.blob))}),e.t0=URL,e.next=17,f.close();case 17:e.t1=e.sent,g=e.t0.createObjectURL.call(e.t0,e.t1),(x=document.createElement("a")).href=g,x.setAttribute("download","supabase-files.zip"),document.body.appendChild(x),x.click(),x.parentNode.removeChild(x),Y.ui.setNotification({id:o,category:"success",message:"Successfully downloaded ".concat(u.length," files")});case 26:case"end":return e.stop()}},e)})),function(e){return z.apply(this,arguments)})),(0,l.Z)(this,"downloadFile",(F=(0,i.Z)(d().mark(function e(t){var n,r,s,a,i,o,c,l,u,p,m,h,f,g,x=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=!(x.length>1)||void 0===x[1]||x[1],a=x.length>2&&void 0!==x[2]&&x[2],i=t.name,o=null!==(n=null==t?void 0:null===(r=t.metadata)||void 0===r?void 0:r.mimetype)&&void 0!==n?n:null,c=s?Y.ui.setNotification({category:"loading",message:"Retrieving ".concat(i,"...")}):void 0,u=(l=Y.openedFolders.slice(0,t.columnIndex).map(function(e){return e.name}).join("/")).length>0?"".concat(l,"/").concat(i):i,e.next=9,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/download"),{path:u});case 9:if((p=e.sent).error){e.next=29;break}return e.next=13,p.blob();case 13:if(m=e.sent,h=new Blob([m],{type:o}),!a){e.next=17;break}return e.abrupt("return",{name:i,blob:h});case 17:return f=window.URL.createObjectURL(h),(g=document.createElement("a")).href=f,g.setAttribute("download","".concat(i)),document.body.appendChild(g),g.click(),g.parentNode.removeChild(g),window.URL.revokeObjectURL(m),c&&Y.ui.setNotification({id:c,category:"success",message:"Downloading ".concat(i)}),e.abrupt("return",!0);case 29:return c&&Y.ui.setNotification({error:p.error,id:c,category:"error",message:"Failed to download ".concat(i)}),e.abrupt("return",!1);case 31:case"end":return e.stop()}},e)})),function(e){return F.apply(this,arguments)})),(0,l.Z)(this,"renameFile",(U=(0,i.Z)(d().mark(function e(t,n,r){var a,i,o,c,l,u,p;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.name)===n||0===n.length)){e.next=5;break}Y.updateRowStatus(a,x.R9.READY,r),e.next=23;break;case 5:return Y.updateRowStatus(a,x.R9.LOADING,r,n),o=(i=Y.getPathAlongOpenedFolders(!1)).length>0?"".concat(i,"/").concat(a):a,c=i.length>0?"".concat(i,"/").concat(n):n,e.next=12,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/move"),{from:o,to:c});case 12:if(!(l=e.sent).error){e.next=17;break}Y.ui.setNotification({category:"error",message:"Failed to rename file: ".concat(l.error.message)}),e.next=23;break;case 17:return Y.ui.setNotification({category:"success",message:'Successfully renamed "'.concat(a,'" to "').concat(n,'"')}),u=Y.filePreviewCache.filter(function(e){return e.id!==t.id}),Y.filePreviewCache=u,Y.selectedFilePreview.name===a&&(t.previewUrl,p=(0,s.Z)(t,N),Y.setFilePreview(P(P({},p),{},{name:n}))),e.next=23,Y.refetchAllOpenedFolders();case 23:case"end":return e.stop()}},e)})),function(e,t,n){return U.apply(this,arguments)})),(0,l.Z)(this,"fetchFolderContents",(M=(0,i.Z)(d().mark(function e(t,n,r){var s,a,i,o,c,l=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.length>3&&void 0!==l[3]?l[3]:"",void 0!==Y.selectedBucket.id){e.next=3;break}return e.abrupt("return");case 3:return Y.abortApiCalls(),Y.updateRowStatus(n,x.R9.LOADING,r),Y.pushColumnAtIndex({id:t,name:n,status:x.R9.LOADING,items:[]},r),a=Y.openedFolders.slice(0,r+1).map(function(e){return e.name}).join("/"),i={limit:200,offset:0,search:s,sortBy:{column:Y.sortBy,order:Y.sortByOrder}},e.next=10,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/list"),{path:a,options:i},{abortSignal:Y.abortController.signal});case 10:o=e.sent,Y.updateRowStatus(n,x.R9.READY,r),o.error?o.error.message.includes("aborted")||Y.ui.setNotification({error:o.error,category:"error",message:'Failed to retrieve folder contents from "'.concat(n,'": ').concat(o.error.message)}):(c=Y.formatFolderItems(o),Y.pushColumnAtIndex({id:t||n,name:n,items:c,hasMoreItems:200===c.length,isLoadingMoreItems:!1},r));case 13:case"end":return e.stop()}},e)})),function(e,t,n){return M.apply(this,arguments)})),(0,l.Z)(this,"fetchMoreFolderContents",(B=(0,i.Z)(d().mark(function e(t,n){var r,s,a,i,o,c=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:"",Y.setColumnIsLoadingMore(t),s=Y.openedFolders.map(function(e){return e.name}).join("/"),a={limit:200,offset:n.items.length,search:r,sortBy:{column:Y.sortBy,order:Y.sortByOrder}},e.next=6,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/list"),{path:s,options:a},{abortSignal:Y.abortController.signal});case 6:(i=e.sent).error?i.error.message.includes("aborted")||Y.ui.setNotification({error:i.error,category:"error",message:'Failed to retrieve folder contents from "'.concat(folderName,'": ').concat(i.error.message)}):(o=Y.formatFolderItems(i),Y.columns=Y.columns.map(function(e,n){return n===t?P(P({},e),{},{items:e.items.concat(o),isLoadingMoreItems:!1,hasMoreItems:200===i.length}):e}));case 8:case"end":return e.stop()}},e)})),function(e,t){return B.apply(this,arguments)})),(0,l.Z)(this,"refetchAllOpenedFolders",(0,i.Z)(d().mark(function e(){var t;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.openedFolders.map(function(e){return e.name}),e.next=3,Y.fetchFoldersByPath(t);case 3:case"end":return e.stop()}},e)}))),(0,l.Z)(this,"fetchFoldersByPath",(q=(0,i.Z)(d().mark(function e(t){var n,r,s,a,o,c=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"",r=c.length>2&&void 0!==c[2]&&c[2],void 0!==Y.selectedBucket.id){e.next=4;break}return e.abrupt("return");case 4:return s=[""].concat(t),r&&(Y.columns=[Y.selectedBucket.name].concat(t).map(function(e){return{id:e,name:e,status:x.R9.LOADING,items:[]}})),e.next=8,Promise.all(s.map(function(){var e=(0,i.Z)(d().mark(function e(r,s){var a,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(0,s).join("/"),i={limit:200,offset:0,search:n,sortBy:{column:Y.sortBy,order:Y.sortByOrder}},e.next=4,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/list"),{path:a,options:i});case 4:if(!(o=e.sent).error){e.next=8;break}return Y.ui.setNotification({error:o.error,category:"error",message:"Failed to fetch folders: ".concat(o.error.message)}),e.abrupt("return",[]);case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 8:a=e.sent.map(function(e,t){var n=Y.formatFolderItems(e);return{id:null,name:0===t?Y.selectedBucket.name:s[t],items:n,hasMoreItems:200===n.length,isLoadingMoreItems:!1}}),Y.columns=a,o=t.map(function(e,t){return(0,h.find)(a[t].items,{name:e})||{id:null,name:e,type:x.fh.FOLDER,status:x.R9.READY}}),Y.openedFolders=o;case 13:case"end":return e.stop()}},e)})),function(e){return q.apply(this,arguments)})),(0,l.Z)(this,"validateParentFolderEmpty",(W=(0,i.Z)(d().mark(function e(t){var n,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.id,"/objects/list"),{path:t,options:Y.DEFAULT_OPTIONS});case 2:if(!(!(n=e.sent).error&&0===n.length)){e.next=7;break}return r="".concat(t,"/").concat(Z),e.next=7,Y.supabaseClient.storage.from(Y.selectedBucket.name).upload(r,new File([],Z));case 7:case"end":return e.stop()}},e)})),function(e){return W.apply(this,arguments)})),(0,l.Z)(this,"deleteFolder",(V=(0,i.Z)(d().mark(function e(t){var n,r,s,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.next=3,Y.getAllItemsAlongFolder(t);case 3:return s=e.sent,e.next=6,Y.deleteFiles(s,r);case 6:if((null===(n=Y.openedFolders[Y.openedFolders.length-1])||void 0===n?void 0:n.name)===t.name&&(Y.popColumnAtIndex(t.columnIndex),Y.popOpenedFoldersAtIndex(t.columnIndex-1)),!((a=Y.openedFolders.map(function(e){return e.name}).join("/")).length>0)){e.next=12;break}return e.next=12,Y.validateParentFolderEmpty(a);case 12:return e.next=14,Y.refetchAllOpenedFolders();case 14:Y.clearSelectedItemsToDelete(),Y.ui.setNotification({category:"success",message:"Successfully deleted ".concat(t.name)});case 16:case"end":return e.stop()}},e)})),function(e){return V.apply(this,arguments)})),(0,l.Z)(this,"renameFolder",(G=(0,i.Z)(d().mark(function e(t,n,r){var s,a,o,c,l,u,p,m,f;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=t.name)!==n){e.next=3;break}return e.abrupt("return",Y.updateRowStatus(s,x.R9.READY,r));case 3:if(a=Y.ui.setNotification({category:"loading",message:"Renaming folder to ".concat(n),description:_,progress:0}),!(n.includes("/")||n.includes("\\"))){e.next=6;break}return e.abrupt("return",Y.ui.setNotification({message:"Folder name cannot contain forward or back slashes.",type:"error"}));case 6:return Y.updateRowStatus(s,x.R9.LOADING,r,n),e.next=9,Y.getAllItemsAlongFolder(t);case 9:return o=e.sent,c=0,l=!1,u=o.map(function(e){var t="".concat(e.prefix,"/").concat(e.name),s=t.split("/"),a=s.slice(0,r).concat(n).concat(s.slice(r+1)).join("/");return function(){return new Promise(function(){var e=(0,i.Z)(d().mark(function e(n){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c+=1/o.length,e.next=3,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.name,"/objects/move"),{from:t,to:a});case 3:e.sent.error&&(l=!0,Y.ui.setNotification({category:"error",message:"Failed to move ".concat(t," to the new folder")})),n();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}),p=(0,h.chunk)(u,2),e.prev=14,e.next=17,p.reduce(function(){var e=(0,i.Z)(d().mark(function e(t,r){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,Promise.all(r.map(function(e){return e()}));case 4:Y.ui.setNotification({id:a,category:"loading",message:"Renaming folder to ".concat(n),description:_,progress:100*c});case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 17:return l?Y.ui.setNotification({id:a,message:"Renamed folder to ".concat(n," with some errors"),category:"error"}):Y.ui.setNotification({id:a,message:"Successfully renamed folder to ".concat(n),category:"success"}),e.next=20,Y.refetchAllOpenedFolders();case 20:m=o.map(function(e){return e.id}),f=Y.filePreviewCache.filter(function(e){return!m.includes(e.id)}),Y.filePreviewCache=f,e.next=28;break;case 25:e.prev=25,e.t0=e.catch(14),Y.ui.setNotification({id:a,message:"Failed to rename folder to ".concat(n),category:"error"});case 28:case"end":return e.stop()}},e,null,[[14,25]])})),function(e,t,n){return G.apply(this,arguments)})),(0,l.Z)(this,"getAllItemsAlongFolder",(H=(0,i.Z)(d().mark(function e(t){var n,r,s,a,i,o,c,l,u,p,m,h,f,g;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o="",c=t.name,l=t.columnIndex,o=void 0===(u=t.prefix)?(p=Y.openedFolders.slice(0,l).map(function(e){return e.name}).join("/")).length>0?"".concat(p,"/").concat(c):c:"".concat(u,"/").concat(c),m={limit:1e4,offset:0,sortBy:{column:Y.sortBy,order:Y.sortByOrder}},h=[];case 6:return e.next=8,(0,v.v_)("".concat(Y.endpoint,"/buckets/").concat(Y.selectedBucket.name,"/objects/list"),{path:o,options:m});case 8:if(f=e.sent,h=h.concat(f),m.offset+=m.limit,!((f||[]).length<m.limit)){e.next=13;break}return e.abrupt("break",15);case 13:e.next=6;break;case 15:return g=null!==(n=null===(r=h)||void 0===r?void 0:r.filter(function(e){return null===e.id}))&&void 0!==n?n:[],(null!==(s=null===(a=h)||void 0===a?void 0:a.filter(function(e){return null!==e.id}))&&void 0!==s?s:[]).forEach(function(e){return i.push(P(P({},e),{},{prefix:o}))}),e.next=20,Promise.all(g.map(function(e){return Y.getAllItemsAlongFolder(P(P({},e),{},{prefix:o}))}));case 20:return e.sent.map(function(e){e.map(function(e){return i.push(e)})}),e.abrupt("return",i);case 23:case"end":return e.stop()}},e)})),function(e){return H.apply(this,arguments)})),(0,l.Z)(this,"sanitizeNameForDuplicateInColumn",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y.getLatestColumnIndex(),s=Y.columns[n].items.filter(function(e){return e.status!==x.R9.EDITING});if(s.filter(function(t){return t.name===e}).length>0){if(!t)return Y.ui.setNotification({message:"The name ".concat(e," already exists in the current directory. Please use a different name."),category:"error",duration:4e3}),null;var a=e.split("."),i=(0,r.Z)(a,2),o=i[0],c=i[1],l=new RegExp("".concat(o," \\([-0-9]+\\)").concat(c?"."+c:"","$")),u=s.filter(function(e){return e.name.match(l)}),d=o+" (".concat(u.length+1,")");return c?"".concat(d,".").concat(c):d}return e}),(0,l.Z)(this,"formatFolderItems",function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null!==(e=null===(t=null!=n?n:[])||void 0===t?void 0:t.filter(function(e){return e.name!==Z}).map(function(e){var t=e.id?x.fh.FILE:x.fh.FOLDER,n=Number(new Date)-Number(new Date(e.created_at)),r=t===x.fh.FILE&&!e.metadata&&n>=9e5,s=t===x.fh.FILE&&!e.metadata&&n<=9e5?x.R9.LOADING:x.R9.READY;return P(P({},e),{},{type:t,status:s,isCorrupted:r})}))&&void 0!==e?e:[]}),(0,l.Z)(this,"addTempRow",function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=Y.columns.map(function(i,o){if(o===r){var c={type:e,name:t,status:n,metadata:s},l=a?[c].concat(i.items):i.items.concat([c]);return P(P({},i),{},{items:l})}return i});Y.columns=i}),(0,l.Z)(this,"removeTempRows",function(e){var t=Y.columns.map(function(t,n){if(n===e){var r=t.items.filter(function(e){return(0,h.has)(e,"id")});return P(P({},t),{},{items:r})}return t});Y.columns=t}),(0,l.Z)(this,"setSelectedItemToRename",function(e){Y.updateRowStatus(e.name,x.R9.EDITING,e.columnIndex)}),(0,l.Z)(this,"updateRowStatus",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y.getLatestColumnIndex(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=Y.columns.map(function(s,a){if(a===n){var i=s.items.map(function(n){return n.name===e?P(P({},n),{},{status:t},r&&{name:r}):n});return P(P({},s),{},{items:i})}return s});Y.columns=s}),(0,l.Z)(this,"updateFolderAfterEdit",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y.getLatestColumnIndex(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.R9.READY,r=Y.columns.map(function(r,s){if(s===t){var a=r.items.map(function(t){if(t.status===x.R9.EDITING){var r=new Date().toISOString();return P(P({},t),{},{status:n,name:e,createdAt:r,lastAccessedAt:r,updatedAt:r,metadata:null,id:null})}return t});return P(P({},r),{},{items:a})}return r});Y.columns=r}),(0,l.Z)(this,"updateExplorerPreferences",function(){var e=Y.getLocalStorageKey(),t={view:Y.view,sortBy:Y.sortBy,sortByOrder:Y.sortByOrder};return localStorage.setItem(e,JSON.stringify(t)),t}),(0,l.Z)(this,"loadExplorerPreferences",function(){var e,t,n=Y.getLocalStorageKey(),r=null!==(e=null===(t=localStorage)||void 0===t?void 0:t.getItem(n))&&void 0!==e?e:void 0;if(void 0!==r){var s=JSON.parse(r),a=s.view,i=s.sortBy,o=s.sortByOrder;Y.view=a,Y.sortBy=i,Y.sortByOrder=o}else{var c=Y.updateExplorerPreferences(),l=c.view,u=c.sortBy,d=c.sortByOrder;Y.view=l,Y.sortBy=u,Y.sortByOrder=d}}),(0,l.Z)(this,"selectRangeItems",function(e,t){var n=Y.columns[e].items,r=n[t],s=Y.selectedItems.map(function(e){return e.id}),a=s[s.length-1],i=(0,h.findIndex)(n,{id:a}),o=Math.min(t,i),c=Math.max(t,i),l=n.slice(o,c+1).map(function(t){return P(P({},t),{},{columnIndex:e})});if(t<i&&l.reverse(),s.includes(r.id)){var u=l.map(function(e){return e.id});Y.setSelectedItems(Y.selectedItems.filter(function(e){return e.id===r.id||!u.includes(e.id)}))}else Y.setSelectedItems((0,h.uniqBy)(Y.selectedItems.concat(l),"id"))}),(0,f.ky)(this,{supabaseClient:!1}),this.projectRef=t,this.ui=(0,b.oR)().ui,this.abortController=new AbortController}return(0,c.Z)(e,[{key:"initStore",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;this.projectRef=e,this.endpoint="".concat(j.T5,"/storage/").concat(e),void 0!==n&&this.initializeSupabaseClient(n,t,r)}},{key:"currentBucketName",get:function(){return this.selectedBucket.name}}]),e}()},59485:function(e,t,n){n.d(t,{x5:function(){return i}});var r=n(9162),s=n(4741),a=(0,r.sj)({vercelConnectionsOpen:!1,setVercelConnectionsOpen:function(e){a.vercelConnectionsOpen=e},vercelConnectionsIntegrationId:void 0,setVercelConnectionsIntegrationId:function(e){a.vercelConnectionsIntegrationId=e},githubConnectionsOpen:!1,setGithubConnectionsOpen:function(e){a.githubConnectionsOpen=e},githubConnectionsIntegrationId:void 0,setGithubConnectionsIntegrationId:function(e){a.githubConnectionsIntegrationId=e}}),i=function(e){return(0,s.R)(a,e)}},90394:function(e,t,n){n.d(t,{Rw:function(){return u},vc:function(){return c.Z},RB:function(){return l},UW:function(){return o}});var r,s,a,i,o=[{text:"Working with @supabase has been one of the best dev experiences I've had lately. Incredibly easy to set up, great documentation, and so many fewer hoops to jump through than the competition. I definitely plan to use it on any and all future projects.",url:"https://twitter.com/thatguy_tex/status/1497602628410388480",handle:"thatguy_tex",img_url:"/images/twitter-profiles/09HouOSt_400x400.jpg"},{text:"@supabase is just \uD83E\uDD2F Now I see why a lot of people love using it as a backend for their applications. I am really impressed with how easy it is to set up an Auth and then just code it together for the frontend. @IngoKpp now I see your joy with Supabase #coding #fullstackwebdev",url:"https://twitter.com/IxoyeDesign/status/1497473731777728512",handle:"IxoyeDesign",img_url:"/images/twitter-profiles/C8opIL-g_400x400.jpg"},{text:"I've been using @supabase for two personal projects and it has been amazing being able to use the power of Postgres and don't have to worry about the backend",url:"https://twitter.com/varlenneto/status/1496595780475535366",handle:"varlenneto",img_url:"/images/twitter-profiles/wkXN0t_F_400x400.jpg"},{text:"Y'all @supabase + @nextjs is amazing! \uD83D\uDE4C Barely an hour into a proof-of-concept and already have most of the functionality in place. \uD83E\uDD2F\uD83E\uDD2F\uD83E\uDD2F",url:"https://twitter.com/justinjunodev/status/1500264302749622273",handle:"justinjunodev",img_url:"/images/twitter-profiles/9k_ZB9OO_400x400.jpg"},{text:"And thanks to @supabase, I was able to go from idea to launched feature in a matter of hours. Absolutely amazing!",url:"https://twitter.com/BraydonCoyer/status/1511071369731137537",handle:"BraydonCoyer",img_url:"/images/twitter-profiles/8YxkpW8f_400x400.jpg"},{text:"Contributing to open-source projects and seeing merged PRs gives enormous happiness! Special thanks to @supabase, for giving this opportunity by staying open-source and being junior-friendly✌\uD83C\uDFFC",url:"https://twitter.com/damlakoksal/status/1511436907984662539",handle:"damlakoksal",img_url:"/images/twitter-profiles/N8EfTFs7_400x400.jpg"},{text:"Holy crap. @supabase is absolutely incredible. Most elegant backend as a service I've ever used. This is a dream.",url:"https://twitter.com/kentherogers/status/1512609587110719488",handle:"KenTheRogers",img_url:"/images/twitter-profiles/9l9Td-Fz_400x400.jpg"},{text:"Over the course of a few weeks, we migrated 125.000 users (email/pw, Gmail, Facebook, Apple logins) from Auth0 to @supabase and have now completed the migration. I'm just glad the migration is done \uD83D\uDE05 Went well, besides a few edge cases (duplicate emails/linked accounts)",url:"https://twitter.com/kevcodez/status/1518548401587204096",handle:"kevcodez",img_url:"/images/twitter-profiles/t6lpcRcn_400x400.jpg"},{text:"Using @supabase I'm really pleased on the power of postgres (and sql in general). Despite being a bit dubious about the whole backend as a service thing I have to say I really don't miss anything. The whole experience feel very robust and secure.",url:"https://twitter.com/paoloricciuti/status/1497691838597066752",handle:"PaoloRicciuti",img_url:"/images/twitter-profiles/OCDKFUOp_400x400.jpg"},{text:"@supabase is lit. It took me less than 10 minutes to setup, the DX is just amazing.",url:"https://twitter.com/saxxone/status/1500812171063828486",handle:"saxxone",img_url:"/images/twitter-profiles/BXi6z1M7_400x400.jpg"},{text:"I’m not sure what magic @supabase is using but we’ve migrated @happyteamsdotio database to @supabase from @heroku and it’s much much faster at half the cost.",url:"https://twitter.com/michaelcdever/status/1524753565599690754",handle:"michaelcdever",img_url:"/images/twitter-profiles/rWX8Jzp5_400x400.jpg"},{text:"There are a lot of indie hackers building in public, but it’s rare to see a startup shipping as consistently and transparently as Supabase. Their upcoming March releases look to be \uD83D\uDD25 Def worth a follow! also opened my eyes as to how to value add in open source.",url:"https://twitter.com/swyx/status/1366685025047994373",handle:"swyx",img_url:"/images/twitter-profiles/qhvO9V6x_400x400.jpg"},{text:"This weekend I made a personal record \uD83E\uDD47 on the less time spent creating an application with social login / permissions, database, cdn, infinite scaling, git push to deploy and for free. Thanks to @supabase and @vercel",url:"https://twitter.com/jperelli/status/1366195769657720834",handle:"jperelli",img_url:"/images/twitter-profiles/_ki30kYo_400x400.jpg"},{text:"Badass! Supabase is amazing. literally saves our small team a whole engineer’s worth of work constantly. The founders and everyone I’ve chatted with at supabase are just awesome people as well :)",url:"https://twitter.com/KennethCassel/status/1524359528619384834",handle:"KennethCassel",img_url:"/images/twitter-profiles/pmQj3TX-_400x400.jpg"},{text:"Working with Supabase is just fun. It makes working with a DB so much easier.",url:"https://twitter.com/the_BrianB/status/1524716498442276864",handle:"the_BrianB",img_url:"/images/twitter-profiles/7NITI8Z3_400x400.jpg"},{text:"This community is STRONG and will continue to be the reason why developers flock to @supabase over an alternative. Keep up the good work! ⚡️",url:"https://twitter.com/_wilhelm__/status/1524074865107488769",handle:"_wilhelm__",img_url:"/images/twitter-profiles/CvqDy6YF_400x400.jpg"},{text:"Working on my next SaaS app and I want this to be my whole job because I'm just straight out vibing putting it together. @supabase and chill, if you will",url:"https://twitter.com/drewclemcr8/status/1523843155484942340",handle:"drewclemcr8",img_url:"/images/twitter-profiles/bJlKtSxz_400x400.jpg"},{text:"@supabase Putting a ton of well-explained example API queries in a self-building documentation is just a classy move all around. I also love having GraphQL-style nested queries with traditional SQL filtering. This is pure DX delight. A+++. #backend",url:"https://twitter.com/CodiferousCoder/status/1522233113207836675",handle:"CodiferousCoder",img_url:"/images/twitter-profiles/t37cVLwy_400x400.jpg"},{text:"Me using @supabase for the first time right now \uD83E\uDD2F",url:"https://twitter.com/nasiscoe/status/1365140856035024902",handle:"nasiscoe",img_url:"/images/twitter-profiles/nc2Ms5hH_400x400.jpg"},{text:"I'm trying @supabase, Firebase alternative that uses PostgreSQL (and you can use GraphQL too) in the cloud. It's incredible \uD83D\uDE0D",url:"https://twitter.com/JP__Gallegos/status/1365699468109242374",handle:"JP__Gallegos",img_url:"/images/twitter-profiles/1PH2mt6v_400x400.jpg"},{text:"Check out this amazing product @supabase. A must give try #newidea #opportunity",url:"https://twitter.com/digitaldaswani/status/1364447219642814464",handle:"digitaldaswani",img_url:"/images/twitter-profiles/w8HLdlC7_400x400.jpg"},{text:"I gave @supabase a try this weekend and I was able to create a quick dashboard to visualize the data from the PostgreSQL instance. It's super easy to use Supabase's API or the direct DB connection. Check out the tutorial \uD83D\uDCD6",url:"https://twitter.com/razvanilin/status/1363770020581412867",handle:"razvanilin",img_url:"/images/twitter-profiles/AiaH9vJ2_400x400.jpg"},{text:"Tried @supabase for the first time yesterday. Amazing tool! I was able to get my Posgres DB up in no time and their documentation on operating on the DB is super easy! \uD83D\uDC4F Can't wait for Cloud functions to arrive! It's gonna be a great Firebase alternative!",url:"https://twitter.com/chinchang457/status/1363347740793524227",handle:"chinchang457",img_url:"/images/twitter-profiles/LTw5OCnv_400x400.jpg"},{text:"10/100 All day i was migrating my project from firebase to @supabase Because it is perfect and simple!!! I like design and API for understandable. There are in BETA now. Just try!\uD83E\uDDEA",url:"https://twitter.com/roomahhka/status/1363155396391763971",handle:"roomahhka",img_url:"/images/twitter-profiles/e_2eQt6C_400x400.jpg"},{text:"I gave @supabase a try today and I was positively impressed! Very quick setup to get a working remote database with API access and documentation generated automatically for you \uD83D\uDC4C 10/10 will play more",url:"https://twitter.com/razvanilin/status/1363002398738800640",handle:"razvanilin",img_url:"/images/twitter-profiles/AiaH9vJ2_400x400.jpg"},{text:"Wait. Is it so easy to write queries for @supabase ? It's like simple SQL stuff!",url:"https://twitter.com/T0ny_Boy/status/1362911838908911617",handle:"T0ny_Boy",img_url:"/images/twitter-profiles/UCBhUBZl_400x400.jpg"},{text:"Jeez, and @supabase have native support for magic link login?! I was going to use http://magic.link for this But if I can get my whole DB + auth + magic link support in one... Awesome",url:"https://twitter.com/louisbarclay/status/1362016666868154371",handle:"louisbarclay",img_url:"/images/twitter-profiles/6f1O8ZOW_400x400.jpg"},{text:"Where has @supabase been all my life? \uD83D\uDE0D",url:"https://twitter.com/Elsolo244/status/1360257201911320579",handle:"Elsolo244",img_url:"/images/twitter-profiles/v6citnk33y2wpeyzrq05_400x400.jpeg"},{text:"Honestly Supabase is such a killer Firebase alternative.",url:"https://twitter.com/XPCheese/status/1360229397735895043",handle:"XPCheese",img_url:"/images/twitter-profiles/eYP6YXr7_400x400.jpg"},{text:"I think you'll love @supabase :-) Open-source, PostgreSQL-based & zero magic.",url:"https://twitter.com/zippoxer/status/1360021315852328961",handle:"zippoxer",img_url:"/images/twitter-profiles/6rd3xub9_400x400.png"},{text:"@supabase is insane.",url:"https://twitter.com/codewithbhargav/status/1357647840911126528",handle:"codewithbhargav",img_url:"/images/twitter-profiles/LQYfHXBp_400x400.jpg"},{text:"It’s fun, feels lightweight, and really quick to spin up user auth and a few tables. Almost too easy! Highly recommend.",url:"https://twitter.com/nerdburn/status/1356857261495214085",handle:"nerdburn",img_url:"/images/twitter-profiles/66VSV9Mm_400x400.png"},{text:"Now things are starting to get interesting! Firebase has long been the obvious choice for many #flutter devs for the ease of use. But their databases are NoSQL, which has its downsides... Seems like @supabase is working on something interesting here!",url:"https://twitter.com/RobertBrunhage/status/1356973695865085953",handle:"RobertBrunhage",img_url:"/images/twitter-profiles/5LMWEACf_400x400.jpg"},{text:"Honestly, I really love what @supabase is doing, you don't need to own a complete backend, just write your logic within your app and you'll get a powerful Postgresql at your disposal.",url:"https://twitter.com/NavicsteinR/status/1356927229217959941",handle:"NavicsteinR",img_url:"/images/twitter-profiles/w_zNZAs7_400x400.jpg"},{text:"I've really enjoyed the DX! Extremely fun to use, which is odd to say about a database at least for me.",url:"https://twitter.com/Soham_Asmi/status/1373086068132745217",handle:"Soham_Asmi",img_url:"/images/twitter-profiles/Os4nhKIr_400x400.jpg"},{text:"Supabase team is doing some awesome stuff #supabase #facts @supabase",url:"https://twitter.com/_strawbird/status/1372607500499841025",handle:"_strawbird",img_url:"/images/twitter-profiles/iMBvvQdn_400x400.jpg"},{text:"Did a website with @supabase last week with no prior experience with it. Up and running in 20 minutes. It's awesome to use. Thumbs up",url:"https://twitter.com/michael_webdev/status/1352885366928404481?s=20",handle:"michael_webdev",img_url:"/images/twitter-profiles/SvAyLaWV_400x400.jpg"},{text:"I just learned about @supabase and im in love \uD83D\uDE0D Supabase is an open source Firebase alternative! EarListen (& react) to database changes \uD83D\uDC81 Manage users & permissions \uD83D\uDD27 Simple UI for database interaction",url:"https://twitter.com/0xBanana/status/1373677301905362948",handle:"0xBanana",img_url:"/images/twitter-profiles/pgHIGqZ0_400x400.jpg"}],c=n(2135);n(3382),n(5434),(a=r||(r={})).DATABASE="Database",a.AUTHENTICATION="Authentication",a.STORAGE="Storage",a.FUNCTIONS="Edge Functions",a.REALTIME="Realtime",a.VECTOR="Vector",(i=s||(s={})).DATABASE="database",i.AUTHENTICATION="authentication",i.STORAGE="storage",i.FUNCTIONS="functions",i.REALTIME="realtime",i.VECTOR="vector";var l={database:{name:r.DATABASE,icon:{16:"M3.502 6h8.996v4H3.502V6ZM3 10.002h10v4H3v-4ZM3 2h10v4H3V2Z",18:"M3.00829 6.33225H15.1778V11.6648H3.00829V6.33225Z M2 13.0839C2 12.3016 2.63418 11.6674 3.41647 11.6674H14.7483C15.5306 11.6674 16.1648 12.3016 16.1648 13.0839V15.5835C16.1648 16.3658 15.5306 17 14.7483 17H3.41647C2.63418 17 2 16.3658 2 15.5835V13.0839Z M2 2.41647C2 1.63418 2.63418 1 3.41647 1H14.7483C15.5306 1 16.1648 1.63418 16.1648 2.41647V4.9161C16.1648 5.6984 15.5306 6.33257 14.7483 6.33257H3.41647C2.63418 6.33257 2 5.6984 2 4.9161V2.41647Z",24:"M5.18625 8.66531H19.5035V15.331H5.18625V8.66531Z M4 17.0007C4 16.0804 4.7461 15.3343 5.66645 15.3343H18.9984C19.9187 15.3343 20.6648 16.0804 20.6648 17.0007V20.3335C20.6648 21.2539 19.9187 22 18.9984 22H5.66646C4.7461 22 4 21.2539 4 20.3335V17.0007Z M4 3.66646C4 2.7461 4.7461 2 5.66645 2H18.9984C19.9187 2 20.6648 2.7461 20.6648 3.66645V6.99926C20.6648 7.91962 19.9187 8.66572 18.9984 8.66572H5.66646C4.7461 8.66572 4 7.91962 4 6.99926V3.66646Z"}},authentication:{name:r.AUTHENTICATION,icon:{16:"M3.49414 9.97461H8.49414M3.49414 9.97461V11.9746H8.49414V9.97461M3.49414 9.97461V7.97461H8.49414V9.97461M10 5V3C10 1.89543 9.10457 1 8 1C6.89543 1 6 1.89543 6 3V5M3.47266 7L3.47266 12C3.47266 13.1046 4.36809 14 5.47266 14H10.4727C11.5772 14 12.4727 13.1046 12.4727 12V7C12.4727 5.89543 11.5772 5 10.4727 5L5.47266 5C4.36809 5 3.47266 5.89543 3.47266 7Z",18:"M3.02644 12.0457H9.18048M3.02644 12.0457V14.5072H9.18048V12.0457M3.02644 12.0457V9.58414H9.18048V12.0457M11.0339 5.92308V3.46154C11.0339 2.10207 9.93179 1 8.57228 1C7.21277 1 6.11067 2.10207 6.11067 3.46154V5.92308M3 8.38465L3 14.5384C3 15.8979 4.10208 17 5.46157 17H11.6157C12.9752 17 14.0773 15.8979 14.0773 14.5384V8.38465C14.0773 7.02516 12.9752 5.92308 11.6157 5.92308L5.46158 5.92308C4.10209 5.92308 3 7.02516 3 8.38465Z",24:"M5.03305 15.8071H12.7252M5.03305 15.8071V18.884H12.7252V15.8071M5.03305 15.8071V12.7302H12.7252V15.8071M15.0419 8.15385V5.07692C15.0419 3.37759 13.6643 2 11.965 2C10.2657 2 8.88814 3.37759 8.88814 5.07692V8.15385M5 11.2307L5 18.9231C5 20.6224 6.37757 22 8.07689 22H15.769C17.4683 22 18.8459 20.6224 18.8459 18.9231V11.2307C18.8459 9.53142 17.4683 8.15385 15.769 8.15385L8.07689 8.15385C6.37757 8.15385 5 9.53142 5 11.2307Z"}},storage:{name:r.STORAGE,icon:{16:"M12.9997 7.50869V5.60119L9.38151 2.00024H3.99967C3.44739 2.00024 2.99967 2.44796 2.99967 3.00024V5.99976M12.9645 5.58447L9.38004 2L9.38004 4.58447C9.38004 5.13676 9.82776 5.58447 10.38 5.58447L12.9645 5.58447ZM4.44135 5.99976H2.97363C2.42135 5.99976 1.97363 6.44747 1.97363 6.99976V11.9998C1.97363 13.1043 2.86906 13.9998 3.97363 13.9998H11.9736C13.0782 13.9998 13.9736 13.1043 13.9736 11.9998V8.50869C13.9736 7.95641 13.5259 7.50869 12.9736 7.50869H6.79396C6.53157 7.50869 6.27968 7.40556 6.09263 7.22153L5.14268 6.28692C4.95563 6.10289 4.70375 5.99976 4.44135 5.99976Z",18:"M15.7014 8.34507V5.80169L10.8772 1.00033H3.7014C2.96501 1.00033 2.36805 1.59728 2.36805 2.33367V6.33312M15.6545 5.77939L10.8752 1L10.8752 4.44605C10.8752 5.18243 11.4722 5.77939 12.2086 5.77939L15.6545 5.77939ZM4.29028 6.33312H2.33335C1.59696 6.33312 1 6.93008 1 7.66647V14.3333C1 15.8061 2.19392 17 3.66669 17H14.3333C15.8061 17 17 15.8061 17 14.3333V9.67842C17 8.94203 16.403 8.34507 15.6667 8.34507H7.42712C7.07725 8.34507 6.7414 8.20755 6.492 7.96218L5.2254 6.71601C4.976 6.47063 4.64015 6.33312 4.29028 6.33312Z",24:"M20.4997 12.1386V9.15811L14.8463 3.53163H6.43717C5.57423 3.53163 4.87467 4.23119 4.87467 5.09413V9.78087M20.4447 9.13199L14.844 3.53125L14.844 7.56949C14.844 8.43243 15.5436 9.13199 16.4065 9.13199L20.4447 9.13199ZM7.12729 9.78087H4.83398C3.97104 9.78087 3.27148 10.4804 3.27148 11.3434V19.1559C3.27148 20.8818 4.67059 22.2809 6.39648 22.2809H18.8965C20.6224 22.2809 22.0215 20.8818 22.0215 19.1559V13.7011C22.0215 12.8381 21.3219 12.1386 20.459 12.1386H10.8032C10.3933 12.1386 9.99969 11.9774 9.70743 11.6899L8.22312 10.2296C7.93086 9.94202 7.53729 9.78087 7.12729 9.78087Z"}},functions:{name:r.FUNCTIONS,icon:{16:"M1.857 11.36a7 7 0 0 1 9.41-9.551M4.774 14.212a7 7 0 0 0 9.41-9.497m-8.812 7.845a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm9.296-9.13a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM12.5 8a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z",18:"M5.31216 16.101C6.41582 16.6754 7.67021 17 9.00043 17C13.419 17 17.0009 13.4183 17.0009 9C17.0009 7.66622 16.6744 6.40868 16.0971 5.30289M12.7352 1.92336C11.6203 1.33382 10.3494 1 9.00043 1C4.58192 1 1 4.58172 1 9C1 10.3615 1.34015 11.6436 1.94012 12.766M1.94012 12.766C1.61762 13.16 1.42413 13.6637 1.42413 14.2126C1.42413 15.475 2.44753 16.4983 3.70997 16.4983C4.9724 16.4983 5.99581 15.475 5.99581 14.2126C5.99581 12.9502 4.9724 11.9269 3.70997 11.9269C2.99646 11.9269 2.35931 12.2538 1.94012 12.766ZM16.6199 3.7793C16.6199 5.04166 15.5965 6.06501 14.3341 6.06501C13.0716 6.06501 12.0482 5.04166 12.0482 3.7793C12.0482 2.51693 13.0716 1.49358 14.3341 1.49358C15.5965 1.49358 16.6199 2.51693 16.6199 3.7793ZM14.1436 9C14.1436 11.8403 11.8409 14.1429 9.00043 14.1429C6.15996 14.1429 3.8573 11.8403 3.8573 9C3.8573 6.15968 6.15996 3.85714 9.00043 3.85714C11.8409 3.85714 14.1436 6.15968 14.1436 9Z",24:"M6.6594 21.8201C8.10788 22.5739 9.75418 23 11.5 23C17.299 23 22 18.299 22 12.5C22 10.7494 21.5716 9.09889 20.8139 7.64754M16.4016 3.21191C14.9384 2.43814 13.2704 2 11.5 2C5.70101 2 1 6.70101 1 12.5C1 14.287 1.44643 15.9698 2.23384 17.4428M2.23384 17.4428C1.81058 17.96 1.55664 18.6211 1.55664 19.3416C1.55664 20.9984 2.89979 22.3416 4.55664 22.3416C6.21349 22.3416 7.55664 20.9984 7.55664 19.3416C7.55664 17.6847 6.21349 16.3416 4.55664 16.3416C3.62021 16.3416 2.78399 16.7706 2.23384 17.4428ZM21.5 5.64783C21.5 7.30468 20.1569 8.64783 18.5 8.64783C16.8432 8.64783 15.5 7.30468 15.5 5.64783C15.5 3.99097 16.8432 2.64783 18.5 2.64783C20.1569 2.64783 21.5 3.99097 21.5 5.64783ZM18.25 12.5C18.25 16.2279 15.2279 19.25 11.5 19.25C7.77208 19.25 4.75 16.2279 4.75 12.5C4.75 8.77208 7.77208 5.75 11.5 5.75C15.2279 5.75 18.25 8.77208 18.25 12.5Z"}},realtime:{name:r.REALTIME,icon:{16:"M5.362.984v2.35m-1.866.144L1.365 1.282m2.052 3.92H1.052m8.023 9.653L4.557 4.523 15 9.115l-4.748 1.182-1.177 4.558Z",18:"M5.94415 1V3.85995M3.80348 3.85995L1.35903 1.34096M3.80348 5.83876H1M11.5534 11.6817L15.3703 10.7317C15.901 10.5996 15.9633 9.87023 15.4626 9.6501L6.36613 5.65053C5.8879 5.44026 5.40048 5.92671 5.60979 6.40536L9.53793 15.3879C9.75628 15.8872 10.4825 15.8291 10.6187 15.3015L11.5534 11.6817Z",24:"M9.15928 1.94531V5.84117M6.24345 5.84117L2.91385 2.40977M6.24345 8.53673H2.4248M16.7998 16.496L21.9988 15.2019C22.7217 15.022 22.8065 14.0285 22.1246 13.7286L9.73411 8.28034C9.08269 7.99391 8.41873 8.65652 8.70383 9.30851L14.0544 21.5445C14.3518 22.2247 15.341 22.1456 15.5266 21.4269L16.7998 16.496Z"}},vector:{name:r.VECTOR,icon:{16:"M7.99886 7.63216V14.4892M7.99886 7.63216L14.0488 4.11804M7.99886 7.63216L1.94922 4.11819M1.94922 4.11819V8.32332M1.94922 4.11819V4.08217L5.57319 1.97717M14.049 8.36007V4.08217L10.4251 1.97717M11.8165 12.4072L7.99913 14.6245L4.18177 12.4072",18:"M8.61033 8.15404V16.8287M8.61033 8.15404L16.264 3.70838M8.61033 8.15404L0.957031 3.70858M0.957031 3.70858V9.02842M0.957031 3.70858V3.66301L5.54166 1M16.2643 9.07491V3.66301L11.6797 1M13.44 14.1949L8.61068 17L3.7814 14.1949",24:"M11.9983 11.4482V21.7337M11.9983 11.4482L21.0732 6.17699M11.9983 11.4482L2.92383 6.17723M2.92383 6.17723V12.4849M2.92383 6.17723V6.1232L8.35978 2.9657M21.0736 12.54V6.1232L15.6376 2.9657M17.7247 18.6107L11.9987 21.9367L6.27265 18.6107"}}},u=JSON.parse('[{"name":"address_standardizer","comment":"Used to parse an address into constituent elements. Generally used to support geocoding address normalization step.","tags":["Utility"],"link":"https://postgis.net/docs/manual-2.5/Address_Standardizer.html"},{"name":"address_standardizer_data_us","comment":"Address Standardizer US dataset example","tags":["Dataset"],"link":"https://postgis.net/docs/manual-2.5/Address_Standardizer.html"},{"name":"amcheck","comment":"functions for verifying relation integrity","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/amcheck.html"},{"name":"autoinc","comment":"functions for autoincrementing fields","tags":["Utility"],"link":"https://www.postgresql.org/docs/current/contrib-spi.html#id-1.11.7.50.6"},{"name":"bloom","comment":"bloom access method - signature file based index","tags":["Index"],"link":"https://www.postgresql.org/docs/current/bloom.html"},{"name":"btree_gin","comment":"support for indexing common datatypes in GIN","tags":["Index"],"link":"https://www.postgresql.org/docs/current/btree-gin.html"},{"name":"btree_gist","comment":"support for indexing common datatypes in GiST","tags":["Index"],"link":"https://www.postgresql.org/docs/current/btree-gist.html"},{"name":"citext","comment":"data type for case-insensitive character strings","tags":["Data Type"],"link":"https://www.postgresql.org/docs/current/citext.html"},{"name":"cube","comment":"data type for multidimensional cubes","tags":["Data Type"],"link":"https://www.postgresql.org/docs/current/cube.html"},{"name":"dblink","comment":"connect to other PostgreSQL databases from within a database","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/contrib-dblink-function.html"},{"name":"dict_int","comment":"text search dictionary template for integers","tags":["Search"],"link":"https://www.postgresql.org/docs/current/dict-int.html"},{"name":"dict_xsyn","comment":"text search dictionary template for extended synonym processing","tags":["Search"],"link":"https://www.postgresql.org/docs/current/dict-xsyn.html"},{"name":"earthdistance","comment":"calculate great-circle distances on the surface of the Earth","tags":["Geo","Utility"],"link":"https://www.postgresql.org/docs/current/earthdistance.html"},{"name":"fuzzystrmatch","comment":"determine similarities and distance between strings","tags":["Search"],"link":"https://www.postgresql.org/docs/current/fuzzystrmatch.html"},{"name":"hstore","comment":"data type for storing sets of (key, value) pairs","tags":["Data Type"],"link":"https://www.postgresql.org/docs/current/hstore.html"},{"name":"hypopg","comment":"Hypothetical indexes for PostgreSQL","tags":["Admin","Index"],"link":"/guides/database/extensions/hypopg"},{"name":"http","comment":"HTTP client for PostgreSQL, allows web page retrieval inside the database.","tags":["Utility"],"link":"/guides/database/extensions/http"},{"name":"insert_username","comment":"functions for tracking who changed a table","tags":["Audit","Utility"],"link":"https://www.postgresql.org/docs/current/contrib-spi.html#id-1.11.7.50.7"},{"name":"old_snapshot","comment":"utilities in support of old_snapshot_threshold","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/oldsnapshot.html"},{"name":"index_advisor","comment":"optimize query performance with automatic index recommendation","tags":["Utility"],"link":"/guides/database/extensions/index_advisor"},{"name":"intarray","comment":"functions, operators, and index support for 1-D arrays of integers","tags":["Utility"],"link":"https://www.postgresql.org/docs/current/intarray.html"},{"name":"isn","comment":"data types for international product numbering standards","tags":["Data Type"],"link":"https://www.postgresql.org/docs/current/isn.html"},{"name":"lo","comment":"Large Object maintenance","tags":["Data Type"],"link":"https://www.postgresql.org/docs/current/lo.html"},{"name":"ltree","comment":"data type for hierarchical tree-like structures","tags":["Data Type"],"link":"https://www.postgresql.org/docs/current/ltree.html"},{"name":"moddatetime","comment":"functions for tracking last modification time","tags":["Audit","Utility"],"link":"https://www.postgresql.org/docs/current/contrib-spi.html#id-1.11.7.50.8"},{"name":"pg_cron","comment":"Job scheduler for PostgreSQL","tags":["Utility"],"link":"/guides/database/extensions/pg_cron"},{"name":"pg_freespacemap","comment":"examine the free space map (FSM)","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/pgfreespacemap.html"},{"name":"pg_graphql","comment":"pg_graphql: GraphQL support","tags":["Utility"],"link":"/guides/database/extensions/pg_graphql"},{"name":"pg_hashids","comment":"pg_hashids","tags":["Utility"],"link":"/guides/database/extensions/pg_hashids"},{"name":"pg_jsonschema","comment":"pg_jsonschema","tags":["Utility"],"link":"/guides/database/extensions/pg_jsonschema"},{"name":"pg_net","comment":"Async HTTP","tags":["Utility","Notifications"],"link":"/guides/database/extensions/pg_net"},{"name":"pg_prewarm","comment":"prewarm relation data","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/pgprewarm.html"},{"name":"pg_stat_monitor","comment":"The pg_stat_monitor is a PostgreSQL Query Performance Monitoring tool, based on PostgreSQL contrib module pg_stat_statements. pg_stat_monitor provides aggregated statistics, client information, plan details including plan, and histogram information.","tags":["Utility"],"link":"/guides/database/extensions/pg_stat_monitor"},{"name":"pg_stat_statements","comment":"track execution statistics of all SQL statements executed","tags":["Admin","Utility"],"link":"/guides/database/extensions/pg_stat_statements"},{"name":"pg_surgery","comment":"extension to perform surgery on a damaged relation","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/pgsurgery.html"},{"name":"pg_trgm","comment":"text similarity measurement and index searching based on trigrams","tags":["Search"],"link":"https://www.postgresql.org/docs/current/pgtrgm.html"},{"name":"pgaudit","comment":"provides auditing functionality","tags":["Audit","Utility"],"link":"/guides/database/extensions/pgaudit"},{"name":"pg_walinspect","comment":"functions to inspect contents of PostgreSQL Write-Ahead Log","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/pgwalinspect.html"},{"name":"pgcrypto","comment":"cryptographic functions","tags":["Utility","Cryptography"],"link":"https://www.postgresql.org/docs/current/pgcrypto.html"},{"name":"pgjwt","comment":"JSON Web Token API for Postgresql","tags":["Utility","Cryptography"],"link":"/guides/database/extensions/pgjwt"},{"name":"pgroonga","comment":"Super fast and all languages supported full text search index based on Groonga","tags":["Search"],"link":"/guides/database/extensions/pgroonga"},{"name":"pgroonga_database","comment":"PGroonga database management module","tags":["Admin"],"link":"https://pgroonga.github.io/reference/modules/pgroonga-database.html"},{"name":"pgrouting","comment":"pgRouting Extension","tags":["Geo","Utility"],"link":"/guides/database/extensions/pgrouting"},{"name":"pgrowlocks","comment":"show row-level locking information","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/pgrowlocks.html"},{"name":"pgsodium","comment":"Postgres extension for libsodium functions","tags":["Utility","Cryptography"],"link":"/guides/database/extensions/pgsodium"},{"name":"pgstattuple","comment":"show tuple-level statistics","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/pgstattuple.html"},{"name":"pgtap","comment":"Unit testing for PostgreSQL","tags":["Utility","Testing"],"link":"/guides/database/extensions/pgtap"},{"name":"plcoffee","comment":"PL/CoffeeScript (v8) trusted procedural language","tags":["Language"],"link":"https://github.com/plv8/plv8/blob/master/doc/plv8.md#coffeescript-extension"},{"name":"pljava","comment":"PL/Java procedural language (https://tada.github.io/pljava/)","tags":["Language"],"link":"https://tada.github.io/pljava/"},{"name":"plls","comment":"PL/LiveScript (v8) trusted procedural language","tags":["Language"],"link":"https://github.com/plv8/plv8/blob/master/doc/plv8.md#livescript-extension"},{"name":"plpgsql","comment":"PL/pgSQL procedural language","tags":["Language"],"link":"https://www.postgresql.org/docs/current/plpgsql.html"},{"name":"plpgsql_check","comment":"extended check for plpgsql functions","tags":["Utility","Testing"],"link":"/guides/database/extensions/plpgsql_check"},{"name":"plv8","comment":"PL/JavaScript (v8) trusted procedural language","tags":["Language"],"link":"/guides/database/extensions/plv8"},{"name":"postgis","comment":"PostGIS geometry and geography spatial types and functions","tags":["Geo"],"link":"/guides/database/extensions/postgis"},{"name":"postgres_fdw","comment":"foreign-data wrapper for remote PostgreSQL servers","tags":["Admin"],"link":"https://www.postgresql.org/docs/current/postgres-fdw.html"},{"name":"refint","comment":"functions for implementing referential integrity (obsolete)","tags":["Utility"],"link":"https://www.postgresql.org/docs/current/contrib-spi.html#id-1.11.7.50.5"},{"name":"rum","comment":"GIN-like index for text search","tags":["Index","Search"],"link":"/guides/database/extensions/rum"},{"name":"seg","comment":"data type for representing line segments or floating-point intervals","tags":["Utility"],"link":"https://www.postgresql.org/docs/current/seg.html"},{"name":"sslinfo","comment":"information about SSL certificates","tags":["Admin","Utility"],"link":"https://www.postgresql.org/docs/current/sslinfo.html"},{"name":"supautils","comment":"Supabase standard library","tags":["Utility"],"link":"https://supabase.github.io/supautils/"},{"name":"tablefunc","comment":"functions that manipulate whole tables, including crosstab","tags":["Utility"],"link":"https://www.postgresql.org/docs/current/tablefunc.html"},{"name":"tcn","comment":"Triggered change notifications","tags":["Utility","Notifications"],"link":"https://www.postgresql.org/docs/current/tcn.html"},{"name":"timescaledb","comment":"Enables scalable inserts and complex queries for time-series data","tags":["Time Series","Data Type","Utility"],"link":"/guides/database/extensions/timescaledb"},{"name":"tsm_system_rows","comment":"TABLESAMPLE method which accepts number of rows as a limit","tags":["Utility"],"link":"https://www.postgresql.org/docs/current/tsm-system-rows.html"},{"name":"tsm_system_time","comment":"TABLESAMPLE method which accepts time in milliseconds as a limit","tags":["Utility"],"link":"https://www.postgresql.org/docs/current/tsm-system-time.html"},{"name":"unaccent","comment":"text search dictionary that removes accents","tags":["Search"],"link":"https://www.postgresql.org/docs/current/unaccent.html"},{"name":"uuid-ossp","comment":"generate universally unique identifiers (UUIDs)","tags":["Utility","Data Type"],"link":"/guides/database/extensions/uuid-ossp"},{"name":"pgvector","comment":"vector data type with similarity search","tags":["AI","Data Type","Search"],"link":"/guides/database/extensions/pgvector"},{"name":"wrappers","comment":"Foreign data wrappers developed by Supabase","tags":["Admin","Utility"],"link":"/guides/database/extensions/wrappers/overview"}]')},2135:function(e,t){t.Z={schemas:[{name:"API Edge",reference:"edge_logs",fields:[{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"event_message",type:"string"},{path:"metadata.request.cf.asOrganization",type:"string"},{path:"metadata.request.cf.asn",type:"number"},{path:"metadata.request.cf.botManagement.corporateProxy",type:"boolean"},{path:"metadata.request.cf.botManagement.detectionIds",type:"number[]"},{path:"metadata.request.cf.botManagement.ja3Hash",type:"string"},{path:"metadata.request.cf.botManagement.score",type:"number"},{path:"metadata.request.cf.botManagement.staticResource",type:"boolean"},{path:"metadata.request.cf.botManagement.verifiedBot",type:"boolean"},{path:"metadata.request.cf.city",type:"string"},{path:"metadata.request.cf.clientTcpRtt",type:"number"},{path:"metadata.request.cf.clientTrustScore",type:"number"},{path:"metadata.request.cf.colo",type:"string"},{path:"metadata.request.cf.continent",type:"string"},{path:"metadata.request.cf.country",type:"string"},{path:"metadata.request.cf.edgeRequestKeepAliveStatus",type:"number"},{path:"metadata.request.cf.httpProtocol",type:"string"},{path:"metadata.request.cf.latitude",type:"string"},{path:"metadata.request.cf.longitude",type:"string"},{path:"metadata.request.cf.metroCode",type:"string"},{path:"metadata.request.cf.postalCode",type:"string"},{path:"metadata.request.cf.region",type:"string"},{path:"metadata.request.cf.timezone",type:"string"},{path:"metadata.request.cf.tlsCipher",type:"string"},{path:"metadata.request.cf.tlsClientAuth.certPresented",type:"string"},{path:"metadata.request.cf.tlsClientAuth.certRevoked",type:"string"},{path:"metadata.request.cf.tlsClientAuth.certVerified",type:"string"},{path:"metadata.request.cf.tlsExportedAuthenticator.clientFinished",type:"string"},{path:"metadata.request.cf.tlsExportedAuthenticator.clientHandshake",type:"string"},{path:"metadata.request.cf.tlsExportedAuthenticator.serverFinished",type:"string"},{path:"metadata.request.cf.tlsExportedAuthenticator.serverHandshake",type:"string"},{path:"metadata.request.cf.tlsVersion",type:"string"},{path:"metadata.request.headers.cf_connecting_ip",type:"string"},{path:"metadata.request.headers.cf_ipcountry",type:"string"},{path:"metadata.request.headers.cf_ray",type:"string"},{path:"metadata.request.headers.host",type:"string"},{path:"metadata.request.headers.referer",type:"string"},{path:"metadata.request.headers.x_client_info",type:"string"},{path:"metadata.request.headers.x_forwarded_proto",type:"string"},{path:"metadata.request.headers.x_real_ip",type:"string"},{path:"metadata.request.host",type:"string"},{path:"metadata.request.method",type:"string"},{path:"metadata.request.path",type:"string"},{path:"metadata.request.protocol",type:"string"},{path:"metadata.request.search",type:"string"},{path:"metadata.request.url",type:"string"},{path:"metadata.response.headers.cf_cache_status",type:"string"},{path:"metadata.response.headers.cf_ray",type:"string"},{path:"metadata.response.headers.content_location",type:"string"},{path:"metadata.response.headers.content_range",type:"string"},{path:"metadata.response.headers.content_type",type:"string"},{path:"metadata.response.headers.date",type:"string"},{path:"metadata.response.headers.sb_gateway_version",type:"string"},{path:"metadata.response.headers.transfer_encoding",type:"string"},{path:"metadata.response.headers.x_kong_proxy_latency",type:"string"},{path:"metadata.response.origin_time",type:"number"},{path:"metadata.response.status_code",type:"number"}]},{name:"Auth",reference:"auth_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.auth_event.action",type:"string"},{path:"metadata.auth_event.actor_id",type:"string"},{path:"metadata.auth_event.actor_username",type:"string"},{path:"metadata.auth_event.log_type",type:"string"},{path:"metadata.auth_event.traits.provider",type:"string"},{path:"metadata.auth_event.traits.user_email",type:"string"},{path:"metadata.auth_event.traits.user_id",type:"string"},{path:"metadata.auth_event.traits.user_phone",type:"string"},{path:"metadata.component",type:"string"},{path:"metadata.duration",type:"number"},{path:"metadata.host",type:"string"},{path:"metadata.level",type:"string"},{path:"metadata.method",type:"string"},{path:"metadata.msg",type:"string"},{path:"metadata.path",type:"string"},{path:"metadata.referer",type:"string"},{path:"metadata.remote_addr",type:"string"},{path:"metadata.status",type:"number"},{path:"metadata.timestamp",type:"string"}]},{name:"Storage",reference:"storage_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.context.host",type:"string"},{path:"metadata.context.pid",type:"number"},{path:"metadata.level",type:"string"},{path:"metadata.project",type:"string"},{path:"metadata.req.headers.accept",type:"string"},{path:"metadata.req.headers.cf_connecting_ip",type:"string"},{path:"metadata.req.headers.cf_ray",type:"string"},{path:"metadata.req.headers.content_length",type:"string"},{path:"metadata.req.headers.content_type",type:"string"},{path:"metadata.req.headers.host",type:"string"},{path:"metadata.req.headers.referer",type:"string"},{path:"metadata.req.headers.user_agent",type:"string"},{path:"metadata.req.headers.x_client_info",type:"string"},{path:"metadata.req.headers.x_forwarded_proto",type:"string"},{path:"metadata.req.hostname",type:"string"},{path:"metadata.req.method",type:"string"},{path:"metadata.req.remoteAddress",type:"string"},{path:"metadata.req.remotePort",type:"number"},{path:"metadata.req.url",type:"string"},{path:"metadata.reqId",type:"string"},{path:"metadata.res.statusCode",type:"number"},{path:"metadata.res.headers.content_length",type:"number"},{path:"metadata.res.headers.content_type",type:"string"},{path:"metadata.responseTime",type:"number"},{path:"metadata.tenantId",type:"string"},{path:"metadata.rawError",type:"string"}]},{name:"Function Edge",reference:"function_edge_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.deployment_id",type:"string"},{path:"metadata.execution_time_ms",type:"number"},{path:"metadata.function_id",type:"string"},{path:"metadata.project_ref",type:"string"},{path:"metadata.request.headers.accept",type:"string"},{path:"metadata.request.headers.content_length",type:"string"},{path:"metadata.request.headers.host",type:"string"},{path:"metadata.request.headers.user_agent",type:"string"},{path:"metadata.request.host",type:"string"},{path:"metadata.request.method",type:"string"},{path:"metadata.request.pathname",type:"string"},{path:"metadata.request.protocol",type:"string"},{path:"metadata.request.url",type:"string"},{path:"metadata.response.headers.content_length",type:"string"},{path:"metadata.response.headers.content_type",type:"string"},{path:"metadata.response.headers.date",type:"string"},{path:"metadata.response.headers.server",type:"string"},{path:"metadata.response.headers.vary",type:"string"},{path:"metadata.response.status_code",type:"number"},{path:"metadata.version",type:"string"}]},{name:"Function Runtime",reference:"function_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.deployment_id",type:"string"},{path:"metadata.event_type",type:"string"},{path:"metadata.execution_id",type:"string"},{path:"metadata.function_id",type:"string"},{path:"metadata.level",type:"string"},{path:"metadata.project_ref",type:"string"},{path:"metadata.region",type:"string"},{path:"metadata.timestamp",type:"string"},{path:"metadata.version",type:"string"}]},{name:"Postgres",reference:"postgres_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.host",type:"string"},{path:"metadata.parsed.backend_type",type:"string"},{path:"metadata.parsed.command_tag",type:"string"},{path:"metadata.parsed.connection_from",type:"string"},{path:"metadata.parsed.database_name",type:"string"},{path:"metadata.parsed.error_severity",type:"string"},{path:"metadata.parsed.process_id",type:"number"},{path:"metadata.parsed.query_id",type:"number"},{path:"metadata.parsed.session_id",type:"string"},{path:"metadata.parsed.session_line_num",type:"number"},{path:"metadata.parsed.session_start_time",type:"string"},{path:"metadata.parsed.sql_state_code",type:"string"},{path:"metadata.parsed.timestamp",type:"string"},{path:"metadata.parsed.transaction_id",type:"number"},{path:"metadata.parsed.user_name",type:"string"},{path:"metadata.parsed.virtual_transaction_id",type:"string"}]},{name:"Realtime",reference:"realtime_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.level",type:"string"},{path:"metadata.measurements.connected",type:"number"},{path:"metadata.measurements.connected_cluster",type:"number"},{path:"metadata.measurements.limit",type:"number"},{path:"metadata.measurements.sum",type:"number"},{path:"metadata.external_id",type:"string"}]},{name:"PostgREST",reference:"postgrest_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.host",type:"string"}]},{name:"PgBouncer",reference:"pgbouncer_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.host",type:"string"}]}]}},3382:function(e,t,n){n.d(t,{z:function(){return r}});var r=[{id:"tier_free",name:"Free",nameBadge:"",costUnit:"/ month / org",href:"https://supabase.com/dashboard/new?plan=free",priceLabel:"",priceMonthly:0,warning:"Limit of 2 free organizations",description:"Perfect for passion projects & simple websites.",preface:"Get started with:",features:["Unlimited API requests","Social OAuth providers","Up to 500MB database space","Up to 1GB file storage","Up to 5GB bandwidth","Up to 50MB file uploads","Up to 50,000 monthly active users","Up to 500K Edge Function invocations","Up to 200 concurrent Realtime connections","Up to 2 million Realtime messages","1-day log retention","Community support"],footer:"Free projects are paused after 1 week of inactivity.",cta:"Get Started"},{id:"tier_pro",name:"Pro",nameBadge:"",costUnit:"/ month / org",href:"https://supabase.com/dashboard/new?plan=pro",priceLabel:"From",warning:"Usage-based plan",priceMonthly:25,description:"For production applications with the option to scale.",features:["No project pausing","Daily backups stored for 7 days","8GB database space included","100GB file storage included","250GB bandwidth included","5GB file uploads included","100,000 monthly active users included","2M Edge Function invocations included","500 concurrent Realtime connections included","5 million Realtime messages included","7-day log retention","Email support"],footer:"Your cost control settings determine if you allow over-usage.",preface:"Everything in the Free plan, plus:",cta:"Get Started"},{id:"tier_team",name:"Team",nameBadge:"New",costUnit:"/ month / org",href:"https://supabase.com/dashboard/new?plan=team",priceLabel:"From",warning:"Usage-based plan",priceMonthly:599,description:"Collaborate with different permissions and access patterns.",features:["Additional Organization member roles","Daily backups stored for 14 days","Standardised Security Questionnaire","SOC2","HIPAA available as paid add-on","SSO for Supabase Dashboard","Priority email support & SLAs","28-day log retention"],footer:"Additional fees apply for usage beyond included usage.",preface:"Everything in the Pro plan, plus:",cta:"Get Started"},{id:"tier_enterprise",name:"Enterprise",href:"https://forms.supabase.com/enterprise",description:"For large-scale applications managing serious workloads.",features:["Designated Support manager & SLAs","SSO/SAML","On-premise support","24\xd77\xd7365 premium enterprise support","Custom Security Questionnaires","Private Slack channel"],priceLabel:"",priceMonthly:"Contact us",preface:"",footer:"",cta:"Contact Us"}]},5434:function(e,t,n){n.d(t,{D:function(){return r}});var r={database:{title:"Database",icon:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4",features:[{title:"Dedicated Postgres Database",tooltips:{main:"A Postgres database with no restrictions? You get it. No pseudo limited users, you are the postgres root user.  No caveats."},plans:{free:!0,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Unlimited API requests",plans:{free:!0,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Database size",tooltips:{main:"Billing is based on the average daily database size in GB throughout the billing period."},plans:{free:"500 MB included",pro:"8 GB included, then $0.125 per GB",team:"8 GB included, then $0.125 per GB",enterprise:"Custom"},usage_based:!0},{title:"Automatic backups",tooltips:{main:"Backups are entire copies of your database that can be restored in the future.",pro:"7 days of backup (if > 1TB, contact for Enterprise pricing)",team:"14 days of backup (if > 1TB, contact for Enterprise pricing)"},plans:{free:!1,pro:"7 days",team:"14 days",enterprise:"Custom"},usage_based:!1},{title:"Point in time recovery",tooltips:{main:"PITR cannot be applied retroactively, projects can only be rolled back to the point from which PITR has been applied.",pro:"$100 per 7 days. If > 28 day rollback period, contact enterprise",team:"$100 per 7 days. If > 28 day rollback period, contact enterprise"},plans:{free:!1,pro:"$100 per 7 days",team:"$100 per 7 days",enterprise:!0},usage_based:!1},{title:"Pausing",tooltips:{main:"Projects that have no activity or API requests will be paused. They can be reactivated via the dashboard"},plans:{free:"After 1 inactive week",pro:"Never",team:"Never",enterprise:"Never"},usage_based:!1},{title:"Bandwidth",tooltips:{main:"Billing is based on the total sum of outgoing traffic (includes Database, Storage, Realtime, Auth) in GB throughout your billing period."},plans:{free:"5GB included",pro:"250 GB included, then $0.09 per GB",team:"250 GB included, then $0.09 per GB",enterprise:"Custom"},usage_based:!0}]},auth:{title:"Auth",icon:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4",features:[{title:"Total Users",tooltips:{main:"The maximum number of users your project can have"},plans:{free:"Unlimited",pro:"Unlimited",team:"Unlimited",enterprise:"Unlimited"},usage_based:!1},{title:"MAUs",tooltips:{main:"Users who log in or refresh their token count towards MAU.\nBilling is based on the sum of distinct users requesting your API throughout the billing period. Resets every billing cycle."},plans:{free:"50,000 included",pro:"100,000 included, then $0.00325 per MAU",team:"100,000 included, then $0.00325 per MAU",enterprise:"Custom"},usage_based:!0},{title:"Social OAuth providers",plans:{free:!0,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Custom SMTP server",plans:{free:!0,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Remove Supabase branding from emails",plans:{free:!1,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Audit trails",plans:{free:"1 hour",pro:"7 days",team:"28 days",enterprise:!0},usage_based:!1},{title:"Single Sign-On (SAML 2.0)",plans:{free:!1,pro:"50 included, then $0.015 per MAU",team:"50 included, then $0.015 per MAU",enterprise:"Contact Us"},usage_based:!1},{title:"Advanced security features",plans:{free:!1,pro:!1,team:!1,enterprise:"Contact Us"},usage_based:!1}]},storage:{title:"Storage",icon:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4",features:[{title:"Storage",tooltips:{main:"The sum of all objects' size in your storage buckets.\nBilling is based on the average daily size in GB throughout your billing period."},plans:{free:"1 GB included",pro:"100 GB included, then $0.021 per GB",team:"100 GB included, then $0.021 per GB",enterprise:"Custom"},usage_based:!0},{title:"Custom access controls",plans:{free:!0,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Max file upload size",tooltips:{main:"You can change the upload size in the dashboard"},plans:{free:"50MB",pro:"5GB",team:"5GB",enterprise:"Custom"},usage_based:!1},{title:"Image Transformations",tooltips:{main:"We count all images that were transformed in the billing period, ignoring any transformations.\nUsage example: You transform one image with four different size transformations and another image with just a single transformation. It counts as two, as only two images were transformed.\nBilling is based on the count of (origin) images that used transformations throughout the billing period. Resets every billing cycle."},plans:{free:!1,pro:"100 origin images, then $5 per 1000 origin images",team:"100 origin images, then $5 per 1000 origin images",enterprise:"Custom"},usage_based:!0},{title:"Bring your own storage provider",plans:{free:!1,pro:!1,team:!1,enterprise:!0},usage_based:!1}]},edge_functions:{title:"Edge Functions",icon:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",features:[{title:"Invocations",tooltips:{main:"Billing is based on the sum of all invocations, independent of response status, throughout your billing period."},plans:{free:"500K/month included",pro:"2 Million included, then $2 per 1 Million",team:"2 Million included, then $2 per 1 Million",enterprise:"Custom"},usage_based:!0},{title:"Script size",plans:{free:"2 MB",pro:"10 MB",team:"10 MB",enterprise:"Custom"},usage_based:!1},{title:"Number of functions",tooltips:{main:"Billing is based on the maximum amount of functions at any point in time throughout your billing period."},plans:{free:"10 included",pro:"100 included, then $10 per additional 100",team:"100 included, then $10 per additional 100",enterprise:"Custom"},usage_based:!0}]},realtime:{title:"Realtime",icon:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59",features:[{title:"Postgres Changes",plans:{free:!0,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Concurrent Peak Connections",tooltips:{main:"Total number of successful connections. Connections attempts are not counted towards usage.\nBilling is based on the maximum amount of concurrent peak connections throughout your billing period."},plans:{free:"200 included",pro:"500 included, then $10 per 1000",team:"500 included, then $10 per 1000",enterprise:"Custom concurrent connections and volume discount"},usage_based:!0},{title:"Messages Per Month",tooltips:{main:"Count of messages going through Realtime.\nUsage example: If you do a database change and 5 clients listen to that change via Realtime, that's 5 messages. If you broadcast a message and 4 clients listen to that, that's 5 messages (1 message sent, 4 received).\nBilling is based on the total amount of messages throughout your billing period."},plans:{free:"2 Million included",pro:"5 Million included, then $2.50 per Million",team:"5 Million included, then $2.50 per Million",enterprise:"Volume discounts on messages"},usage_based:!0},{title:"Max Message Size",plans:{free:"250 KB",pro:"3 MB",team:"3 MB",enterprise:"Custom"},usage_based:!1}]},dashboard:{title:"Dashboard",icon:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4",features:[{title:"Team members",plans:{free:"Unlimited",pro:"Unlimited",team:"Unlimited",enterprise:"Unlimited"},usage_based:!1},{title:"Access controls",plans:{free:"Coming soon",pro:"Coming soon",team:!0,enterprise:!0},usage_based:!1},{title:"Audit trails",plans:{free:!1,pro:!1,team:!0,enterprise:!0},usage_based:!1}]},security:{title:"Platform Security and Compliance",icon:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z",features:[{title:"On Premises / BYO cloud",plans:{free:!1,pro:!1,team:!1,enterprise:!0},usage_based:!1},{title:"Log retention (API & Database)",plans:{free:"1 day",pro:"7 days",team:"28 days",enterprise:"90 days"},usage_based:!1},{title:"Log drain",plans:{free:!1,pro:!1,team:"Coming soon",enterprise:"Coming soon"},usage_based:!1},{title:"Metrics endpoint",plans:{free:!1,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"SOC2",plans:{free:!1,pro:!1,team:!0,enterprise:!0},usage_based:!1},{title:"HIPAA",plans:{free:!1,pro:!1,team:"Available as paid add-on",enterprise:"Available as paid add-on"},tooltips:{main:"Available as a paid add-on on Team plan and above."},usage_based:!1},{title:"SSO",plans:{free:!1,pro:!1,team:"Contact Us",enterprise:"Contact Us"},usage_based:!1},{title:"99.9% SLA",plans:{free:!1,pro:!1,team:!1,enterprise:!0},usage_based:!1},{title:"Access Roles",plans:{free:"Owner, Developer",pro:"Owner, Developer",team:"Additional owner(s), admin, read-only, billing admin, custom",enterprise:"Additional owner(s), admin, read-only, billing admin, custom"},usage_based:!1},{title:"Vanity URLs",plans:{free:!1,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Custom Domains",tooltips:{enterprise:"Volume discounts available."},plans:{free:!1,pro:"$10 per domain per month per project add on",team:"$10 per domain per month per project add on",enterprise:"1, additional $10/domain/month"},usage_based:!1},{title:"Bring your own cloud deployment options",tooltips:{main:"On-Premises, single tenant, and managed dedicated cloud provider instance options"},plans:{free:!1,pro:!1,team:!1,enterprise:!0},usage_based:!1}]},support:{title:"Support",icon:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z",features:[{title:"Community support",plans:{free:!0,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Email support",plans:{free:!1,pro:!0,team:!0,enterprise:!0},usage_based:!1},{title:"Email support SLA",plans:{free:!1,pro:!1,team:!0,enterprise:!0},usage_based:!1},{title:"Designated support",plans:{free:!1,pro:!1,team:!1,enterprise:!0},usage_based:!1},{title:"On Boarding Support",plans:{free:!1,pro:!1,team:!1,enterprise:!0},usage_based:!1},{title:"Designated customer success engineer ",plans:{free:!1,pro:!1,team:!1,enterprise:!0},usage_based:!1},{title:"Security Questionnaire Help",plans:{free:!1,pro:!1,team:!0,enterprise:!0},usage_based:!1}]}}},30265:function(e,t,n){var r=n(82269),s=n(69557);n(2784);var a=n(45458),i=n(52322),o=["open","children","className"],c=function(e){var t=e.open,n=e.children,a=e.className,c=(0,r.Z)(e,o);return(0,i.jsx)(s.fC,{asChild:c.asChild,defaultOpen:c.defaultOpen,open:void 0===t?void 0:t,onOpenChange:c.onOpenChange,disabled:c.disabled,className:a,children:n})};c.Trigger=function(e){var t=e.children,n=e.asChild;return(0,i.jsx)(s.xz,{asChild:n,children:t})},c.Content=function(e){var t=e.asChild,n=e.children,r=e.className,o=(0,a.Z)("collapsible");return(0,i.jsx)(s.VY,{asChild:t,className:[o.content,r].join(" "),children:n})},t.ZP=c},89760:function(e,t,n){var r=n(95235);n(2784);var s=n(92438),a=n(12223),i=n(52322);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},51803:function(e,t,n){var r=n(95235);n(2784);var s=n(95157),a=n(12223),i=n(52322);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},97319:function(e,t,n){var r=n(95235);n(2784);var s=n(29),a=n(12223),i=n(52322);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},80717:function(e,t,n){var r=n(95235);n(2784);var s=n(10341),a=n(12223),i=n(52322);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},15008:function(e,t,n){var r=n(95235);n(2784);var s=n(85680),a=n(12223),i=n(52322);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},98168:function(e,t,n){var r=n(95235);n(2784);var s=n(70177),a=n(12223),i=n(52322);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},924:function(e,t,n){var r=n(95235);n(2784);var s=n(88715),a=n(12223),i=n(52322);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},92198:function(e,t,n){var r=n(95235);n(2784);var s=n(40506),a=n(12223),i=n(52322);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}},3929:function(e,t,n){n.d(t,{Z:function(){return i}}),n(2784);var r=n(45458),s=n(29027),a=n(52322);function i(e){var t=e.children,n=e.active,i=(0,r.Z)("loading"),o=[i.base],c=[i.content.base];n&&c.push(i.content.active);var l=[i.spinner];return(0,a.jsxs)("div",{className:o.join(" "),children:[(0,a.jsx)("div",{className:c.join(" "),children:t}),n&&(0,a.jsx)(s.Z,{size:"xlarge",className:l})]})}},95490:function(e,t,n){n.d(t,{ZP:function(){return p}});var r=n(2784),s=n(52322);function a(e){var t=e.children,n=(e.className,e.tag),r=e.style;return(0,s.jsx)("".concat(void 0===n?"div":n),{style:r,children:t})}a.Title=function(e){e.className;var t=e.level,n=e.children,r=e.style;return(0,s.jsx)("h".concat(void 0===t?1:t),{style:r,children:n})},a.Text=function(e){e.className;var t=e.children,n=e.style,r=(e.type,e.disabled,e.mark),a=e.code,i=e.keyboard,o=(e.underline,e.strikethrough,e.strong);return(e.small,a)?(0,s.jsx)("code",{style:n,children:t}):r?(0,s.jsx)("mark",{style:n,children:t}):i?(0,s.jsx)("kbd",{style:n,children:t}):o?(0,s.jsx)("strong",{style:n,children:t}):(0,s.jsx)("span",{style:n,children:t})},a.Link=function(e){var t=e.children,n=e.target,r=e.href,a=(e.className,e.onClick),i=e.style;return(0,s.jsx)("a",{onClick:a,href:r,target:void 0===n?"_blank":n,rel:"noopener noreferrer",style:i,children:t})};var i=(0,r.createContext)({type:"text"}),o=function(e){var t=e.type;return(0,s.jsx)(i.Provider,{value:{type:t},children:e.children})},c=function(){var e=(0,r.useContext)(i);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e},l=n(45458),u=n(15659);function d(e){var t=e.children,n=e.className,r=e.ulClassName,a=e.style,i=e.type;return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:n,style:a,children:(0,s.jsx)(o,{type:void 0===i?"text":i,children:(0,s.jsx)("ul",{className:r,children:t})})})}d.Item=function(e){var t=e.children,n=e.icon,r=e.active,a=(e.rounded,e.onClick),i=(e.doNotCloseOverlay,e.showActiveBar,e.style),o=(0,l.Z)("menu"),d=c().type,p=[o.item.base];p.push(o.item.variants[d].base),r?p.push(o.item.variants[d].active):p.push(o.item.variants[d].normal);var m=[o.item.content.base];r?m.push(o.item.content.active):m.push(o.item.content.normal);var h=[o.item.icon.base];return r?h.push(o.item.icon.active):h.push(o.item.icon.normal),(0,s.jsxs)("li",{role:"menuitem",className:(0,u.cn)("outline-none",p),style:i,onClick:a,"aria-current":r?"page":void 0,children:[n&&(0,s.jsx)("div",{className:"".concat(h.join(" ")," min-w-fit"),children:n}),(0,s.jsx)("span",{className:m.join(" "),children:t})]})},d.Group=function(e){var t=e.children,n=e.icon,r=e.title,a=(0,l.Z)("menu"),i=c().type;return(0,s.jsxs)("div",{className:[a.group.base,a.group.variants[i]].join(" "),children:[n&&(0,s.jsx)("span",{className:a.group.icon,children:n}),(0,s.jsx)("span",{className:a.group.content,children:r}),t]})},d.Misc=function(e){var t=e.children;return(0,s.jsx)("div",{children:(0,s.jsx)(a.Text,{children:(0,s.jsx)("span",{children:t})})})};var p=d},60229:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(2784),s=n(93918),a=(0,r.createContext)({parentCallback:function(e){},type:"",name:"",activeId:"",parentSize:""}),i=n(52815),o=n(45458),c=n(52322);function l(e){var t,n=e.id,r=void 0===n?(t=46656*Math.random()|0,("00000"+(46656*Math.random()|0).toString(36)).slice(-3)+("00000"+t.toString(36)).slice(-3)):n,s=e.disabled,l=e.value,u=e.label,d=e.afterLabel,p=e.beforeLabel,m=e.description,h=e.name,f=e.checked,g=e.className,x=e.onChange,b=e.onBlur,v=e.hidden,j=void 0!==v&&v,y=e.size,w=void 0===y?"medium":y,k=e.align,N=void 0===k?"vertical":k,O=e.optionalLabel,S=e.addOnBefore,P=e.children,C=(0,o.Z)("radio"),E=(0,i.G)().handleBlur;function Z(e){E&&E(e),b&&b(e)}return(0,c.jsx)(a.Consumer,{children:function(e){var t=e.parentCallback,n=e.type,a=e.name,i=e.activeId;w=e.parentSize||w;var o=i===r||!!f||!1!==f&&void 0,b=[g,C.variants[n].container.base,"list"===n&&!j&&C.variants[n].container.size[w]];return b.push(C.variants[n].base),b.push(C.variants[n].size[w]),o?b.push(C.variants[n].active):b.push(C.variants[n].inactive),s&&b.push(C.disabled),"list"!==n&&(j=!0),(0,c.jsxs)("label",{htmlFor:r,className:b.join(" "),children:[(0,c.jsx)("input",{id:r,name:a||h,type:"radio",className:[C.base,C.size[w],j&&C.hidden,C.variants[n].radio_offset,""].join(" "),checked:o,disabled:s,value:l||r,onChange:function(e){t&&t(e),x&&x(e)},onBlur:Z}),S,P||(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:[C.label.base,C.label[w],C.variants[n].container.align[N]].join(" "),children:[p&&(0,c.jsx)("div",{className:[C.label_before.base,C.label_before[w]].join(" "),children:p}),(0,c.jsx)("div",{children:u}),d&&(0,c.jsx)("div",{className:[C.label_after.base,C.label_after[w]].join(" "),children:d}),m&&(0,c.jsx)("div",{className:[C.description.base,C.description[w]].join(" "),children:m})]}),O&&(0,c.jsx)("div",{className:[C.optionalLabel.base,C.optionalLabel[w]].join(" "),children:O})]})]})}})}l.Group=function(e){var t=e.id,n=e.layout,u=e.error,d=e.descriptionText,p=e.label,m=e.afterLabel,h=e.beforeLabel,f=e.labelOptional,g=e.children,x=e.className,b=e.type,v=void 0===b?"list":b,j=e.options,y=e.value,w=e.name,k=e.onChange,N=e.size,O=void 0===N?"medium":N,S=e.validation,P=e.groupClassName,C=e.labelsLayout,E=(0,r.useState)(""),Z=E[0],_=E[1],I=(0,o.Z)("radio"),L=(0,i.G)(),D=L.formContextOnChange,A=L.values,T=L.errors,R=L.touched,z=L.fieldLevelValidation;return A&&!y&&(y=A[t||w]),u||(T&&!u&&(u=T[t||w]),u=R&&R[t||w]?u:void 0),(0,r.useEffect)(function(){S&&z(t,S(y))},[]),(0,r.useEffect)(function(){_(y)},[y]),(0,c.jsx)("fieldset",{name:w,className:x,children:(0,c.jsx)(s.l,{nonBoxInput:!0,label:p,afterLabel:m,beforeLabel:h,labelOptional:f,layout:n,id:t,error:u,descriptionText:d,size:O,labelLayout:void 0===C?"vertical":C,children:(0,c.jsx)("div",{className:P||I.variants[v].group,children:(0,c.jsx)(a.Provider,{value:{parentCallback:function(e){k&&k(e),D&&D(e),S&&z(t,S(e.target.value)),_(e.target.id)},type:v,name:w,activeId:Z,parentSize:O},children:j?j.map(function(e){return(0,c.jsx)(l,{id:e.id,label:e.label,beforeLabel:e.beforeLabel,afterLabel:e.afterLabel,value:e.value,description:e.description})}):g})})})})};var u=l},24888:function(e,t,n){var r=n(82269);n(2784);var s=n(8647),a=n(70241),i=n(45458),o=n(24990),c=n(52322),l=["id","disabled","className","children","header","visible","open","size","loading","align","hideFooter","customFooter","onConfirm","onCancel","confirmText","cancelText","triggerElement","defaultOpen","tooltip"],u=function(e){e.id;var t=e.disabled,n=e.className,u=e.children,d=e.header,p=e.visible,m=e.open,h=e.size,f=e.loading,g=e.align,x=e.hideFooter,b=e.customFooter,v=e.onConfirm,j=e.onCancel,y=e.confirmText,w=e.cancelText,k=e.triggerElement,N=e.defaultOpen,O=e.tooltip,S=(0,r.Z)(e,l),P=(0,i.Z)("sidepanel"),C=(void 0===b?void 0:b)||(0,c.jsxs)("div",{className:P.footer,children:[(0,c.jsx)("div",{children:(0,c.jsx)(s.z,{disabled:f,type:"default",onClick:function(){return j?j():null},children:void 0===w?"Cancel":w})}),void 0!==v&&(0,c.jsxs)(o.fC,{delayDuration:0,children:[(0,c.jsx)(o.xz,{asChild:!0,children:(0,c.jsx)("div",{children:(0,c.jsx)(s.z,{htmlType:"submit",disabled:t||f,loading:f,onClick:function(){return v?v():null},children:void 0===y?"Confirm":y})})}),void 0!==O&&(0,c.jsx)(o.h_,{children:(0,c.jsxs)(o.VY,{side:"bottom",children:[(0,c.jsx)(o.Eh,{className:"radix-tooltip-arrow"}),(0,c.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,c.jsx)("span",{className:"text-xs text-foreground",children:O})})]})})]})]});return m=m||p,(0,c.jsxs)(a.fC,{open:m,onOpenChange:function(e){void 0!==p&&!e&&j&&j()},defaultOpen:N,children:[k&&(0,c.jsx)(a.xz,{className:P.trigger,children:k}),(0,c.jsxs)(a.h_,{children:[(0,c.jsx)(a.aV,{className:P.overlay}),(0,c.jsxs)(a.VY,{className:[P.base,P.size[void 0===h?"medium":h],P.align[void 0===g?"right":g],n&&n].join(" "),onOpenAutoFocus:S.onOpenAutoFocus,onCloseAutoFocus:S.onCloseAutoFocus,onEscapeKeyDown:S.onEscapeKeyDown,onPointerDownOutside:S.onPointerDownOutside,onInteractOutside:function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.closest("#toast"))&&e.preventDefault(),S.onInteractOutside&&S.onInteractOutside(e)},children:[d&&(0,c.jsx)("header",{className:P.header,children:d}),(0,c.jsx)("div",{className:P.contents,children:u}),!(void 0!==x&&x)&&C]})]})]})};u.Content=function(e){var t=e.children,n=e.className,r=(0,i.Z)("sidepanel");return(0,c.jsx)("div",{className:[r.content,n].join(" ").trim(),children:t})},u.Separator=function(){var e=(0,i.Z)("sidepanel");return(0,c.jsx)("div",{className:e.separator})},t.ZP=u},16473:function(e,t,n){n.d(t,{NI:function(){return O},Wi:function(){return j},l0:function(){return b},lX:function(){return N},pf:function(){return S},xJ:function(){return k},zG:function(){return P}});var r=n(82269),s=n(95235),a=n(23769),i=n(2784),o=n(49815),c=n(63955),l=n(15659),u=n(40486),d=n(52322),p=["className"],m=["className"],h=["className"],f=["className","children"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=c.RV,v=i.createContext({}),j=function(e){var t=(0,a.Z)({},e);return(0,d.jsx)(v.Provider,{value:{name:t.name},children:(0,d.jsx)(c.Qr,x({},t))})},y=function(){var e=i.useContext(v),t=i.useContext(w),n=(0,c.Gc)(),r=n.getFieldState,s=n.formState,a=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");var o=t.id;return x({id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message")},a)},w=i.createContext({}),k=i.forwardRef(function(e,t){var n=e.className,s=(0,r.Z)(e,p),a=i.useId();return(0,d.jsx)(w.Provider,{value:{id:a},children:(0,d.jsx)("div",x({ref:t,className:(0,l.cn)("space-y-2",n)},s))})});k.displayName="FormItem";var N=i.forwardRef(function(e,t){var n=e.className,s=(0,r.Z)(e,m),a=y(),i=a.error,o=a.formItemId;return(0,d.jsx)(u._,x({ref:t,className:(0,l.cn)(i&&"text-destructive",n),htmlFor:o},s))});N.displayName="FormLabel";var O=i.forwardRef(function(e,t){var n=(0,a.Z)({},e),r=y(),s=r.error,i=r.formItemId,c=r.formDescriptionId,l=r.formMessageId;return(0,d.jsx)(o.g7,x({ref:t,id:i,"aria-describedby":s?"".concat(c," ").concat(l):"".concat(c),"aria-invalid":!!s},n))});O.displayName="FormControl";var S=i.forwardRef(function(e,t){var n=e.className,s=(0,r.Z)(e,h),a=y().formDescriptionId;return(0,d.jsx)("p",x({ref:t,id:a,className:(0,l.cn)("text-sm text-foreground-light",n)},s))});S.displayName="FormDescription";var P=i.forwardRef(function(e,t){var n=e.className,s=e.children,a=(0,r.Z)(e,f),i=y(),o=i.error,c=i.formMessageId,u=o?String(null==o?void 0:o.message):s;return u?(0,d.jsx)("p",x(x({ref:t,id:c,className:(0,l.cn)("text-sm text-destructive",n)},a),{},{children:u})):null});P.displayName="FormMessage"},50077:function(e,t,n){n.d(t,{I:function(){return d}});var r=n(95235),s=n(82269),a=n(2784),i=n(15659),o=n(52322),c=["className","type"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=["bg-control"],d=a.forwardRef(function(e,t){var n=e.className,a=e.type,d=(0,s.Z)(e,c);return(0,o.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({type:a,className:i.cn.apply(void 0,["flex h-10 w-full rounded-md border border-control bg-control px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-foreground-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-background-control focus-visible:ring-offset-2 focus-visible:ring-offset-foreground-muted disabled:cursor-not-allowed disabled:opacity-50"].concat(u,[n])),ref:t},d))});d.displayName="Input"},40486:function(e,t,n){n.d(t,{_:function(){return m}});var r=n(95235),s=n(82269),a=n(2784),i=n(23707),o=n(10929),c=n(15659),l=n(52322),u=["className"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p=(0,o.j)("text-sm text leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=a.forwardRef(function(e,t){var n=e.className,a=(0,s.Z)(e,u);return(0,l.jsx)(i.f,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({ref:t,className:(0,c.cn)(p(),n)},a))});m.displayName=i.f.displayName}}]);