(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5885],{24381:function(e,n,t){"use strict";t.r(n);var i=t(81333),r=t(59491),s=t(76635),l=t(46776),c=t(2784),o=t(4300),a=t(30340),u=t(11425),d=t(97064),f=t(45812),m=t(48125),h=t(19269),p=t(22812),j=t(59800),v=t(4167),x=t(70203),N=t(85459),S=t(55144),_=t(14665),w=t(55210),b=t(8647),g=t(95223),E=t(52322),k=function(e,n,t){if(!t)return e.slice().sort(function(e,n){return e.name.localeCompare(n.name)});var i=t.toLowerCase(),r=n.filter(function(e){return e.name.toLowerCase().includes(i)});return e.slice().filter(function(e){return e.name.toLowerCase().includes(i)||e.id.toString()===i||r.some(function(n){return n.table===e.name})}).sort(function(e,n){return e.name.localeCompare(n.name)})},L=function(){var e=(0,d.d2)().project,n=(0,S._2)(),t=(0,x.oR)().meta,l=(0,o.UO)().search,u=(0,c.useState)(""),L=u[0],C=u[1];(0,c.useEffect)(function(){l&&C(l)},[l]);var Z=(0,j.Q1)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString}).data,A=(0,s.partition)(Z,function(e){var n;return N.F.includes(null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"")}),R=(0,i.Z)(A,1)[0],T=null==Z?void 0:Z.find(function(e){return e.name===n.selectedSchemaName}),y=R.some(function(e){return e.id===(null==T?void 0:T.id)}),z=t.policies.list(),F=(0,v.Bj)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString,schema:n.selectedSchemaName}),P=F.data,O=F.isLoading,X=F.isSuccess,D=F.isError,Q=F.error,W=k(null!=P?P:[],z,L);return(0,x.Xo)(r.KA.TENANT_SQL_ADMIN_READ,"policies")?(0,E.jsxs)("div",{className:"flex flex-col h-full",children:[(0,E.jsx)("div",{className:"mb-4",children:(0,E.jsxs)("div",{className:"flex items-center justify-between",children:[(0,E.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,E.jsx)(h.Z,{className:"w-[260px]",size:"small",showError:!1,selectedSchemaName:n.selectedSchemaName,onSelectSchema:function(e){n.setSelectedSchemaName(e),C("")}}),(0,E.jsx)(_.Z,{size:"small",placeholder:"Filter tables and policies",className:"block w-64 text-sm placeholder-border-muted",value:L,onChange:function(e){return C(e.target.value)},icon:(0,E.jsx)(w.Z,{size:"tiny"})})]}),(0,E.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/learn/auth-deep-dive/auth-row-level-security",children:(0,E.jsx)(b.z,{type:"link",icon:(0,E.jsx)(g.Z,{size:14,strokeWidth:1.5}),children:"What is RLS?"})})]})}),O&&(0,E.jsx)(p.A,{}),D&&(0,E.jsx)(f.Z,{error:Q,subject:"Failed to retrieve tables"}),X&&(0,E.jsx)(a.rE,{tables:W,hasTables:P.length>0,isLocked:y})]}):(0,E.jsx)(m.Z,{isFullPage:!0,resourceText:"view this project's RLS policies"})};L.getLayout=function(e){return(0,E.jsx)(u.g1,{title:"Auth",children:(0,E.jsx)("div",{className:"h-full p-4",children:e})})},n.default=(0,l.Pi)(L)},50193:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/auth/policies",function(){return t(24381)}])}},function(e){e.O(0,[1187,8421,4747,7287,7898,6218,2514,2187,2645,6823,7725,9774,2888,179],function(){return e(e.s=50193)}),_N_E=e.O()}]);