(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5969],{11163:function(e,t,r){"use strict";r.d(t,{w:function(){return q},h:function(){return N}});var i=r(20406),n=r(81333),s=r(28526),o=r.n(s),c=r(59491),a=r(76635),l=r(46776),u=r(43991),d=r(92475),p=r(97064),f=r(70203),h=r(210),x=r(44183),m=r(32670),g=r(5632),k=r(58860),v=r(37852),b=r(55386),j=r(2784),y=r(52322),w=function(e){var t=e.title,r=e.description,i=e.sql,n=e.onClick,s=(0,j.useState)(!1),o=s[0],c=s[1];return(0,y.jsx)(b.Z,{title:t,loading:o,onClick:function(){c(!0),n(i,t)},description:r})},N=(0,l.Pi)(function(){var e,t=(0,f.oR)().ui,r=(0,g.useRouter)(),s=(0,x.Un)().profile,l=(0,p.d2)().project,b=(0,a.partition)(d.o_,{type:"template"}),j=(0,n.Z)(b,1)[0],N=(0,u.Mk)(),q=(0,k.W2)(),_=(0,f.Xo)(c.KA.CREATE,"user_content",{resource:{type:"sql",owner_id:null==s?void 0:s.id},subject:{id:null==s?void 0:s.id}}),E=(e=(0,i.Z)(o().mark(function e(i,n){var c;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return",console.error("Project is required"));case 2:if(s){e.next=4;break}return e.abrupt("return",console.error("Profile is required"));case 4:if(_){e.next=6;break}return e.abrupt("return",t.setNotification({category:"info",message:"Your queries will not be saved as you do not have sufficient permissions"}));case 6:try{c=(0,v.UA)({id:(0,h.k$)(),name:n,sql:i,owner_id:s.id,project_id:l.id}),q.addSnippet(c,l.ref),q.addNeedsSaving(c.id),r.push("/project/".concat(l.ref,"/sql/").concat(c.id))}catch(e){t.setNotification({category:"error",message:"Failed to create new query: ".concat(e.message)})}case 7:case"end":return e.stop()}},e)})),function(t,r){return e.apply(this,arguments)});return(0,y.jsx)("div",{className:"block h-full space-y-8 overflow-y-auto p-6",children:(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("h1",{className:"text-foreground mb-3 text-xl",children:"Scripts"}),(0,y.jsx)("p",{className:"text-foreground-light text-sm",children:"Quick scripts to run on your database."}),(0,y.jsxs)("p",{className:"text-foreground-light text-sm",children:["Click on any script to fill the query box, modify the script, then click",(0,y.jsx)("span",{className:"text-code",children:"Run"}),"."]})]}),(0,y.jsx)("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4",children:j.map(function(e){return(0,y.jsx)(w,{title:e.title,description:e.description,sql:e.sql,onClick:function(t,i){E(t,i),m.Z.sendEvent({category:"scripts",action:"script_clicked",label:e.title},N,r)}},e.title)})})]})})}),q=(0,l.Pi)(function(){var e,t=(0,f.oR)().ui,r=(0,u.UO)().ref,s=(0,g.useRouter)(),l=(0,x.Un)().profile,p=(0,f.Vm)(),b=(0,a.partition)(d.o_,{type:"template"}),j=(0,n.Z)(b,2)[1],N=(0,u.Mk)(),q=(0,k.W2)(),_=(0,f.Xo)(c.KA.CREATE,"user_content",{resource:{type:"sql",owner_id:null==l?void 0:l.id},subject:{id:null==l?void 0:l.id}}),E=(e=(0,i.Z)(o().mark(function e(i,n){var c;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(_){e.next=4;break}return e.abrupt("return",t.setNotification({category:"info",message:"Your queries will not be saved as you do not have sufficient permissions"}));case 4:try{c=(0,v.UA)({id:(0,h.k$)(),name:n,sql:i,owner_id:null==l?void 0:l.id,project_id:null==p?void 0:p.id}),q.addSnippet(c,r),q.addNeedsSaving(c.id),s.push("/project/".concat(r,"/sql/").concat(c.id))}catch(e){t.setNotification({category:"error",message:"Failed to create new query: ".concat(e.message)})}case 5:case"end":return e.stop()}},e)})),function(t,r){return e.apply(this,arguments)});return(0,y.jsx)("div",{className:"block h-full space-y-8 overflow-y-auto p-6",children:(0,y.jsxs)("div",{className:"mb-8",children:[(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("h1",{className:"text-foreground mb-3 text-xl",children:"Quickstarts"}),(0,y.jsx)("p",{className:"text-foreground-light text-sm",children:"While we're in beta, we want to offer a quick way to explore Supabase. While we build importers, check out these simple starters."}),(0,y.jsxs)("p",{className:"text-foreground-light text-sm",children:["Click on any script to fill the query box, modify the script, then click",(0,y.jsx)("span",{className:"text-code",children:"Run"}),"."]})]}),(0,y.jsx)("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4",children:j.map(function(e){return(0,y.jsx)(w,{title:e.title,description:e.description,sql:e.sql,onClick:function(t,r){E(t,r),m.Z.sendEvent({category:"quickstart",action:"quickstart_clicked",label:e.title},N,s)}},e.title)})})]})})})},57957:function(e,t,r){"use strict";r.r(t);var i=r(46776),n=r(11425),s=r(11163),o=r(52322),c=function(){return(0,o.jsx)(s.h,{})};c.getLayout=function(e){return(0,o.jsx)(n.Vk,{title:"SQL",children:e})},t.default=(0,i.Pi)(c)},89754:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/sql/templates",function(){return r(57957)}])}},function(e){e.O(0,[1187,8421,4747,7287,7898,6218,2514,2187,2645,6823,7725,9774,2888,179],function(){return e(e.s=89754)}),_N_E=e.O()}]);