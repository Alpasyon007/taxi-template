"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1419],{24627:function(e,t,r){r.d(t,{Y:function(){return a},w:function(){return n}});var n=.8,a=["Pricing","My project isn't getting traction","Poor customer service","Missing feature","I didn't see the value","Supabase didn't meet my needs","Dashboard is too complicated","Postgres is too complicated","Problem not solved","Too many bugs/issues","I decided to use something else","My work has finished/discontinued","Iâ€™m migrating to/starting a new project","None of the above"]},46791:function(e,t,r){r.d(t,{bm:function(){return s},ty:function(){return u}});var n=r(24627),a=r(27148),i=r(67270),o=r(52322),s={white:{bar:"fill-foreground",marker:"bg-foreground"},green:{bar:"fill-green-1000",marker:"bg-green-1000"},blue:{bar:"fill-blue-1000",marker:"bg-blue-1000"},yellow:{bar:"fill-amber-1000",marker:"bg-amber-1000"},orange:{bar:"fill-orange-1000",marker:"bg-orange-1000"}},u=[{key:"bandwidth",name:"Bandwidth",description:"Amount of data transmitted over all network connections",attributes:[{anchor:"dbEgress",key:a.tk.EGRESS,attributes:[{key:a.Iw.AUTH,name:"Auth Egress",color:"yellow"},{key:a.Iw.DATABASE,name:"Database Egress",color:"green"},{key:a.Iw.STORAGE,name:"Storage Egress",color:"blue"},{key:a.Iw.REALTIME,name:"Realtime Egress",color:"orange"}],name:"Total Egress",unit:"bytes",description:"Contains any outgoing traffic (egress) from your database.\nBilling is based on the total sum of egress in GB throughout your billing period.",chartDescription:"The data refreshes every 24 hours."}]},{key:"sizeCount",name:"Size & Counts",description:"Amount of resources your project is consuming",attributes:[{anchor:"dbSize",key:a.tk.DATABASE_SIZE,attributes:[{key:a.tk.DATABASE_SIZE.toLowerCase(),color:"white"}],name:"Database size",chartPrefix:"Average",unit:"bytes",description:"Database size refers to the monthly average storage usage, as reported by Postgres. Paid plans use auto-scaling disks.\nBilling is based on the average daily database size used in GB throughout the billing period. Billing is independent of the provisioned disk size.",links:[{name:"Documentation",url:"https://supabase.com/docs/guides/platform/database-size"}],chartDescription:"The data refreshes every 24 hours.",additionalInfo:function(e,t){var r,s,u,l,c=null==t?void 0:t.usages.find(function(e){return e.metric===a.tk.DATABASE_SIZE}),d="number"!=typeof c?(null!==(r=null==c?void 0:c.usage)&&void 0!==r?r:0)/(null!==(s=null==c?void 0:c.pricing_free_units)&&void 0!==s?s:0):0,h=c&&(null!==(u=null==c?void 0:c.pricing_free_units)&&void 0!==u?u:0)>0,m=h&&d>=n.w,f=h&&d>=1,g=null==c?void 0:c.capped,p=(null==e?void 0:null===(l=e.plan)||void 0===l?void 0:l.name)==="Free";return(0,o.jsx)("div",{children:(m||f)&&g&&(0,o.jsx)(i.b,{withIcon:!0,variant:f?"danger":"warning",title:f?"Exceeding database size limit":"Nearing database size limit",children:(0,o.jsx)("div",{className:"flex w-full items-center flex-col justify-center space-y-2 md:flex-row md:justify-between",children:(0,o.jsxs)("div",{children:["When you reach your database size limit, your project can go into read-only mode."," ",p?"Please upgrade your plan.":"Disable your spend cap to scale seamlessly and pay for over-usage beyond your plans quota."]})})})})}},{anchor:"storageSize",key:a.tk.STORAGE_SIZE,attributes:[{key:a.tk.STORAGE_SIZE.toLowerCase(),color:"white"}],name:"Storage Size",chartPrefix:"Average",unit:"bytes",description:"Sum of all objects in your storage buckets.\nBilling is based on the average daily size in GB throughout your billing period.",chartDescription:"The data refreshes every 24 hours.",links:[{name:"Storage",url:"https://supabase.com/docs/guides/storage"}]},{anchor:"funcCount",key:a.tk.FUNCTION_COUNT,attributes:[{key:a.tk.FUNCTION_COUNT.toLowerCase(),color:"white"}],name:"Edge Function Count",chartPrefix:"Max",unit:"absolute",description:"Number of serverless functions in your project.\nBilling is based on the maximum amount of functions at any point in time throughout your billing period.",chartDescription:"The data refreshes every 24 hours."}]},{key:"activity",name:"Activity",description:"Usage statistics that reflect the activity of your project",attributes:[{anchor:"mau",key:a.tk.MONTHLY_ACTIVE_USERS,attributes:[{key:a.tk.MONTHLY_ACTIVE_USERS.toLowerCase(),color:"white"}],name:"Monthly Active Users",chartPrefix:"Cumulative",chartSuffix:"in billing period",unit:"absolute",description:"Users who log in or refresh their token count towards MAU.\nBilling is based on the sum of distinct users requesting your API throughout the billing period. Resets every billing cycle.",chartDescription:"The data is refreshed over a period of 24 hours and resets at the beginning of every billing period.\nThe data points are relative to the beginning of your billing period and will reset with your billing period.",links:[{name:"Auth",url:"https://supabase.com/docs/guides/auth"}]},{anchor:"mauSso",key:a.tk.MONTHLY_ACTIVE_SSO_USERS,attributes:[{key:a.tk.MONTHLY_ACTIVE_SSO_USERS.toLowerCase(),color:"white"}],name:"Monthly Active SSO Users",chartPrefix:"Cumulative",chartSuffix:"in billing period",unit:"absolute",description:"SSO users who log in or refresh their token count towards SSO MAU.\nBilling is based on the sum of distinct Single Sign-On users requesting your API throughout the billing period. Resets every billing cycle.",chartDescription:"The data refreshes over a period of 24 hours and resets at the beginning of every billing period.\nThe data points are relative to the beginning of your billing period and will reset with your billing period.",links:[{name:"SSO with SAML 2.0",url:"https://supabase.com/docs/guides/auth/sso/auth-sso-saml"}]},{anchor:"storageImageTransformations",key:a.tk.STORAGE_IMAGES_TRANSFORMED,attributes:[{key:a.tk.STORAGE_IMAGES_TRANSFORMED.toLowerCase(),color:"white"}],name:"Storage Image Transformations",chartPrefix:"Cumulative",chartSuffix:"in billing period",unit:"absolute",description:"We count all images that were transformed in the billing period, ignoring any transformations.\nUsage example: You transform one image with four different size transformations and another image with just a single transformation. It counts as two, as only two images were transformed.\nBilling is based on the count of (origin) images that used transformations throughout the billing period. Resets every billing cycle.",chartDescription:"The data refreshes every 24 hours.\nThe data points are relative to the beginning of your billing period and will reset with your billing period.",links:[{name:"Documentation",url:"https://supabase.com/docs/guides/storage/image-transformations"}]},{anchor:"functionInvocations",key:a.tk.FUNCTION_INVOCATIONS,attributes:[{key:a.tk.FUNCTION_INVOCATIONS.toLowerCase(),color:"white"}],name:"Edge Function Invocations",unit:"absolute",description:"Every serverless function invocation independent of response status is counted.\nBilling is based on the sum of all invocations throughout your billing period.",chartDescription:"The data refreshes every 24 hours.",links:[{name:"Edge Functions",url:"https://supabase.com/docs/guides/functions"}]},{anchor:"realtimeMessageCount",key:a.tk.REALTIME_MESSAGE_COUNT,attributes:[{key:a.tk.REALTIME_MESSAGE_COUNT.toLowerCase(),color:"white"}],name:"Realtime Message Count",unit:"absolute",description:"Count of messages going through Realtime.\nUsage example: If you do a database change and 5 clients listen to that change via Realtime, that's 5 messages. If you broadcast a message and 4 clients listen to that, that's 5 messages (1 message sent, 4 received).\nBilling is based on the total amount of messages throughout your billing period.",chartDescription:"The data refreshes every 24 hours.",links:[{name:"Realtime Quotas",url:"https://supabase.com/docs/guides/realtime/quotas"}]},{anchor:"realtimePeakConnection",key:a.tk.REALTIME_PEAK_CONNECTIONS,attributes:[{key:a.tk.REALTIME_PEAK_CONNECTIONS.toLowerCase(),color:"white"}],name:"Realtime Peak Connections",chartPrefix:"Max",unit:"absolute",description:"Total number of successful connections. Connections attempts are not counted towards usage.\nBilling is based on the maximum amount of concurrent peak connections throughout your billing period.",chartDescription:"The data refreshes every 24 hours.",links:[{name:"Realtime Quotas",url:"https://supabase.com/docs/guides/realtime/quotas"}]}]}]},56875:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(6277),a=r(28879),i=r.n(a),o=r(61660),s=r(5591),u=r(55484),l=r(25556),c=r(3131),d=r(47857),h=r(24908),m=r(11011),f=r(46791),g=r(52322),p=function(e){var t=e.name,r=e.unit,n=e.value,a=e.isAfterToday,i=e.tooltipFormatter,o="percentage"===r?Number(n).toFixed(2):Number(n);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("p",{className:"text-xs text-foreground-light",children:t}),a?(0,g.jsx)("p",{className:"text-foreground-light text-lg",children:"No data yet"}):(0,g.jsx)("p",{className:"text-xl",children:void 0!==i?i(o):o})]})},b=function(e){var t,r=e.attribute,a=e.attributeMeta,i=e.sumValue,o=e.tooltipFormatter,s=Number(null!==(t=null==a?void 0:a.value)&&void 0!==t?t:0),u=(s/i*100).toFixed(1);return(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-2 w-[200px]",children:[(0,g.jsx)("div",{className:(0,n.default)("w-3 h-3 rounded-full border",f.bm[r.color].marker)}),(0,g.jsxs)("p",{className:"text-xs prose",children:[r.name," (",u,"%):"," "]})]}),(0,g.jsx)("p",{className:"text-xs tabular-nums",children:void 0!==o?o(s):s})]},r.name)},y=function(e){var t=e.attributes,r=e.values,n=e.isAfterToday,a=e.tooltipFormatter,i=r.reduce(function(e,t){return e+Number(t.value)},0);return(0,g.jsx)(g.Fragment,{children:n?(0,g.jsx)("p",{className:"text-foreground-light text-lg",children:"No data yet"}):(0,g.jsx)("div",{className:"space-y-1 pb-1",children:t.flatMap(function(e){var t,n=r.find(function(t){return t.dataKey===e.key});return 0===Number(null!==(t=null==n?void 0:n.value)&&void 0!==t?t:0)?[]:(0,g.jsx)(b,{attribute:e,attributeMeta:n,sumValue:i,tooltipFormatter:a},e.name)})})})},v=function(e){var t=e.data,r=e.name,a=e.attributes,b=e.unit,v=e.yLimit,S=e.yLeftMargin,_=e.yFormatter,E=e.tooltipFormatter;return(0,g.jsx)("div",{className:"w-full h-[200px]",children:(0,g.jsx)(o.h,{width:"100%",height:200,children:(0,g.jsxs)(s.c,{data:t,margin:{top:0,right:0,left:void 0===S?10:S,bottom:0},children:[(0,g.jsx)(u.q,{vertical:!1,strokeDasharray:"3 3",className:"stroke-border-stronger"}),(0,g.jsx)(l.K,{dataKey:"periodStartFormatted"}),(0,g.jsx)(c.B,{width:40,axisLine:!1,tickLine:{stroke:"none"},domain:[0,null!=v?v:0],tickFormatter:_}),(0,g.jsx)(d.u,{content:function(e){var t=e.active,o=e.payload;if(!t||!o||!o.length)return null;var s=i()(o[0].payload.period_start),u=s.startOf("day").isAfter(i()().startOf("day"));return(0,g.jsxs)("div",{className:(0,n.default)("border bg-surface-100 rounded-md px-2 py-2",a.length>1&&!u?"w-[250px]":"w-[170px]"),children:[a.length>1?(0,g.jsx)(y,{attributes:a,values:o,isAfterToday:u,tooltipFormatter:E}):(0,g.jsx)(p,{name:r,unit:b,value:o[0].value,tooltipFormatter:E,isAfterToday:u}),(0,g.jsx)("p",{className:"text-xs text-foreground-light mt-1",children:s.format("DD MMM YYYY")})]})}}),null==a?void 0:a.map(function(e){return(0,g.jsx)(h.$,{dataKey:e.key,stackId:"a",children:t.map(function(t){return(0,g.jsx)(m.b,{className:f.bm[e.color].bar},"".concat(t.period_start))})},e.key)})]})})})}},67702:function(e,t,r){var n=r(28879),a=r.n(n),i=r(2784),o=r(93306),s=r(8647),u=r(77740),l=r(9747),c=r(52322);t.Z=function(e){var t,r=e.onChange,n=e.value,d=e.options,h=e.loading,m=e.currentBillingPeriodStart,f=e.currentBillingPeriodEnd,g=(0,i.useState)(n),p=g[0],b=g[1];(0,i.useEffect)(function(){_(n)},[h]);var y=a()().startOf("month").format(l.zT),v=a()().add(1,"month").startOf("month").format(l.zT),S=a()().format(l.zT);function _(e){switch(b(e),e){case"currentBillingCycle":r({period_start:{date:a().unix(null!=m?m:0).format(l.zT),time_period:"1d"},period_end:{date:a().unix(null!=f?f:0).format(l.zT),time_period:"today"},interval:"1d"});break;case"previousBillingCycle":r({period_start:{date:a().unix(null!=m?m:0).subtract(1,"month").format(l.zT),time_period:"1d"},period_end:{date:a().unix(null!=m?m:0).format(l.zT),time_period:"today"},interval:"1d"});break;case"1d":r({period_start:{date:a()().subtract(24,"hour").format(l.zT),time_period:"1d"},period_end:{date:S,time_period:"today"},interval:"1h"});break;case"3h":r({period_start:{date:a()().subtract(3,"hour").format(l.zT),time_period:"3h"},period_end:{date:S,time_period:"today"},interval:"5m"});break;case"1h":r({period_start:{date:a()().subtract(1,"hour").format(l.zT),time_period:"1h"},period_end:{date:S,time_period:"today"},interval:"5m"});break;case"7d":r({period_start:{date:a()().subtract(7,"day").format(l.zT),time_period:"7d"},period_end:{date:S,time_period:"today"},interval:"1d"});break;case"30d":r({period_start:{date:a()().subtract(30,"day").format(l.zT),time_period:"30d"},period_end:{date:S,time_period:"today"},interval:"1d"});break;case"60d":r({period_start:{date:a()().subtract(60,"day").format(l.zT),time_period:"60d"},period_end:{date:S,time_period:"today"},interval:"3d"});break;case"startMonth":r({period_start:{date:y,time_period:"startMonth"},period_end:{date:v,time_period:"endMonth"},interval:"1d"});break;default:console.warn("Unknown period encountered: ".concat(e))}}return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(o.h_,{children:[(0,c.jsx)(o.$F,{children:(0,c.jsx)(s.z,{asChild:!0,type:"default",iconRight:(0,c.jsx)(u.Z,{}),children:(0,c.jsx)("span",{children:p&&(null===(t=d.find(function(e){return e.key===p}))||void 0===t?void 0:t.label)})})}),(0,c.jsx)(o.AW,{side:"bottom",align:"start",children:(0,c.jsx)(o._x,{value:p,onValueChange:function(e){return _(e)},children:d.map(function(e){return(0,c.jsx)(o.qB,{value:e.key,children:e.label},e.key)})})})]})})}},880:function(e,t,r){r.d(t,{d:function(){return n}});var n={functionsInvStats:function(e,t){return["projects",e,"functions-inv-stats",{interval:t.interval,functionId:t.functionId}]},functionsReqStats:function(e,t){return["projects",e,"functions-req-stats",{interval:t.interval,functionId:t.functionId}]},functionsResourceUsage:function(e,t){return["projects",e,"functions-resource-usage",{interval:t.interval,functionId:t.functionId}]},dailyStats:function(e,t){var r=t.attribute,n=t.startDate,i=t.endDate,o=t.interval;return["projects",e,"daily-stats",{attribute:r,startDate:a(n),endDate:a(i),interval:o}]},orgDailyStats:function(e,t){var r=t.metric,n=t.startDate,i=t.endDate,o=t.interval,s=t.projectRef;return["organizations",e,"daily-stats",{metric:r,startDate:a(n),endDate:a(i),interval:o,projectRef:s}]},infraMonitoring:function(e,t){return["projects",e,"infra-monitoring",{attribute:t.attribute,startDate:t.startDate,endDate:t.endDate,interval:t.interval}]},usageApiCounts:function(e,t){return["projects",e,"usage.api-counts",t]},usageApiRequestsCount:function(e){return["projects",e,"usage.api-requests-count"]}};function a(e){return e?e.split("T")[0]:e}},27148:function(e,t,r){r.d(t,{Iw:function(){return o},L6:function(){return T},tk:function(){return s}});var n,a,i,o,s,u,l=r(95235),c=r(82269),d=r(20406),h=r(28526),m=r.n(h),f=r(58943),g=r(28879),p=r.n(g),b=r(37552),y=r(9747),v=r(880),S=["enabled"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(){return(O=(0,d.Z)(m().mark(function e(t,r){var n,a,i,o,s,u,l,c,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.orgSlug,a=t.metric,i=t.startDate,o=t.endDate,u=void 0===(s=t.interval)?"1d":s,l=t.projectRef,n){e.next=3;break}throw Error("Org slug is required");case 3:if(a){e.next=5;break}throw Error("Metric is required");case 5:if(i){e.next=7;break}throw Error("Start date is required");case 7:if(o){e.next=9;break}throw Error("Start date is required");case 9:return c="".concat(y.T5,"/organizations/").concat(n,"/daily-stats?metric=").concat(a,"&startDate=").concat(encodeURIComponent(i),"&endDate=").concat(encodeURIComponent(o)),u&&(c+="&interval=".concat(u)),l&&(c+="&projectRef=".concat(l)),e.next=14,(0,b.U2)(c,{signal:r});case 14:if(!(d=e.sent).error){e.next=17;break}throw d.error;case 17:return e.abrupt("return",d);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}(n=o||(o={})).DATABASE="egress_database",n.AUTH="egress_auth",n.STORAGE="egress_storage",n.REALTIME="egress_realtime",n.UNIFIED="egress",(a=s||(s={})).EGRESS="EGRESS",a.DATABASE_EGRESS="DATABASE_EGRESS",a.DATABASE_SIZE="DATABASE_SIZE",a.STORAGE_EGRESS="STORAGE_EGRESS",a.STORAGE_SIZE="STORAGE_SIZE",a.MONTHLY_ACTIVE_USERS="MONTHLY_ACTIVE_USERS",a.MONTHLY_ACTIVE_SSO_USERS="MONTHLY_ACTIVE_SSO_USERS",a.FUNCTION_INVOCATIONS="FUNCTION_INVOCATIONS",a.FUNCTION_COUNT="FUNCTION_COUNT",a.STORAGE_IMAGES_TRANSFORMED="STORAGE_IMAGES_TRANSFORMED",a.REALTIME_MESSAGE_COUNT="REALTIME_MESSAGE_COUNT",a.REALTIME_PEAK_CONNECTIONS="REALTIME_PEAK_CONNECTIONS",(i=u||(u={})).COMPUTE_HOURS_XS="COMPUTE_HOURS_XS",i.COMPUTE_HOURS_SM="COMPUTE_HOURS_SM",i.COMPUTE_HOURS_MD="COMPUTE_HOURS_MD",i.COMPUTE_HOURS_L="COMPUTE_HOURS_L",i.COMPUTE_HOURS_XL="COMPUTE_HOURS_XL",i.COMPUTE_HOURS_2XL="COMPUTE_HOURS_2XL",i.COMPUTE_HOURS_4XL="COMPUTE_HOURS_4XL",i.COMPUTE_HOURS_8XL="COMPUTE_HOURS_8XL",i.COMPUTE_HOURS_12XL="COMPUTE_HOURS_12XL",i.COMPUTE_HOURS_16XL="COMPUTE_HOURS_16XL";var T=function(e){var t=e.orgSlug,r=e.metric,n=e.startDate,a=e.endDate,i=e.interval,o=void 0===i?"1d":i,s=e.projectRef,u=e.dateFormat,d=void 0===u?"DD MMM":u,h=e.modifier,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=m.enabled,b=(0,c.Z)(m,S);return(0,f.a)(v.d.orgDailyStats(t,{metric:r,startDate:n,endDate:a,interval:o,projectRef:s}),function(e){return function(e,t){return O.apply(this,arguments)}({orgSlug:t,metric:r,startDate:n,endDate:a,interval:o,projectRef:s},e.signal)},E({enabled:(void 0===g||g)&&void 0!==t&&void 0!==r&&void 0!==n&&void 0!==a,select:function(e){return E(E({},e),{},{data:e.data.map(function(e){var t;return E(E({},e),{},(t={},(0,l.Z)(t,r,void 0!==h?h(Number(e[r])):Number(e[r])),(0,l.Z)(t,"periodStartFormatted",p()(e.period_start).format(d)),t))})})},staleTime:36e5},b))}},75095:function(e,t,r){var n=r(95235);r(2784);var a=r(7342),i=r(12223),o=r(52322);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,o.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:a.Z},e))}}}]);