"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1414],{28926:function(e,t,r){var n=r(20406),i=r(28526),o=r.n(i),c=r(76635),a=r(2784),s=r(8647),l=r(52322);t.Z=function(e){var t,r=e.loading,i=void 0!==r&&r,u=e.disableApply,p=void 0!==u&&u,d=e.hideApply,f=e.children,b=e.applyButtonLabel,m=void 0===b?"Apply":b,y=e.backButtonLabel,j=e.applyFunction,v=void 0===j?void 0:j,O=e.closePanel,g=void 0===O?c.noop:O,h=e.formId,x=(0,a.useState)(!1),w=x[0],P=x[1],D=(t=(0,n.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,new Promise(function(e){return v(e)});case 3:P(!1);case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,l.jsxs)("div",{className:"flex w-full justify-end space-x-3 border-t border-default px-3 py-4",children:[(0,l.jsx)(s.z,{size:"small",type:"default",htmlType:"button",onClick:g,disabled:w||i,children:void 0===y?"Back":y}),void 0===f?void 0:f,void 0!==v?(0,l.jsx)(s.z,{size:"small",onClick:D,disabled:p||w||i,loading:w||i,children:m}):void 0!==d&&d?(0,l.jsx)("div",{}):(0,l.jsx)(s.z,{size:"small",disabled:i||p,loading:i,htmlType:"submit",form:h,children:m})]})}},58359:function(e,t,r){r.d(t,{Z:function(){return P}});var n=r(76635),i=r(39097),o=r.n(i),c=r(14665),a=r(69358),s=r(79382),l=r(95235);r(2784);var u=r(26445),p=r(12223),d=r(52322);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var b=function(e){return(0,d.jsx)(p.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:u.Z},e))},m=r(99311);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var j=function(e){return(0,d.jsx)(p.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:m.Z},e))},v=r(31786),O=r(67270),g=r(8647),h=r(95223),x=r(44851),w=r(34876),P=function(e){var t=e.value,r=e.enumTypes,i=void 0===r?[]:r,l=e.className,u=e.size,p=e.layout,f=e.error,m=e.disabled,y=void 0!==m&&m,P=e.showLabel,D=void 0===P||P,S=e.description,k=e.showRecommendation,E=e.onOptionSelect,Z=void 0===E?n.noop:E,z=x.DL.concat(i.map(function(e){return e.name})),N=!t||z.includes(t),_=x.VP[t];if(!N)return(0,d.jsx)(c.Z,{readOnly:!0,disabled:!0,label:D?"Type":"",layout:D?"horizontal":void 0,className:"md:gap-x-0",size:"small",value:t,descriptionText:D?"Custom non-native psql data types cannot currently be changed to a different data type via Supabase Studio":""});var T=function(e){switch(e){case"number":return(0,d.jsx)(a.Z,{size:16,className:"text-foreground",strokeWidth:1.5});case"time":return(0,d.jsx)(s.Z,{size:16,className:"text-foreground",strokeWidth:1.5});case"text":return(0,d.jsx)(b,{size:16,className:"text-foreground",strokeWidth:1.5});case"json":return(0,d.jsx)("div",{className:"text-foreground",style:{padding:"0px 1px"},children:"{ }"});case"bool":return(0,d.jsx)(j,{size:16,className:"text-foreground",strokeWidth:1.5});default:return(0,d.jsx)("div",{})}};return(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(v.Z,{label:D?"Type":"",layout:p||(D?"horizontal":"vertical"),value:t,size:void 0===u?"medium":u,error:f,disabled:y,descriptionText:S,className:"".concat(l," ").concat(y?"column-type-disabled":""," rounded-md"),onChange:function(e){return Z(e)},optionsWidth:480,children:[(0,d.jsx)(v.Z.Option,{value:"",label:"---",children:"---"},"empty"),i.length>0?(0,d.jsx)(v.Z.Option,{disabled:!0,value:"header-1",label:"header-1",children:"Enumerated Types"},"header-1"):(0,d.jsx)(d.Fragment,{}),i.length>0?i.map(function(e){return(0,d.jsx)(v.Z.Option,{value:e.name,label:e.name,addOnBefore:function(){return(0,d.jsx)(w.Z,{size:16,className:"text-foreground",strokeWidth:1.5})},children:(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("p",{className:"text-foreground",children:e.name}),void 0!==e.comment&&(0,d.jsx)("p",{className:"text-foreground-lighter",children:e.comment})]})},e.name)}):(0,d.jsx)(d.Fragment,{}),(0,d.jsx)(v.Z.Option,{disabled:!0,value:"header-2",label:"header-2",children:"PostgreSQL Data Types"}),x.N0.map(function(e){return(0,d.jsx)(v.Z.Option,{value:e.name,label:e.name,addOnBefore:function(){return T(e.type)},children:(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("span",{className:"text-foreground",children:e.name}),(0,d.jsx)("span",{className:"text-foreground-lighter",children:e.description})]})},e.name)})]}),void 0!==k&&k&&void 0!==_&&(0,d.jsxs)(O.b,{withIcon:!0,variant:"warning",title:(0,d.jsxs)(d.Fragment,{children:["It is recommended to use ",(0,d.jsx)("code",{className:"text-xs",children:_.alternative})," ","instead"]}),children:[(0,d.jsxs)("p",{children:["Postgres recommends against using the data type ",(0,d.jsx)("code",{className:"text-xs",children:t})," ","unless you have a very specific use case."]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,d.jsx)(g.z,{asChild:!0,type:"default",icon:(0,d.jsx)(h.Z,{}),children:(0,d.jsx)(o(),{href:_.reference,target:"_blank",rel:"noreferrer",children:"Read more"})}),(0,d.jsxs)(g.z,{type:"primary",onClick:function(){return Z(_.alternative)},children:["Use ",_.alternative]})]})]})]})}},44851:function(e,t,r){r.d(t,{BB:function(){return o},DL:function(){return u},Ks:function(){return c},N0:function(){return d},VP:function(){return p},XO:function(){return s},YF:function(){return i},lb:function(){return a},nA:function(){return l}});var n=r(76635),i=["json","jsonb"],o=["text","varchar"],c=["timestamp","timestamptz"],a=["date"],s=["time","timetz"],l=(0,n.concat)(c,a,s),u=(0,n.sortBy)((0,n.concat)(["int2","int4","int8","float4","float8","numeric","double precision"],i,o,l,["uuid","bool","vector"])),p={varchar:{alternative:"text",reference:"https://wiki.postgresql.org/wiki/Don't_Do_This#Don.27t_use_varchar.28n.29_by_default"},json:{alternative:"jsonb",reference:"https://www.postgresql.org/docs/current/datatype-json.html"},timetz:{alternative:"timestamptz",reference:"https://wiki.postgresql.org/wiki/Don't_Do_This#Don.27t_use_timetz"},timestamp:{alternative:"timestamptz",reference:"https://wiki.postgresql.org/wiki/Don't_Do_This#Don.27t_use_timestamp_.28without_time_zone.29"}},d=[{name:"int2",description:"Signed two-byte integer",type:"number"},{name:"int4",description:"Signed four-byte integer",type:"number"},{name:"int8",description:"Signed eight-byte integer",type:"number"},{name:"float4",description:"Single precision floating-point number (4 bytes)",type:"number"},{name:"float8",description:"Double precision floating-point number (8 bytes)",type:"number"},{name:"numeric",description:"Exact numeric of selectable precision",type:"number"},{name:"json",description:"Textual JSON data",type:"json"},{name:"jsonb",description:"Binary JSON data, decomposed",type:"json"},{name:"text",description:"Variable-length character string",type:"text"},{name:"varchar",description:"Variable-length character string",type:"text"},{name:"uuid",description:"Universally unique identifier",type:"text"},{name:"date",description:"Calendar date (year, month, day)",type:"time"},{name:"time",description:"Time of day (no time zone)",type:"time"},{name:"timetz",description:"Time of day, including time zone",type:"time"},{name:"timestamp",description:"Date and time (no time zone)",type:"time"},{name:"timestamptz",description:"Date and time, including time zone",type:"time"},{name:"bool",description:"Logical boolean (true/false)",type:"bool"}]},41337:function(e,t,r){r.d(t,{Z:function(){return k}});var n=r(97064),i=r(40079),o=r(95235),c=r(82269),a=r(20406),s=r(28526),l=r.n(s),u=r(58943),p=r(37552),d=r(9747),f=["enabled"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(){return(m=(0,a.Z)(l().mark(function e(t,r){var n,i,o,c,a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,i=t.projectRef,o=t.connectionString,i){e.next=3;break}throw Error("projectRef is required");case 3:if(n){e.next=5;break}throw Error("id is required");case 5:return c=new Headers,o&&c.set("x-connection-encrypted",o),e.next=9,(0,p.U2)("".concat(d.T5,"/pg-meta/").concat(i,"/foreign-tables?id=").concat(n),{headers:Object.fromEntries(c),signal:r});case 9:if(!("error"in(a=e.sent))){e.next=12;break}throw a.error;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var y=function(e){var t=e.projectRef,r=e.connectionString,n=e.id,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.enabled,s=(0,c.Z)(i,f);return(0,u.a)(["projects",t,"foreignTables",n],function(e){return function(e,t){return m.apply(this,arguments)}({projectRef:t,connectionString:r,id:n},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t&&void 0!==n},s))},j=["enabled"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(){return(O=(0,a.Z)(l().mark(function e(t,r){var n,i,o,c,a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,i=t.projectRef,o=t.connectionString,i){e.next=3;break}throw Error("projectRef is required");case 3:if(n){e.next=5;break}throw Error("id is required");case 5:return c=new Headers,o&&c.set("x-connection-encrypted",o),e.next=9,(0,p.U2)("".concat(d.T5,"/pg-meta/").concat(i,"/materialized-views?id=").concat(n),{headers:Object.fromEntries(c),signal:r});case 9:if(!("error"in(a=e.sent))){e.next=12;break}throw a.error;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=function(e){var t=e.projectRef,r=e.connectionString,n=e.id,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.enabled,s=(0,c.Z)(i,j);return(0,u.a)(["projects",t,"materializedViews",n],function(e){return function(e,t){return O.apply(this,arguments)}({projectRef:t,connectionString:r,id:n},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t&&void 0!==n},s))},h=r(39203),x=["enabled"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(){return(P=(0,a.Z)(l().mark(function e(t,r){var n,i,o,c,a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,i=t.projectRef,o=t.connectionString,i){e.next=3;break}throw Error("projectRef is required");case 3:if(n){e.next=5;break}throw Error("id is required");case 5:return c=new Headers,o&&c.set("x-connection-encrypted",o),e.next=9,(0,p.U2)("".concat(d.T5,"/pg-meta/").concat(i,"/views?id=").concat(n),{headers:Object.fromEntries(c),signal:r});case 9:if(!("error"in(a=e.sent))){e.next=12;break}throw a.error;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=function(e){var t=e.projectRef,r=e.connectionString,n=e.id,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.enabled,s=(0,c.Z)(i,x);return(0,u.a)(["projects",t,"views",n],function(e){return function(e,t){return P.apply(this,arguments)}({projectRef:t,connectionString:r,id:n},e.signal)},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({enabled:(void 0===a||a)&&void 0!==t&&void 0!==n},s))},S=r(85937),k=function(e){var t=(0,n.d2)().project,r=(0,S.Z)(e),o=(0,h.yp)({projectRef:null==t?void 0:t.ref,connectionString:null==t?void 0:t.connectionString,id:null==r?void 0:r.id},{enabled:(null==r?void 0:r.type)===i.l.TABLE}),c=D({projectRef:null==t?void 0:t.ref,connectionString:null==t?void 0:t.connectionString,id:null==r?void 0:r.id},{enabled:(null==r?void 0:r.type)===i.l.VIEW}),a=g({projectRef:null==t?void 0:t.ref,connectionString:null==t?void 0:t.connectionString,id:null==r?void 0:r.id},{enabled:(null==r?void 0:r.type)===i.l.MATERIALIZED_VIEW}),s=y({projectRef:null==t?void 0:t.ref,connectionString:null==t?void 0:t.connectionString,id:null==r?void 0:r.id},{enabled:(null==r?void 0:r.type)===i.l.FOREIGN_TABLE});switch(null==r?void 0:r.type){case i.l.TABLE:return o;case i.l.VIEW:return c;case i.l.MATERIALIZED_VIEW:return a;case i.l.FOREIGN_TABLE:return s;default:return o}}},7980:function(e,t,r){var n=r(95235);r(2784);var i=r(58951),o=r(12223),c=r(52322);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,c.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:i.Z},e))}},69358:function(e,t,r){var n=r(95235);r(2784);var i=r(83178),o=r(12223),c=r(52322);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){return(0,c.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({icon:i.Z},e))}}}]);