"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9212],{45363:function(e,n,t){var r=t(2784),s=t(97346),a=t(51459),i=t(52322);n.Z=function(e){var n=e.commands;return(0,i.jsx)("div",{className:"space-y-4",children:n.map(function(e,n){return(0,i.jsx)(c,{item:e},"command-".concat(n))})})};var c=function(e){var n=e.item,t=(0,r.useState)(!1),c=t[0],o=t[1];return(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:"> ".concat(n.comment)}),(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,i.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,i.jsxs)("span",{children:[(0,i.jsxs)("span",{className:"",children:[n.jsx?n.jsx():null," "]}),(0,i.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:function(){var e;e=n.command,o(!0),navigator.clipboard.writeText(e).then(),setTimeout(function(){o(!1)},3e3)},children:c?(0,i.jsx)("div",{className:"text-brand",children:(0,i.jsx)(s.Z,{size:14,strokeWidth:3})}):(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)("div",{className:"block",children:(0,i.jsx)(a.Z,{size:14})})})})]})]})})]})}},25666:function(e,n,t){t.d(n,{Hk:function(){return Q},vI:function(){return et},Zv:function(){return ec},ds:function(){return ei}});var r=t(20406),s=t(28526),a=t.n(s),i=t(24990),c=t(59491),o=t(6277),l=t(43991),d=t(28879),u=t.n(d),x=t(39097),f=t.n(x),h=t(5632),p=t(2784),m=t(43635),j=t(14665),v=t(49257),g=t(8647),b=t(95223),y=t(92198),N=t(59476),w=t(63060),k=t(67270),O=t(36849),Z=t(57626),E=t(45008),C=t(31941),R=t(78452),D=t(64209),S=t(95235),P=t(82269),A=t(55830),F=t(62350),z=t(62202),Y=t(37552),_=t(9747),M=t(79217),T=["onSuccess","onError"];function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function L(){return(L=(0,r.Z)(a().mark(function e(n){var t,r,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.projectRef,r=n.slug,t){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,Y.$v)("".concat(_.Q2,"/projects/").concat(t,"/functions/").concat(r),{});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onSuccess,t=e.onError,s=(0,P.Z)(e,T),i=(0,A.NL)();return(0,F.D)(function(e){return function(e){return L.apply(this,arguments)}(e)},function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach(function(n){(0,S.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({onSuccess:function(e,t,s){return(0,r.Z)(a().mark(function r(){var c;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=t.projectRef,r.next=3,i.invalidateQueries(M.f.list(c),{refetchType:"all"});case 3:return r.next=5,null==n?void 0:n(e,t,s);case 5:case"end":return r.stop()}},r)}))()},onError:function(e,n,s){return(0,r.Z)(a().mark(function r(){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:void 0===t?z.Am.error("Failed to delete edge function: ".concat(e.message)):t(e,n,s);case 1:case"end":return r.stop()}},r)}))()}},s))},W=["onSuccess","onError"];function V(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function H(){return(H=(0,r.Z)(a().mark(function e(n){var t,r,s,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.projectRef,r=n.slug,s=n.payload,t){e.next=3;break}throw Error("projectRef is required");case 3:return e.next=5,(0,Y.r$)("".concat(_.Q2,"/projects/").concat(t,"/functions/").concat(r),s);case 5:if(!(i=e.sent).error){e.next=8;break}throw i.error;case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onSuccess,t=e.onError,s=(0,P.Z)(e,W),i=(0,A.NL)();return(0,F.D)(function(e){return function(e){return H.apply(this,arguments)}(e)},function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?V(Object(t),!0).forEach(function(n){(0,S.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({onSuccess:function(e,t,s){return(0,r.Z)(a().mark(function r(){var c,o;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=t.projectRef,o=t.slug,r.next=3,i.invalidateQueries(M.f.detail(c,o));case 3:return r.next=5,null==n?void 0:n(e,t,s);case 5:case"end":return r.stop()}},r)}))()},onError:function(e,n,s){return(0,r.Z)(a().mark(function r(){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:void 0===t?z.Am.error("Failed to update edge function: ".concat(e.message)):t(e,n,s);case 1:case"end":return r.stop()}},r)}))()}},s))},B=t(70203),K=t(45363),J=t(52322),Q=function(){var e,n,t,s,d=(0,h.useRouter)(),x=(0,B.oR)().ui,S=(0,l.UO)(),P=S.ref,A=S.functionSlug,F=(0,p.useState)(!1),z=F[0],Y=F[1],_=(0,p.useState)(!1),M=_[0],T=_[1],U=(0,C.qP)({projectRef:P}).data,L=(0,R.z)({projectRef:P}).data,W=(0,D.J)({projectRef:P,slug:A}).data,V=q(),H=V.mutateAsync,Q=V.isLoading,X=I({onSuccess:function(){x.setNotification({category:"success",message:'Successfully deleted "'.concat(null==W?void 0:W.name,'"')}),d.push("/project/".concat(P,"/functions"))}}),$=X.mutate,G=X.isLoading,ee="edge-function-update-form",en=(0,B.Xo)(c.KA.FUNCTIONS_WRITE,"*"),et=null==U?void 0:U.autoApiService,er=null!=et&&et.service_api_keys.find(function(e){return"anon key"===e.name})?et.defaultApiKey:"[YOUR ANON KEY]",es=null!==(t=null==et?void 0:et.app_config.endpoint)&&void 0!==t?t:"",ea=(null==L?void 0:null===(s=L.customDomain)||void 0===s?void 0:s.status)==="active"?"".concat(null==et?void 0:et.protocol,"://").concat(L.customDomain.hostname,"/functions/v1/").concat(null==W?void 0:W.slug):"".concat(null==et?void 0:et.protocol,"://").concat(es,"/functions/v1/").concat(null==W?void 0:W.slug),ei={managementCommands:[{command:"supabase functions deploy ".concat(null==W?void 0:W.slug),description:"This will overwrite the deployed function with your new function",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy"," ",null==W?void 0:W.slug]})},comment:"Deploy a new version"},{command:"supabase functions delete ".concat(null==W?void 0:W.slug),description:"This will remove the function and all the logs associated with it",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions delete"," ",null==W?void 0:W.slug]})},comment:"Delete the function"}],secretCommands:[{command:"supabase secrets list",description:"This will list all the secrets for your project",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets list"]})},comment:"View all secrets"},{command:"supabase secrets set NAME1=VALUE1 NAME2=VALUE2",description:"This will set secrets for your project",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets set NAME1=VALUE1 NAME2=VALUE2"]})},comment:"Set secrets for your project"},{command:"supabase secrets unset NAME1 NAME2 ",description:"This will delete secrets for your project",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets unset NAME1 NAME2"]})},comment:"Unset secrets for your project"}],invokeCommands:[{command:"curl -L -X POST '".concat(ea,"' -H 'Authorization: Bearer ").concat(null!=er?er:"[YOUR ANON KEY]",'\' --data \'{"name":"Functions"}\''),description:"Invokes the hello function",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",ea,"' -H 'Authorization: Bearer [YOUR ANON KEY]' ",'--data \'{"name":"Functions"}\'']})},comment:"Invoke your function"}]},ec=ei.managementCommands,eo=ei.secretCommands,el=ei.invokeCommands,ed=(e=(0,r.Z)(a().mark(function e(n,t){var r;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.resetForm,P){e.next=3;break}return e.abrupt("return",console.error("Project ref is required"));case 3:if(void 0!==W){e.next=5;break}return e.abrupt("return",console.error("No edge function selected"));case 5:return e.prev=5,e.next=8,H({projectRef:P,slug:W.slug,payload:n});case 8:r({values:n,initialValues:n}),x.setNotification({category:"success",message:"Successfully updated edge function"}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:case"end":return e.stop()}},e,null,[[5,12]])})),function(n,t){return e.apply(this,arguments)}),eu=(n=(0,r.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(void 0!==W){e.next=4;break}return e.abrupt("return",console.error("No edge function selected"));case 4:$({projectRef:P,slug:W.slug});case 5:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),ex=(0,p.useMemo)(function(){return(null==W?void 0:W.import_map)||(null==W?void 0:W.import_map_path)},[W]);return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:"space-y-4 pb-16",children:[(0,J.jsx)(m.Z,{id:ee,initialValues:{},onSubmit:ed,children:function(e){var n,t,r,s=e.handleReset,a=e.values,i=e.initialValues,c=e.resetForm,l=JSON.stringify(a)!==JSON.stringify(i);return(0,p.useEffect)(function(){if(void 0!==W){var e={name:null==W?void 0:W.name,verify_jwt:null==W?void 0:W.verify_jwt};c({values:e,initialValues:e})}},[W]),(0,J.jsx)(J.Fragment,{children:(0,J.jsxs)(Z.by,{disabled:!en,footer:(0,J.jsx)("div",{className:"flex py-4 px-8",children:(0,J.jsx)(Z.iN,{form:ee,isSubmitting:Q,hasChanges:l,handleReset:s,helper:en?void 0:"You need additional permissions to update this function"})}),children:[(0,J.jsx)(Z.hj,{header:(0,J.jsx)(Z.S0,{children:"Function Details"}),children:(0,J.jsxs)(Z.B4,{loading:void 0===W,children:[(0,J.jsx)(j.Z,{id:"name",name:"name",label:"Name"}),(0,J.jsx)(j.Z,{disabled:!0,id:"slug",name:"slug",label:"Slug",value:null==W?void 0:W.slug}),(0,J.jsx)(j.Z,{disabled:!0,copy:!0,label:"Endpoint URL",value:ea}),(0,J.jsx)(j.Z,{disabled:!0,label:"Region",value:"All functions are deployed globally"}),(0,J.jsx)(j.Z,{disabled:!0,label:"Created at",value:u()(null!==(n=null==W?void 0:W.created_at)&&void 0!==n?n:0).format("dddd, MMMM D, YYYY h:mm A")}),(0,J.jsx)(j.Z,{disabled:!0,label:"Last updated at",value:u()(null!==(t=null==W?void 0:W.updated_at)&&void 0!==t?t:0).format("dddd, MMMM D, YYYY h:mm A")}),(0,J.jsx)(j.Z,{disabled:!0,label:"Deployments",value:null!==(r=null==W?void 0:W.version)&&void 0!==r?r:0})]})}),(0,J.jsx)(Z.hj,{header:(0,J.jsx)(Z.S0,{children:"Function Configuration"}),children:(0,J.jsxs)(Z.B4,{loading:void 0===W,children:[(0,J.jsx)(v.Z,{id:"verify_jwt",name:"verify_jwt",label:"Enforce JWT Verification",descriptionText:"Require a valid JWT in the authorization header when invoking the function"}),(0,J.jsxs)("div",{className:"space-y-1 border rounded border-default bg-surface-200 px-4 py-4",children:[(0,J.jsx)("div",{className:"flex items-center space-x-2",children:(0,J.jsxs)("p",{className:"text-sm",children:["Import maps are"," ",(0,J.jsx)("span",{className:(0,o.default)(ex?"text-brand":"text-amber-900"),children:ex?"used":"not used"})," ","for this function"]})}),(0,J.jsx)("p",{className:"text-sm text-foreground-light",children:"Import maps allow the use of bare specifiers in functions instead of explicit import URLs"}),(0,J.jsx)("div",{className:"!mt-4",children:(0,J.jsx)(g.z,{asChild:!0,type:"default",icon:(0,J.jsx)(b.Z,{strokeWidth:1.5}),children:(0,J.jsx)(f(),{href:"https://supabase.com/docs/guides/functions/import-maps",target:"_blank",rel:"noreferrer",children:"More about import maps"})})})]})]})})]})})}}),(0,J.jsxs)("div",{className:"space-y-6 rounded border bg-surface-100 px-6 py-4 drop-shadow-sm transition-all overflow-hidden",style:{maxHeight:M?800:66},children:[(0,J.jsxs)("div",{className:"flex items-center justify-between",children:[(0,J.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,J.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded border bg-foreground p-2 text-background",children:(0,J.jsx)(y.Z,{strokeWidth:2})}),(0,J.jsx)("h4",{children:"Command line access"})]}),(0,J.jsx)("div",{className:"cursor-pointer",onClick:function(){return T(!M)},children:M?(0,J.jsx)(N.Z,{size:14,strokeWidth:1.5}):(0,J.jsx)(w.Z,{size:14,strokeWidth:1.5})})]}),(0,J.jsx)("h5",{className:"text-base",children:"Deployment management"}),(0,J.jsx)(K.Z,{commands:ec}),(0,J.jsx)("h5",{className:"text-base",children:"Invoke "}),(0,J.jsx)(K.Z,{commands:el}),(0,J.jsx)("h5",{className:"text-base",children:"Secrets management"}),(0,J.jsx)(K.Z,{commands:eo})]}),(0,J.jsxs)("div",{className:"!mt-8",children:[(0,J.jsx)(Z.ph,{title:"Delete Edge Function",description:""}),(0,J.jsx)(E.Z,{children:(0,J.jsx)(E.Z.Content,{children:(0,J.jsxs)(k.b,{withIcon:!0,variant:"danger",title:"Once your function is deleted, it can no longer be restored",children:[(0,J.jsx)("p",{className:"mb-3",children:"Make sure you have made a backup if you want to restore your edge function"}),(0,J.jsxs)(i.fC,{delayDuration:0,children:[(0,J.jsx)(i.xz,{children:(0,J.jsx)(g.z,{type:"danger",disabled:!en,loading:(null==W?void 0:W.id)===void 0,onClick:function(){return Y(!0)},children:"Delete edge function"})}),!en&&(0,J.jsx)(i.h_,{children:(0,J.jsxs)(i.VY,{side:"bottom",children:[(0,J.jsx)(i.Eh,{className:"radix-tooltip-arrow"}),(0,J.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,J.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to delete an edge function"})})]})})]})]})})})]})]}),(0,J.jsx)(O.C,{size:"small",alignFooter:"right",header:(0,J.jsxs)("h3",{children:["Confirm to delete ",null==W?void 0:W.name]}),visible:z,loading:G,onCancel:function(){return Y(!1)},onConfirm:eu,children:(0,J.jsx)("div",{className:"py-6",children:(0,J.jsx)(O.C.Content,{children:(0,J.jsx)(k.b,{withIcon:!0,variant:"warning",title:"This action cannot be undone",children:"Ensure that you have made a backup if you want to restore your edge function"})})})})]})},X=t(97346),$=t(51459),G=t(4300),ee=t(97064),en=t(55268),et=function(e){var n,t=e.function,r=(0,h.useRouter)(),s=(0,G.UO)().ref,a=(0,ee.d2)().project,c=(0,p.useState)(!1),o=c[0],l=c[1],d=(0,R.z)({projectRef:s}).data,x=null==a?void 0:a.restUrl,f=void 0!==x?new URL(x).hostname.split(".").pop():"co",m="https://".concat(s,".supabase.").concat(f,"/functions/v1/").concat(t.slug),j=(null==d?void 0:null===(n=d.customDomain)||void 0===n?void 0:n.status)==="active"?"https://".concat(d.customDomain.hostname,"/functions/v1/").concat(t.slug):m;return(0,J.jsxs)(en.Z.tr,{onClick:function(){r.push("/project/".concat(s,"/functions/").concat(t.slug,"/details"))},children:[(0,J.jsx)(en.Z.td,{className:"",children:(0,J.jsx)("div",{className:"flex items-center gap-2",children:(0,J.jsx)("p",{className:"text-sm text-foreground",children:t.name})})}),(0,J.jsx)(en.Z.td,{className:"",children:(0,J.jsxs)("div",{className:"text-xs text-foreground-light flex gap-2 items-center truncate",children:[(0,J.jsx)("p",{className:"font-mono truncate hidden md:inline",children:j}),(0,J.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground transition",onClick:function(e){e.stopPropagation(),l(!0),navigator.clipboard.writeText(j).then(),setTimeout(function(){l(!1)},3e3)},children:o?(0,J.jsx)("div",{className:"text-brand",children:(0,J.jsx)(X.Z,{size:14,strokeWidth:3})}):(0,J.jsx)("div",{className:"relative",children:(0,J.jsx)("div",{className:"block",children:(0,J.jsx)($.Z,{size:14,strokeWidth:1.5})})})})]})}),(0,J.jsx)(en.Z.td,{className:"hidden 2xl:table-cell",children:(0,J.jsx)("p",{className:"text-foreground-light",children:u()(t.created_at).format("DD MMM, YYYY HH:mm")})}),(0,J.jsx)(en.Z.td,{className:"lg:table-cell",children:(0,J.jsxs)(i.fC,{delayDuration:0,children:[(0,J.jsx)(i.xz,{children:(0,J.jsx)("div",{className:"flex items-center space-x-2",children:(0,J.jsx)("p",{className:"text-sm text-foreground-light",children:u()(t.updated_at).fromNow()})})}),(0,J.jsx)(i.h_,{children:(0,J.jsxs)(i.VY,{side:"bottom",children:[(0,J.jsx)(i.Eh,{className:"radix-tooltip-arrow"}),(0,J.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,J.jsxs)("span",{className:"text-xs text-foreground",children:["Last updated on ",u()(t.updated_at).format("DD MMM, YYYY HH:mm")]})})]})})]})}),(0,J.jsx)(en.Z.td,{className:"lg:table-cell",children:(0,J.jsx)("p",{className:"text-foreground-light",children:t.version})})]},t.id)},er=t(71813),es=t(35852),ea=t(22061),ei=function(e){var n,t,r=e.closable,s=void 0!==r&&r,a=e.removeBorder,i=(0,h.useRouter)(),c=(0,G.UO)().ref,o=(0,p.useState)(!s),l=o[0],d=o[1],u=(0,ea.hV)().data,x=(0,C.qP)({projectRef:c}).data,m=(0,R.z)({projectRef:c}).data,j=null==x?void 0:x.autoApiService,v=null!=j&&j.service_api_keys.find(function(e){return"anon key"===e.name})?j.defaultApiKey:"[YOUR ANON KEY]",b=null!==(n=null==x?void 0:x.autoApiService.app_config.endpoint)&&void 0!==n?n:"",k=(null==m?void 0:null===(t=m.customDomain)||void 0===t?void 0:t.status)==="active"?"https://".concat(m.customDomain.hostname,"/functions/v1"):"https://".concat(b,"/functions/v1"),O=null==x?void 0:x.autoApiService.restUrl,Z=O?new URL(O).hostname.split(".").pop():"",E=[{command:"supabase functions new hello-world",description:" creates a function stub at ./functions/hello-world/index.ts",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions new hello-world"]})},comment:"Create a function"},{command:"supabase functions deploy hello-world --project-ref ".concat(c),description:"Deploys function at ./functions/hello-world/index.ts",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy hello-world --project-ref ",c]})},comment:"Deploy your function"},{command:"curl -L -X POST 'https://".concat(c,".supabase.").concat(Z,"/functions/v1/hello-world' -H 'Authorization: Bearer ").concat(null!=v?v:"[YOUR ANON KEY]",'\' --data \'{"name":"Functions"}\''),description:"Invokes the hello-world function",jsx:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",k,"/hello-world' -H 'Authorization: Bearer [YOUR ANON KEY]'"," ",'--data \'{"name":"Functions"}\'']})},comment:"Invoke your function"}];return(0,J.jsxs)("div",{className:"col-span-7 overflow-hidden transition-all rounded bg-surface-100 ".concat(void 0!==a&&a?"":"border shadow"),style:{maxHeight:l?500:80},children:[(0,J.jsxs)("div",{className:"px-8 py-6 space-y-6",children:[(0,J.jsxs)("div",{className:"flex items-center justify-between",children:[(0,J.jsxs)("div",{className:"flex items-center gap-3",children:[(0,J.jsx)("div",{className:"flex items-center justify-center w-8 h-8 p-2 border rounded bg-alternative",children:(0,J.jsx)(y.Z,{strokeWidth:2})}),(0,J.jsx)("h4",{children:"Create your first Edge Function via the CLI"})]}),s&&(0,J.jsx)("div",{className:"cursor-pointer",onClick:function(){return d(!l)},children:l?(0,J.jsx)(N.Z,{size:14,strokeWidth:1.5}):(0,J.jsx)(w.Z,{size:14,strokeWidth:1.5})})]}),(0,J.jsx)("div",{children:(0,J.jsx)(K.Z,{commands:E})})]}),u&&0===u.length?(0,J.jsxs)("div",{className:"px-8 py-6 space-y-3 border-t",children:[(0,J.jsxs)("div",{children:[(0,J.jsx)("h3",{className:"text-base text-foreground",children:"You may need to create an access token"}),(0,J.jsx)("p",{className:"text-sm text-foreground-light",children:"You can create a secure access token in your account section"})]}),(0,J.jsx)(g.z,{type:"default",onClick:function(){return i.push("/account/tokens")},children:"Access tokens"})]}):(0,J.jsxs)("div",{className:"px-8 py-6 space-y-3 border-t",children:[(0,J.jsxs)("div",{children:[(0,J.jsx)("h3",{className:"text-base text-foreground",children:"Need help?"}),(0,J.jsx)("p",{className:"text-sm text-foreground-light",children:"Read the documentation, or browse some sample code."})]}),(0,J.jsxs)("div",{className:"flex gap-2",children:[(0,J.jsx)(g.z,{asChild:!0,type:"default",iconRight:(0,J.jsx)(er.Z,{}),children:(0,J.jsx)(f(),{href:"https://supabase.com/docs/guides/functions",target:"_blank",rel:"noreferrer",children:"Documentation"})}),(0,J.jsx)(g.z,{asChild:!0,type:"default",iconRight:(0,J.jsx)(es.Z,{}),children:(0,J.jsx)(f(),{href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",target:"_blank",rel:"noreferrer",children:"Examples"})})]})]})]})},ec=function(){return(0,J.jsx)(J.Fragment,{children:(0,J.jsxs)("div",{className:"grid max-w-7xl gap-y-12 py-12 lg:grid-cols-12 lg:gap-x-16",children:[(0,J.jsxs)("div",{className:"col-span-5 space-y-4",children:[(0,J.jsx)("p",{className:"max-w-lg text-base text-foreground",children:"Scalable functions to run your code with no server management."}),(0,J.jsx)("p",{className:"max-w-lg text-sm text-foreground-light",children:"Edge Functions are server-side Typescript functions, distributed globally at the edge - close to your users. They can be used for listening to webhooks or integrating your Supabase project with third-parties."}),(0,J.jsxs)("div",{className:"flex gap-2",children:[(0,J.jsx)(g.z,{asChild:!0,type:"default",iconRight:(0,J.jsx)(er.Z,{}),children:(0,J.jsx)(f(),{href:"https://supabase.com/docs/guides/functions",target:"_blank",rel:"noreferrer",children:"Documentation"})}),(0,J.jsx)(g.z,{asChild:!0,type:"default",iconRight:(0,J.jsx)(es.Z,{}),children:(0,J.jsx)(f(),{href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",target:"_blank",rel:"noreferrer",children:"Examples"})})]})]}),(0,J.jsx)(ei,{})]})})}},79744:function(e,n,t){t.d(n,{Z:function(){return N}});var r=t(59491),s=t(43991),a=t(46776),i=t(39097),c=t.n(i),o=t(35852),l=t(8647),d=t(95223),u=t(51422),x=t(38477),f=t(48125),h=t(64209),p=t(98572),m=t(70203),j=t(21014),v=t(5632),g=t(52322),b=function(e){var n=e.item,t=(0,v.useRouter)(),r=t.pathname.split("/")[5],s=t.query.ref;return(0,g.jsxs)(j.Z,{defaultActiveId:"1",type:"underlined",size:"medium",activeId:r||"metrics",onChange:function(e){return t.push("/project/".concat(s,"/functions/").concat(n.slug,"/").concat("metrics"===e?"":e))},children:[(0,g.jsx)(j.Z.Panel,{id:"details",label:"Details"}),(0,g.jsx)(j.Z.Panel,{id:"metrics",label:"Metrics"}),(0,g.jsx)(j.Z.Panel,{id:"invocations",label:"Invocations"}),(0,g.jsx)(j.Z.Panel,{id:"logs",label:"Logs"})]})},y=t(11425),N=(0,m.QO)((0,a.Pi)(function(e){var n=e.title,t=e.children,a=(0,s.UO)(),i=a.functionSlug,j=a.ref,v=(0,u.cg)(),N=(0,p.IB)({projectRef:j}),w=N.data,k=N.isLoading,O=(0,h.J)({projectRef:j,slug:i}).data;if(!(0,m.Xo)(r.KA.FUNCTIONS_READ,"*"))return(0,g.jsx)(y.ZP,{title:n||"Edge Functions",product:"Edge Functions",children:(0,g.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:(0,g.jsx)(f.Z,{isFullPage:!0,resourceText:"access your project's edge functions"})})});var Z=(null==O?void 0:O.name)||"",E=(null!=w?w:[]).length>0;return(0,g.jsx)(y.ZP,{isLoading:k,title:n||"Edge Functions",product:"Edge Functions",children:E?(0,g.jsxs)("div",{className:"flex h-full flex-grow flex-col py-6",children:[(0,g.jsxs)("div",{className:"mx-auto flex w-full flex-col transition-all 1xl:px-28 gap-4 px-5 lg:px-16 xl:px-24 2xl:px-32",children:[(0,g.jsx)("div",{className:"item-center flex flex-col justify-between gap-y-4 xl:flex-row",children:(0,g.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,g.jsx)("div",{className:"h-6 w-6 rounded border border-brand-600 bg-brand-300 flex items-center justify-center text-brand",children:(0,g.jsx)(o.Z,{size:14,strokeWidth:3})}),(0,g.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,g.jsx)(c(),{href:"/project/".concat(j,"/functions"),children:(0,g.jsx)("h1",{className:"cursor-pointer text-2xl text-foreground transition-colors hover:text-foreground-light",children:"Edge Functions"})}),Z&&(0,g.jsxs)("div",{className:"mt-1.5 flex items-center space-x-4",children:[(0,g.jsx)("span",{className:"text-foreground-light",children:(0,g.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,g.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,g.jsx)("h5",{className:"text-lg text-foreground",children:Z})]})]}),(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsx)(l.z,{asChild:!0,type:"default",children:(0,g.jsx)(c(),{href:"/project/".concat(j,"/settings/functions"),children:"Manage secrets"})}),v&&(0,g.jsx)(x.Z,{section:void 0!==i?["edge-functions",i]:["edge-functions"]}),(0,g.jsx)(l.z,{asChild:!0,type:"default",className:"translate-y-[1px]",icon:(0,g.jsx)(d.Z,{size:14,strokeWidth:1.5}),children:(0,g.jsx)(c(),{href:"https://supabase.com/docs/guides/functions",target:"_link",children:"Documentation"})})]})]})]})}),void 0!==i&&(0,g.jsx)(b,{item:O})]}),(0,g.jsx)("div",{className:"mx-auto flex h-full w-full flex-grow flex-col transition-all 1xl:px-28 gap-4 px-5 lg:px-16 xl:px-24 2xl:px-32",children:t})]}):(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"mx-auto max-w-5xl py-24 px-5",children:[(0,g.jsx)("div",{className:"item-center flex flex-col justify-between gap-y-4 xl:flex-row",children:(0,g.jsx)("div",{className:"flex items-center gap-3",children:(0,g.jsx)("div",{className:"flex items-center space-x-4",children:(0,g.jsx)("h1",{className:"text-2xl text-foreground",children:"Edge Functions"})})})}),t]})})})}))},57626:function(e,n,t){t.d(n,{iN:function(){return j},ph:function(){return d},by:function(){return m},hj:function(){return x},B4:function(){return p},S0:function(){return f},ld:function(){return s}});var r=t(52322);function s(e){return(0,r.jsxs)("div",{className:"mx-auto max-w-4xl px-5 pt-12 pb-20",children:[e.header&&(0,r.jsx)("h1",{className:"text-foreground mb-8 text-3xl",children:e.header}),(0,r.jsx)("div",{className:"space-y-20",children:e.children})]})}var a=t(39097),i=t.n(a),c=t(29071),o=t(8647),l=t(95223),d=function(e){var n=e.title,t=e.description,s=e.docsUrl;return(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"text-foreground text-xl",children:(0,r.jsx)(c.D,{unwrapDisallowed:!0,disallowedElements:["p"],children:n})}),t&&(0,r.jsx)("div",{className:"text-foreground-lighter text-sm",children:(0,r.jsx)(c.D,{children:t})})]}),void 0!==s&&(0,r.jsx)(o.z,{asChild:!0,type:"default",icon:(0,r.jsx)(l.Z,{}),children:(0,r.jsx)(i(),{href:s,target:"_blank",rel:"noreferrer",children:"Documentation"})})]})},u=t(2784),x=function(e){var n=e.children,t=e.id,s=e.header,a=e.disabled,i=e.visible,c=e.className;return(0,r.jsxs)("div",{id:t,className:["grid grid-cols-12 gap-6 px-8 py-8","".concat(a?" opacity-30":" opacity-100"),"".concat(void 0===i||i?" block":" hidden"),"".concat(c)].join(" "),children:[s,n]})},f=function(e){var n=e.children,t=e.className,s=void 0===t?"":t,a=e.description;return void 0!==a?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(s),children:[(0,r.jsx)("label",{className:"text-foreground text-sm",children:n}),a]}):(0,r.jsx)("label",{className:"text-foreground col-span-12 text-sm lg:col-span-5 ".concat(s),children:n})},h=function(){return(0,r.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,r.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,r.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,r.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]})},p=function(e){var n=e.children,t=e.loading,s=e.fullWidth,a=e.className;return(0,r.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(s&&"!col-span-12","\n        ").concat(a,"\n      "),children:void 0===t||t?u.Children.map(n,function(e){return(0,r.jsx)(h,{})}):n})},m=function(e){var n=e.children,t=e.header,s=e.footer;return(0,r.jsxs)("div",{className:" bg-surface-100 border-default overflow-hidden  rounded-md border shadow",children:[t&&(0,r.jsx)("div",{className:"border-default border-b px-8 py-4",children:t}),(0,r.jsx)("div",{className:"divide-border flex flex-col gap-0 divide-y",children:n}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"border-default border-t"}),s]})]})},j=function(e){var n=e.form,t=e.hasChanges,s=void 0===t?void 0:t,a=e.handleReset,i=e.helper,c=e.disabled,l=e.isSubmitting,d=e.submitText,u=l||void 0!==c&&c||!s&&void 0!==s;return(0,r.jsxs)("div",{className:["flex w-full items-center gap-2",i?"justify-between":"justify-end"].join(" "),children:[i&&(0,r.jsx)("span",{className:"text-sm text-foreground-lighter",children:i}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.z,{disabled:u,type:"default",htmlType:"reset",onClick:function(){return a()},children:"Cancel"}),(0,r.jsx)(o.z,{form:n,type:"primary",htmlType:"submit",disabled:u,loading:l,children:void 0===d?"Save":d})]})]})}},22061:function(e,n,t){t.d(n,{hV:function(){return f}});var r=t(82269),s=t(20406),a=t(28526),i=t.n(a),c=t(58943),o=t(37552),l=t(9747);t(2784);var d=t(30467),u=["enabled"];function x(){return(x=(0,s.Z)(i().mark(function e(n){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.U2)("".concat(l.T5,"/profile/access-tokens"),{signal:n});case 2:if(t=e.sent,(0,o.d8)(t)){e.next=5;break}throw t.error;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.enabled;var n=(0,r.Z)(e,u);return(0,c.a)(d.C.list(),function(e){return function(e){return x.apply(this,arguments)}(e.signal)},n)}},30467:function(e,n,t){t.d(n,{C:function(){return r}});var r={list:function(){return["access-tokens"]}}},64209:function(e,n,t){t.d(n,{J:function(){return p}});var r=t(95235),s=t(82269),a=t(20406),i=t(28526),c=t.n(i),o=t(58943),l=t(37552),d=t(9747);t(2784);var u=t(79217),x=["enabled"];function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function h(){return(h=(0,a.Z)(c().mark(function e(n,t){var r,s,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.projectRef,s=n.slug,r){e.next=3;break}throw Error("projectRef is required");case 3:if(s){e.next=5;break}throw Error("slug is required");case 5:return e.next=7,(0,l.U2)("".concat(d.Q2,"/projects/").concat(r,"/functions/").concat(s),{signal:t});case 7:if(!(a=e.sent).error){e.next=10;break}throw a.error;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var p=function(e){var n=e.projectRef,t=e.slug,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.enabled,c=(0,s.Z)(a,x);return(0,o.a)(u.f.detail(n,t),function(e){return function(e,n){return h.apply(this,arguments)}({projectRef:n,slug:t},e.signal)},function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({enabled:d.Qy&&(void 0===i||i)&&void 0!==n&&void 0!==t},c))}}}]);