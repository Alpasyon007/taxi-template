"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2514],{36045:function(e,r,n){var t=n(82269),a=n(95235),o=n(2784),s=n(62202),c=n(15659),i=n(82654),l=n(8647),u=n(77740),d=n(15742),f=n(87183),p=n(70203),m=n(9747),g=n(52322),j=["children","className"];function x(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function b(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?x(Object(n),!0).forEach(function(r){(0,a.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}r.Z=function(e){var r,n,a,x=e.organizationIntegrationId,h=e.foreignProjects,v=e.supabaseProjects,y=e.onCreateConnections,N=e.installedConnections,w=e.isLoading,O=e.integrationIcon,P=e.getForeignProjectIcon,S=e.choosePrompt,Z=e.onSkip,k=e.loadingForeignProjects,C=e.loadingSupabaseProjects,D=e.defaultSupabaseProjectRef,R=e.defaultForeignProjectId,z=(0,o.useState)(!1),L=z[0],Y=z[1],E=(0,o.useState)(!1),_=E[0],I=E[1],W=(0,o.useRef)(null),F=(0,o.useRef)(null),G=(0,p.lL)(),q=(0,o.useState)(D),A=q[0],J=q[1];(0,o.useEffect)(function(){void 0!==D&&void 0===A&&J(D)},[D,A]);var T=(0,o.useState)(R),U=T[0],V=T[1];(0,o.useEffect)(function(){void 0!==R&&void 0===U&&V(R)},[R,U]);var B=new Set((void 0===N?[]:N).map(function(e){return e.foreign_project_id})),H=A?v.find(function(e){var r;return(null===(r=e.ref)||void 0===r?void 0:r.toLowerCase())===(null==A?void 0:A.toLowerCase())}):void 0,M=U?h.find(function(e){var r;return(null===(r=e.id)||void 0===r?void 0:r.toLowerCase())===(null==U?void 0:U.toLowerCase())}):void 0,X=function(e){var r=e.children,n=e.className,a=(0,t.Z)(e,j);return(0,g.jsx)("div",b(b({className:(0,c.cn)("flex flex-col grow gap-6 px-5 mx-auto w-full justify-center items-center",n)},a),{},{children:r}))},$=0===v.length,K=0===h.length,Q=$?"Supabase":"Vercel";return(0,g.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,g.jsxs)("div",{className:"relative border rounded-lg p-12 bg shadow",children:[(0,g.jsx)("div",{className:"absolute inset-0 bg-grid-black/5 [mask-image:linear-gradient(0deg,#fff,rgba(255,255,255,0.6))] dark:bg-grid-white/5 dark:[mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.5))]",style:{backgroundPosition:"10px 10px"}}),k||C?(0,g.jsxs)("div",{className:"w-1/2 mx-auto space-y-2 py-4",children:[(0,g.jsx)("p",{className:"text-foreground text-center",children:"Loading projects"}),(0,g.jsx)(f.Z,{active:!0})]}):$||K?(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsxs)("h5",{className:"text-foreground",children:["No ",Q," Projects found"]}),(0,g.jsxs)("p",{className:"text-foreground-light text-sm",children:["You will need to create a ",Q," Project to link to a ",$?"Vercel":"Supabase"," ","Project.",(0,g.jsx)("br",{}),"You can skip this and create a Project Connection later."]})]}):(0,g.jsxs)("div",{className:"flex gap-0 w-full relative",children:[(0,g.jsxs)(X,{children:[(0,g.jsx)("div",{className:"bg-white shadow border rounded p-1 w-12 h-12 flex justify-center items-center",children:(0,g.jsx)("img",{src:"".concat(m.GW,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-6"})}),(0,g.jsxs)(i.J2,{open:L,onOpenChange:Y,children:[(0,g.jsx)(i.xo,{asChild:!0,children:(0,g.jsx)(l.z,{ref:W,type:"default",size:"medium",block:!0,disabled:void 0!==D||C,loading:C,className:"justify-start",icon:(0,g.jsx)("div",{className:"bg-white shadow border rounded p-1 w-6 h-6 flex justify-center items-center",children:(0,g.jsx)("img",{src:"".concat(m.GW,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-4"})}),iconRight:void 0===D?(0,g.jsx)("span",{className:"grow flex justify-end",children:(0,g.jsx)(u.Z,{className:""})}):null,children:H?H.name:"Choose Supabase Project"})}),(0,g.jsx)(i.yk,{className:"p-0 w-full",side:"bottom",align:"center",style:{width:null===(r=W.current)||void 0===r?void 0:r.offsetWidth},children:(0,g.jsxs)(d.mY,{children:[(0,g.jsx)(d.sZ,{placeholder:"Search for a project"}),(0,g.jsxs)(d.e8,{className:"!max-h-[170px]",children:[(0,g.jsx)(d.rb,{children:"No results found."}),(0,g.jsx)(d.fu,{children:v.map(function(e,r){return(0,g.jsxs)(d.di,{value:"".concat(e.name,"-").concat(r),className:"flex gap-2 items-center",onSelect:function(){e.ref&&J(e.ref),Y(!1)},children:[(0,g.jsx)("div",{className:"bg-white shadow border rounded p-1 w-6 h-6 flex justify-center items-center",children:(0,g.jsx)("img",{src:"".concat(m.GW,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-4"})}),(0,g.jsx)("span",{children:e.name})]},e.ref)})})]})]})})]})]}),(0,g.jsx)("div",{className:"border border-foreground-lighter h-px w-16 border-dashed self-end mb-5"}),(0,g.jsxs)(X,{children:[(0,g.jsx)("div",{className:"bg-black shadow rounded p-1 w-12 h-12 flex justify-center items-center",children:O}),(0,g.jsxs)(i.J2,{open:_,onOpenChange:I,children:[(0,g.jsx)(i.xo,{asChild:!0,children:(0,g.jsx)(l.z,{ref:F,type:"default",size:"medium",block:!0,disabled:k,loading:k,className:"justify-start",icon:M?null==P?void 0:P(M):O,iconRight:(0,g.jsx)("span",{className:"grow flex justify-end",children:(0,g.jsx)(u.Z,{className:""})}),children:null!==(n=M&&M.name)&&void 0!==n?n:void 0===S?"Choose a project":S})}),(0,g.jsx)(i.yk,{className:"p-0 w-full",side:"bottom",align:"center",style:{width:null===(a=F.current)||void 0===a?void 0:a.offsetWidth},children:(0,g.jsxs)(d.mY,{children:[(0,g.jsx)(d.sZ,{placeholder:"Search for a project"}),(0,g.jsxs)(d.e8,{className:"!max-h-[170px]",children:[(0,g.jsx)(d.rb,{children:"No results found."}),(0,g.jsx)(d.fu,{children:h.map(function(e,r){var n;return(0,g.jsxs)(d.di,{value:"".concat(e.name,"-").concat(r),className:"flex gap-2 items-center",onSelect:function(){e.id&&V(e.id),I(!1)},children:[null!==(n=null==P?void 0:P(e))&&void 0!==n?n:O,(0,g.jsx)("span",{children:e.name})]},e.id)})})]})]})})]})]})]})]}),(0,g.jsxs)("div",{className:"flex w-full justify-end gap-2",children:[void 0!==Z&&(0,g.jsx)(l.z,{size:"medium",type:"default",onClick:function(){Z()},children:"Skip"}),(0,g.jsx)(l.z,{size:"medium",className:"self-end",onClick:function(){return x?null!=M&&M.id?null!=H&&H.ref?B.has(null!=U?U:"")?s.Am.error("Unable to connect to ".concat(M.name,": Selected repository already has an installed connection to a project")):void y({organizationIntegrationId:x,connection:{foreign_project_id:null==M?void 0:M.id,supabase_project_ref:null==H?void 0:H.ref,metadata:b({},M)},orgSlug:null==G?void 0:G.slug}):console.error("No Supabase project ref set"):console.error("No Foreign project ID set"):console.error("No integration ID set")},loading:w,disabled:k||C||w||!H||!M,children:"Connect project"})]})]})}},86866:function(e,r,n){n.d(r,{CG:function(){return C},I7:function(){return Z},Lc:function(){return R},Wv:function(){return L},_S:function(){return S},g$:function(){return D},gW:function(){return E},jX:function(){return k},q7:function(){return P},tM:function(){return z},tU:function(){return O},ur:function(){return Y}});var t=n(95235),a=n(82269),o=n(2784),s=n(15659),c=n(52322),i=["className"],l=["className"],u=["className"],d=["className"],f=["className"],p=["className"],m=["className","children","title"],g=["className"],j=["className"],x=["className"],b=["className"],h=["className"];function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach(function(r){(0,t.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var N="mx-auto w-full max-w-[1600px]",w="px-6 lg:px-14 xl:px-28 2xl:px-32",O=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,i);return(0,c.jsx)("header",y(y({},t),{},{ref:r,className:(0,s.cn)("w-full","flex-col gap-3",n)}))}),P=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,l);return(0,c.jsx)("h1",y(y({ref:r},t),{},{className:(0,s.cn)("text-3xl pt-6 pb-4",n)}))}),S=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,u);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)(N,w,n)}))}),Z=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,d);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)("w-full h-px bg-muted",n)}))}),k=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,f);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)("flex flex-col gap-3 py-6","lg:grid md:grid-cols-12 lg:py-12",n)}))}),C=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,p);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)("flex flex-col gap-3","min-w-[420px]",n)}))}),D=o.forwardRef(function(e,r){var n=e.className,t=e.children,o=e.title,i=(0,a.Z)(e,m);return(0,c.jsxs)("div",y(y({ref:r},i),{},{className:(0,s.cn)("col-span-4 xl:col-span-5 prose text-sm",n),children:[o&&(0,c.jsx)("h2",{children:o}),t]}))}),R=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,g);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",n)}))}),z=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,j);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)("flex flex-col gap-3 items-center",n)}))}),L=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,x);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)("flex w-full items-center",n)}))}),Y=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,b);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)("flex flex-row gap-3",n)}))}),E=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,h);return(0,c.jsx)("div",y(y({ref:r},t),{},{className:(0,s.cn)(N,w,"my-8 flex flex-col gap-8",n)}))});O.displayName="ScaffoldHeader",P.displayName="ScaffoldTitle",S.displayName="ScaffoldContainer",Z.displayName="ScaffoldDivider",k.displayName="ScaffoldSection",C.displayName="ScaffoldColumn",D.displayName="ScaffoldSectionDetail",R.displayName="ScaffoldSectionContent",z.displayName="ScaffoldFilterAndContent",L.displayName="ScaffoldActionsContainer",Y.displayName="ScaffoldActionsGroup",E.displayName="ScaffoldContainerLegacy"},87183:function(e,r,n){var t=n(52322);r.Z=function(e){return e.active?(0,t.jsx)("div",{className:"logs-shimmering-loader w-full h-0.5"}):null}},87875:function(e,r,n){n.d(r,{T:function(){return g}});var t=n(95235),a=n(82269),o=n(20406),s=n(28526),c=n.n(s),i=n(58943),l=n(37552),u=n(9747),d=n(94347),f=["enabled"];function p(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function m(){return(m=(0,o.Z)(c().mark(function e(r,n){var t,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.orgSlug){e.next=3;break}throw Error("orgSlug is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/integrations/").concat(t,"?expand=true"),{signal:n});case 5:if(!(a=e.sent).error){e.next=8;break}throw a.error;case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=function(e){var r=e.orgSlug,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.enabled,s=(0,a.Z)(n,f);return(0,i.a)(d.F.integrationsListWithOrg(r),function(e){return function(e,r){return m.apply(this,arguments)}({orgSlug:r},e.signal)},function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach(function(r){(0,t.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}({enabled:(void 0===o||o)&&void 0!==r},s))}},94347:function(e,r,n){n.d(r,{F:function(){return t}});var t={integrationsListWithOrg:function(e){return["organizations",e,"integrations"]},integrationsList:function(){return["organizations","integrations"]},vercelProjectList:function(e){return["organizations",e,"vercel-projects"]},githubRepoList:function(e){return["organizations",e,"github-repos"]},vercelConnectionsList:function(e){return["organizations",e,"vercel-connections"]},githubBranch:function(e,r,n,t){return["organizations",e,"branches",r,n,t]},githubBranchesList:function(e,r,n){return["organizations",e,"branches",r,n]},githubPullRequestsList:function(e,r,n){return["organizations",e,"pull-requests",r,n]},githubConnectionsList:function(e){return["organizations",e,"github-connections"]}}},54064:function(e,r,n){var t=n(95235);n(2784);var a=n(27068),o=n(12223),s=n(52322);function c(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}r.Z=function(e){return(0,s.jsx)(o.Z,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach(function(r){(0,t.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}({icon:a.Z},e))}},15742:function(e,r,n){n.d(r,{di:function(){return O},e8:function(){return y},fu:function(){return w},mY:function(){return h},rb:function(){return N},sZ:function(){return v}});var t=n(95235),a=n(82269),o=n(2784),s=n(41187),c=n(38880),i=n(15659),l=n(52322),u=["className"],d=["className"],f=["className"],p=["className"],m=["className"],g=["className"],j=["className"];function x(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function b(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?x(Object(n),!0).forEach(function(r){(0,t.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var h=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,u);return(0,l.jsx)(s.mY,b({ref:r,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-overlay text-foreground-light",n)},t))});h.displayName=s.mY.displayName;var v=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,d);return(0,l.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,l.jsx)(c.Z,{className:"h-4 w-4 shrink-0 opacity-50"}),(0,l.jsx)(s.mY.Input,b({ref:r,className:(0,i.cn)("flex h-9 w-full rounded-md bg-transparent py-3 text-xs text outline-none placeholder:text-muted disabled:cursor-not-allowed disabled:opacity-50 border-none focus:ring-0",n)},t))]})});v.displayName=s.mY.Input.displayName;var y=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,f);return(0,l.jsx)(s.mY.List,b({ref:r,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",n)},t))});y.displayName=s.mY.List.displayName;var N=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,p);return(0,l.jsx)(s.mY.Empty,b({ref:r,className:(0,i.cn)("py-6 text-center text-xs",n)},t))});N.displayName=s.mY.Empty.displayName;var w=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,m);return(0,l.jsx)(s.mY.Group,b({ref:r,className:(0,i.cn)("overflow-hidden p-1 text-foreground-light [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-foreground-muted",n)},t))});w.displayName=s.mY.Group.displayName,o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,g);return(0,l.jsx)(s.mY.Separator,b({ref:r,className:(0,i.cn)("-mx-1 h-px bg-border",n)},t))}).displayName=s.mY.Separator.displayName;var O=o.forwardRef(function(e,r){var n=e.className,t=(0,a.Z)(e,j);return(0,l.jsx)(s.mY.Item,b({ref:r,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-xs outline-none aria-selected:bg-overlay-hover aria-selected:text-strong data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},t))});O.displayName=s.mY.Item.displayName},82654:function(e,r,n){n.d(r,{J2:function(){return d},xo:function(){return f},yk:function(){return p}});var t=n(95235),a=n(82269),o=n(2784),s=n(13844),c=n(15659),i=n(52322),l=["className","align","sideOffset","portal"];function u(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}var d=s.fC,f=s.xz,p=o.forwardRef(function(e,r){var n=e.className,d=e.align,f=e.sideOffset,p=e.portal,m=(0,a.Z)(e,l),g=void 0!==p&&p?s.h_:o.Fragment;return(0,i.jsx)(g,{children:(0,i.jsx)(s.VY,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?u(Object(n),!0).forEach(function(r){(0,t.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}({ref:r,align:void 0===d?"center":d,sideOffset:void 0===f?4:f,className:(0,c.cn)("z-50 w-72 rounded-md border bg-overlay p-4 text-popover-foreground shadow-md outline-none animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},m))})});p.displayName="PopoverContent"}}]);