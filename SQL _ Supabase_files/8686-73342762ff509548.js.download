"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8686],{78686:function(e,t,n){n.d(t,{Qc:function(){return C},yV:function(){return q},_9:function(){return eu},Ho:function(){return ed},_v:function(){return eH}});var r,s,a=n(20406),o=n(28526),i=n.n(o),c=n(95235),l=n(82269),u=n(55830),d=n(62350),f=n(62202),m=n(37552),p=n(9747),h=n(30467),x=["onSuccess","onError"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(){return(g=(0,a.Z)(i().mark(function e(t){var n,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,(0,m.$v)("".concat(p.T5,"/profile/access-tokens/").concat(n));case 3:if(r=e.sent,(0,m.d8)(r)){e.next=6;break}throw r.error;case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,l.Z)(e,x),s=(0,u.NL)();return(0,d.D)(function(e){return function(e){return g.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.invalidateQueries(h.C.list());case 2:return a.next=4,null==t?void 0:t(e,n,r);case 4:case"end":return a.stop()}},a)}))()},onError:function(e,t,r){return(0,a.Z)(i().mark(function s(){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?f.ZP.error("Failed to delete access token: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},b=n(22061),y=n(46776),O=n(2784),w=n(8647),N=n(77426),S=n(36849),k=n(55268),Z=n(13734),P=n(70203),D=n(52322),C=(0,y.Pi)(function(){var e,t=(0,P.oR)().ui,n=(0,b.hV)(),r=n.data,s=n.isLoading,o=v({onSuccess:function(){t.setNotification({category:"success",message:"Successfully deleted access token"}),u(!1)}}).mutate,c=(0,O.useState)(!1),l=c[0],u=c[1],d=(0,O.useState)(void 0),f=d[0],m=d[1],p=(e=(0,a.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o({id:t}));case 1:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{children:(0,D.jsx)(k.Z,{head:[(0,D.jsx)(k.Z.th,{children:"Token"},"header-token"),(0,D.jsx)(k.Z.th,{children:"Name"},"header-name"),(0,D.jsx)(k.Z.th,{children:"Created"},"header-created"),(0,D.jsx)(k.Z.th,{},"header-action")],body:r&&0==r.length?(0,D.jsx)(k.Z.tr,{children:(0,D.jsx)(k.Z.td,{colSpan:5,className:"p-3 py-12 text-center",children:(0,D.jsx)("p",{className:"text-foreground-light",children:s?"Checking for tokens":"You do not have any tokens created yet"})})}):(0,D.jsx)(D.Fragment,{children:null==r?void 0:r.map(function(e){return(0,D.jsxs)(k.Z.tr,{children:[(0,D.jsx)(k.Z.td,{children:(0,D.jsx)("span",{className:"font-mono",children:e.token_alias})}),(0,D.jsx)(k.Z.td,{children:e.name}),(0,D.jsx)(k.Z.td,{children:(0,D.jsx)("p",{children:new Date(e.created_at).toLocaleString()})}),(0,D.jsx)(k.Z.td,{children:(0,D.jsx)(w.z,{asChild:!0,type:"default",title:"Delete token",className:"px-1",onClick:function(){m(e),u(!0)},icon:(0,D.jsx)(N.Z,{}),children:(0,D.jsx)("span",{})})})]},e.token_alias)})})})}),(0,D.jsx)(Z.Z,{visible:l,danger:!0,header:"Confirm to delete",buttonLabel:"Delete",buttonLoadingLabel:"Deleting",onSelectCancel:function(){return u(!1)},onSelectConfirm:function(){f&&p(f.id)},children:(0,D.jsx)(S.C.Content,{children:(0,D.jsx)("p",{className:"py-4 text-sm text-foreground-light",children:'This action cannot be undone. Are you sure you want to delete "'.concat(null==f?void 0:f.name,'" token?')})})})]})}),H=n(24990),E=n(28879),_=n.n(E),T=n(67270),z=n(25149),F=n(71320),M=n(25455),L=n(62644),A=n(45812),I=n(34161),Y=n(22812),B=n(54947),R=n(58943),V=n(81229),W=n(15379);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(){return(Q=(0,a.Z)(i().mark(function e(t,n){var r,s,a,o,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.iso_timestamp_start,s=t.iso_timestamp_end,e.next=3,(0,V.U2)("/platform/profile/audit",{params:{query:{iso_timestamp_start:r,iso_timestamp_end:s}},signal:n});case 3:if(o=(a=e.sent).data,!(c=a.error)){e.next=8;break}throw c;case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.iso_timestamp_start,r=e.iso_timestamp_end;return(0,R.a)(W.c.auditLogs({date_start:n,date_end:r}),function(t){return function(e,t){return Q.apply(this,arguments)}(e,t.signal)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t))},U=n(29298);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=function(){var e,t,n,r,s=_()().utc().set("millisecond",0),a=(0,O.useState)(!0),o=a[0],i=a[1],c=(0,O.useState)({from:s.subtract(1,"day").toISOString(),to:s.toISOString()}),l=c[0],u=c[1],d=(0,O.useState)(),f=d[0],m=d[1],p=(0,O.useState)({projects:[]}),h=p[0],x=p[1],j=(0,U.Sy)().data,g=(0,B.tl)().data,v=X({iso_timestamp_start:l.from,iso_timestamp_end:l.to}),b=v.data,y=v.error,N=v.isLoading,S=v.isSuccess,Z=v.isError,P=v.isRefetching,C=v.refetch;(0,O.useEffect)(function(){var e=_()(l.from).diff(_()(l.to)),t=setInterval(function(){var t=_()().utc().set("millisecond",0);u({from:t.add(e).toISOString(),to:t.toISOString()})},3e5);return function(){return clearInterval(t)}},[l.from,l.to]);var E=null!==(e=null==b?void 0:b.retention_period)&&void 0!==e?e:0,R=null!==(t=null==b?void 0:b.result)&&void 0!==t?t:[],V=null==R?void 0:null===(n=R.sort(function(e,t){return o?Number(new Date(t.occurred_at))-Number(new Date(e.occurred_at)):Number(new Date(e.occurred_at))-Number(new Date(t.occurred_at))}))||void 0===n?void 0:n.filter(function(e){return h.projects.length>0?h.projects.includes(e.target.metadata.project_ref||""):e});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"space-y-4 flex flex-col",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between",children:[(0,D.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,D.jsx)("p",{className:"text-xs prose",children:"Filter by"}),(0,D.jsx)(L.E,{name:"Projects",options:null!=j?j:[],labelKey:"name",valueKey:"ref",activeOptions:h.projects,onSaveFilters:function(e){return x(K(K({},h),{},{projects:e}))}}),(0,D.jsx)(I.M,{hideTime:!0,hideClear:!0,triggerButtonType:"dashed",triggerButtonTitle:"",from:l.from,to:l.to,minDate:_()().subtract(E,"days").toDate(),maxDate:_()().toDate(),onChange:function(e){if(null!==e.from&&null!==e.to){var t=_()().utc();u({from:_()(e.from).utc().hour(t.hour()).minute(t.minute()).second(t.second()).toISOString(),to:_()(e.to).utc().hour(t.hour()).minute(t.minute()).second(t.second()).toISOString()})}},renderFooter:function(){return(0,D.jsxs)(T.b,{title:"",variant:"info",className:"mx-3 pl-2 pr-2 pt-1 pb-2",children:["You have a log retention period of"," ",(0,D.jsxs)("span",{className:"text-brand",children:[E," day",E>1?"s":""]}),". You may only view logs from"," ",_()().subtract(E,"days").format("DD MMM YYYY")," as the earliest date."]})}}),S&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"h-[20px] border-r border-strong !ml-4 !mr-2"}),(0,D.jsxs)("p",{className:"prose text-xs",children:["Viewing ",V.length," logs in total"]})]})]}),(0,D.jsx)(w.z,{type:"default",disabled:N||P,icon:(0,D.jsx)(z.Z,{className:P?"animate-spin":""}),onClick:function(){return C()},children:P?"Refreshing":"Refresh"})]}),N&&(0,D.jsxs)("div",{className:"space-y-2",children:[(0,D.jsx)(Y.Z,{}),(0,D.jsx)(Y.Z,{className:"w-3/4"}),(0,D.jsx)(Y.Z,{className:"w-1/2"})]}),Z&&(0,D.jsx)(A.Z,{error:y,subject:"Failed to retrieve audit logs"}),S&&(0,D.jsx)(D.Fragment,{children:0===R.length?(0,D.jsx)("div",{className:"bg-surface-100 border rounded p-4 flex items-center justify-between",children:(0,D.jsx)("p",{className:"prose text-sm",children:"You do not have any audit logs available yet"})}):R.length>0&&0===V.length?(0,D.jsx)("div",{className:"bg-surface-100 border rounded p-4 flex items-center justify-between",children:(0,D.jsx)("p",{className:"prose text-sm",children:"No audit logs found based on the filters applied"})}):(0,D.jsx)(k.Z,{head:[(0,D.jsx)(k.Z.th,{className:"py-2",children:"Action"},"action"),(0,D.jsx)(k.Z.th,{className:"py-2",children:"Target"},"target"),(0,D.jsx)(k.Z.th,{className:"py-2",children:(0,D.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,D.jsx)("p",{children:"Date"}),(0,D.jsxs)(H.fC,{delayDuration:0,children:[(0,D.jsx)(H.xz,{asChild:!0,children:(0,D.jsx)(w.z,{type:"text",className:"px-1",icon:o?(0,D.jsx)(F.Z,{strokeWidth:1.5,size:14}):(0,D.jsx)(M.Z,{strokeWidth:1.5,size:14}),onClick:function(){return i(!o)}})}),(0,D.jsx)(H.h_,{children:(0,D.jsx)(H.h_,{children:(0,D.jsxs)(H.VY,{side:"right",children:[(0,D.jsx)(H.Eh,{className:"radix-tooltip-arrow"}),(0,D.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,D.jsx)("span",{className:"text-xs text-foreground",children:o?"Sort latest first":"Sort earliest first"})})]})})})]})]})},"date"),(0,D.jsx)(k.Z.th,{className:"py-2"},"actions")],body:null!==(r=null==V?void 0:V.map(function(e){var t,n,r,s,a,o,i,c=null==j?void 0:j.find(function(t){return t.ref===e.target.metadata.project_ref}),l=null==g?void 0:g.find(function(t){return t.slug===e.target.metadata.org_slug}),u=(null===(t=e.action.metadata[0])||void 0===t?void 0:t.status)!==void 0;return(0,D.jsxs)(k.Z.tr,{onClick:function(){return m(e)},className:"cursor-pointer hover:!bg-alternative transition duration-100",children:[(0,D.jsx)(k.Z.td,{className:"max-w-[250px]",children:(0,D.jsxs)("div",{className:"flex items-center space-x-2",children:[u&&(0,D.jsx)("p",{className:"bg-surface-200 rounded px-1 flex items-center justify-center text-xs font-mono border",children:e.action.metadata[0].status}),(0,D.jsx)("p",{className:"truncate",title:e.action.name,children:e.action.name})]})}),(0,D.jsxs)(k.Z.td,{children:[(0,D.jsxs)("p",{className:"text-foreground-light max-w-[230px] truncate",title:null!==(n=null!==(r=null==c?void 0:c.name)&&void 0!==r?r:null==l?void 0:l.name)&&void 0!==n?n:"-",children:[null!=c&&c.name?"Project: ":null!=l&&l.name?"Organization: ":null,null!==(s=null!==(a=null==c?void 0:c.name)&&void 0!==a?a:null==l?void 0:l.name)&&void 0!==s?s:"-"]}),(0,D.jsxs)("p",{className:"text-foreground-light text-xs mt-0.5 truncate",title:null!==(o=e.target.metadata.project_ref)&&void 0!==o?o:e.target.metadata.org_slug,children:[e.target.metadata.project_ref?"Ref: ":e.target.metadata.org_slug?"Slug: ":null,null!==(i=e.target.metadata.project_ref)&&void 0!==i?i:e.target.metadata.org_slug]})]}),(0,D.jsx)(k.Z.td,{children:_()(e.occurred_at).format("DD MMM YYYY, HH:mm:ss")}),(0,D.jsx)(k.Z.td,{align:"right",children:(0,D.jsx)(w.z,{type:"default",children:"View details"})})]},e.occurred_at)}))&&void 0!==r?r:[]})})]}),(0,D.jsx)(L.h,{selectedLog:f,onClose:function(){return m(void 0)}})]})},$=n(39097),ee=n.n($),et=n(93306),en=n(77740),er=n(43635),es=n(95223),ea=n(14665),eo=["onSuccess","onError"];function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ec(){return(ec=(0,a.Z)(i().mark(function e(t){var n,r,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.scope,e.next=3,(0,m.v_)("".concat(p.T5,"/profile/access-tokens"),{name:n,scope:r});case 3:if(s=e.sent,(0,m.d8)(s)){e.next=6;break}throw s.error;case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var el=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,l.Z)(e,eo),s=(0,u.NL)();return(0,d.D)(function(e){return function(e){return ec.apply(this,arguments)}(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.invalidateQueries(h.C.list());case 2:return a.next=4,null==t?void 0:t(e,n,r);case 4:case"end":return a.stop()}},a)}))()},onError:function(e,t,r){return(0,a.Z)(i().mark(function s(){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?f.Am.error("Failed to create access token: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},eu=(0,y.Pi)(function(e){var t,n=e.onCreateToken,r=(0,O.useState)(!1),s=r[0],o=r[1],c=(0,O.useState)(void 0),l=c[0],u=c[1],d=el({onSuccess:function(e){n(e),o(!1)}}),f=d.mutate,m=d.isLoading,p=(t=(0,a.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f({name:t.tokenName,scope:l});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"container max-w-7xl",children:(0,D.jsx)("div",{className:"flex justify-between",children:(0,D.jsxs)("div",{className:"flex items-center",children:[(0,D.jsx)(w.z,{className:"rounded-r-none px-3",onClick:function(){u(void 0),o(!0)},children:"Generate new token"}),(0,D.jsxs)(et.h_,{children:[(0,D.jsx)(et.$F,{asChild:!0,children:(0,D.jsx)(w.z,{asChild:!0,type:"primary",className:"rounded-l-none px-[4px] py-[5px]",icon:(0,D.jsx)(en.Z,{}),children:(0,D.jsx)("span",{})})}),(0,D.jsx)(et.AW,{align:"end",side:"bottom",children:(0,D.jsx)(et.Xi,{onClick:function(){u("V0"),o(!0)},children:(0,D.jsx)("div",{className:"space-y-1",children:(0,D.jsx)("p",{className:"block text-foreground",children:"Generate token for experimental API"})})},"experimental-token")})]})]})})}),(0,D.jsx)(S.C,{closable:!0,hideFooter:!0,size:"medium",visible:s,onCancel:function(){return o(!s)},header:(0,D.jsx)("div",{className:"flex items-baseline gap-2",children:(0,D.jsx)("h5",{className:"text-sm text-foreground",children:"V0"===l?"Generate token for experimental API":"Generate New Token"})}),children:(0,D.jsx)(er.Z,{validateOnBlur:!0,initialValues:{tokenName:""},onSubmit:p,validate:function(e){var t={};return e.tokenName||(t.tokenName="Please enter a name for the token"),t},children:function(){return(0,D.jsxs)("div",{className:"py-3 space-y-4",children:["V0"===l&&(0,D.jsx)(S.C.Content,{children:(0,D.jsxs)(T.b,{withIcon:!0,variant:"warning",title:"The experimental API provides additional endpoints which allows you to manage your organizations and projects.",children:[(0,D.jsx)("p",{children:"These include deleting organizations and projects which cannot be undone. As such, be very careful when using this API."}),(0,D.jsx)("div",{className:"mt-4",children:(0,D.jsx)(w.z,{asChild:!0,type:"default",icon:(0,D.jsx)(es.Z,{strokeWidth:1.5}),children:(0,D.jsx)(ee(),{href:"https://api.supabase.com/api/v0",target:"_blank",rel:"noreferrer",children:"Experimental API documentation"})})})]})}),(0,D.jsx)(S.C.Content,{children:(0,D.jsx)(ea.Z,{id:"tokenName",label:"Name",placeholder:"Provide a name for your token",className:"w-full"})}),(0,D.jsx)(S.C.Separator,{}),(0,D.jsx)(S.C.Content,{children:(0,D.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,D.jsx)(w.z,{type:"default",disabled:m,onClick:function(){return o(!1)},children:"Cancel"}),(0,D.jsx)(w.z,{htmlType:"submit",loading:m,disabled:m,children:"Generate token"})]})})]})}})})]})}),ed=(0,y.Pi)(function(e){var t=e.token;return(0,D.jsx)(T.b,{withIcon:!0,variant:"success",title:"Successfully generated a new token!",children:(0,D.jsxs)("div",{className:"w-full space-y-2",children:[(0,D.jsx)("p",{className:"text-sm",children:"Do copy this access token and store it in a secure place - you will not be able to see it again."}),(0,D.jsx)(ea.Z,{copy:!0,readOnly:!0,size:"small",className:"max-w-xl input-mono",value:t.token,onChange:function(){}})]})})}),ef=n(25208),em=n(23733),ep=n(26771),eh=n(88281),ex=n(49178),ej=n(10462),eg=["onSuccess","onError"];function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eb=(r=(0,a.Z)(i().mark(function e(t){var n,r,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ej.I8.mfa.enroll(t);case 2:if(r=(n=e.sent).error,s=n.data,!r){e.next=7;break}throw r;case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),ey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,l.Z)(e,eg);return(0,d.D)(function(e){return eb(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(i().mark(function s(){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,null==t?void 0:t(e,n,r);case 2:case"end":return s.stop()}},s)}))()},onError:function(e,t,r){return(0,a.Z)(i().mark(function s(){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?f.Am.error("Failed to enroll factor: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},eO=["onSuccess","onError"];function ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eN=(s=(0,a.Z)(i().mark(function e(t){var n,r,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ej.I8.mfa.unenroll(t);case 2:if(r=(n=e.sent).error,s=n.data,!r){e.next=7;break}throw r;case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),eS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=e.onError,r=(0,l.Z)(e,eO),s=(0,u.NL)();return(0,d.D)(function(e){return eN(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,r){return(0,a.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([s.invalidateQueries(W.c.mfaFactors()),s.invalidateQueries(W.c.aaLevel())]);case 2:return a.next=4,null==t?void 0:t(e,n,r);case 4:case"end":return a.stop()}},a)}))()},onError:function(e,t,r){return(0,a.Z)(i().mark(function s(){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n?f.Am.error("Failed to delete factor: ".concat(e.message)):n(e,t,r);case 1:case"end":return s.stop()}},s)}))()}},r))},ek=function(e){var t=e.visible,n=e.name,r=e.enroll,s=e.setName,a=e.isEnrolling,o=e.onClose;return(0,D.jsx)(Z.Z,{size:"medium",visible:t,header:"Add a new authenticator app as a factor",buttonLabel:"Generate QR",buttonLoadingLabel:"Generating QR",buttonDisabled:0===n.length,loading:a,onSelectCancel:o,onSelectConfirm:function(){r({factorType:"totp",friendlyName:n})},children:(0,D.jsx)(S.C.Content,{children:(0,D.jsx)("div",{className:"pt-6 pb-5",children:(0,D.jsx)(ea.Z,{label:"Provide a name to identify this app",descriptionText:"A string will be randomly generated if a name is not provided",value:n,onChange:function(e){return s(e.target.value)}})})})})},eZ=function(e){var t=e.visible,n=e.factorName,r=e.factor,s=e.isLoading,a=e.onSuccess,o=e.onClose,i=(0,P.oR)().ui,c=(0,O.useState)(""),l=c[0],u=c[1],d=eS({onSuccess:function(){return o()}}).mutate,f=(0,ex.O)({onError:function(e){i.setNotification({category:"error",message:"Failed to add a second factor authentication:  ".concat(null==e?void 0:e.message)})},onSuccess:function(){i.setNotification({category:"success",message:"Successfully added a second factor authentication"}),a()}}),m=f.mutate,p=f.isLoading,h=(0,O.useState)(null),x=h[0],j=h[1];return(0,O.useEffect)(function(){r&&(null==x?void 0:x.id)!==r.id&&j(r)},[r]),(0,D.jsx)(Z.Z,{size:"medium",visible:t,header:"Verify new factor ".concat(n),buttonLabel:"Confirm",buttonLoadingLabel:"Confirming",loading:p,onSelectCancel:function(){x&&d({factorId:x.id})},onSelectConfirm:function(){return x&&m({factorId:x.id,code:l})},children:(0,D.jsx)(S.C.Content,{children:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"py-4 pb-0 text-sm",children:(0,D.jsx)("span",{children:"Use an authenticator app to scan the following QR code, and provide the code from the app to complete the enrolment."})}),s&&(0,D.jsx)("div",{className:"pb-4 px-4",children:(0,D.jsx)(Y.A,{})}),x&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"flex justify-center py-6",children:(0,D.jsx)("div",{className:"h-48 w-48 bg-white rounded",children:(0,D.jsx)("img",{width:190,height:190,src:x.totp.qr_code,alt:x.totp.uri})})}),(0,D.jsx)("div",{children:(0,D.jsx)(eh.Z,{title:"Unable to scan?",description:(0,D.jsx)(ea.Z,{copy:!0,disabled:!0,id:"ref",size:"small",label:"You can also enter this secret key into your authenticator app",value:x.totp.secret})})}),(0,D.jsx)("div",{className:"pt-2 pb-4",children:(0,D.jsx)(ea.Z,{label:"Authentication code",value:l,placeholder:"XXXXXX",onChange:function(e){return u(e.target.value)}})})]})]})})})},eP=function(e){var t=e.visible,n=e.onClose,r=(0,O.useState)("App ".concat(Math.floor(1e3*Math.random()))),s=r[0],a=r[1],o=ey(),i=o.data,c=o.mutate,l=o.isLoading,u=o.reset;return(0,O.useEffect)(function(){t||(a("App ".concat(Math.floor(1e3*Math.random()))),u())},[u,t]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ek,{visible:t&&!i,name:s,setName:a,enroll:c,isEnrolling:l,onClose:n}),(0,D.jsx)(eZ,{visible:t&&!!i,factorName:s,factor:i,isLoading:l,onSuccess:function(){return n()},onClose:n})]})},eD=n(35981),eC=function(e){var t=e.visible,n=e.factorId,r=e.lastFactorToBeDeleted,s=e.onClose,a=(0,P.oR)().ui,o=eS({onSuccess:function(){a.setNotification({category:"success",message:"Successfully deleted factor"}),s()}}),i=o.mutate,c=o.isLoading;return(0,D.jsx)(Z.Z,{size:"medium",visible:t,danger:!0,header:"Confirm to delete factor",buttonLabel:"Delete",buttonLoadingLabel:"Deleting",loading:c,onSelectCancel:s,onSelectConfirm:function(){return n&&i({factorId:n})},children:(0,D.jsxs)(S.C.Content,{className:"py-6",children:[(0,D.jsxs)(ef.bZ,{variant:"warning",children:[(0,D.jsx)(eD.Z,{strokeWidth:2}),(0,D.jsx)(ef.Cd,{children:r?"Multi-factor authentication will be disabled":"This action cannot be undone"}),(0,D.jsx)(ef.X,{children:r?"There are no other factors that are set up once you delete this factor, as such your account will no longer be guarded by multi-factor authentication":"You will no longer be able to use this authenticator app for multi-factor authentication when signing in to the dashboard"})]}),(0,D.jsxs)("div",{className:"text-sm px-1 pt-4",children:[(0,D.jsx)("p",{children:"Before deleting this factor, consider:"}),(0,D.jsx)("ul",{className:"text-foreground-light py-1 list-disc mx-4 space-y-1",children:r?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("li",{children:"Adding another authenticator app as a factor prior to deleting"}),(0,D.jsx)("li",{children:"Ensure that your account does not need multi-factor authentication"})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("li",{children:"Your backup authenticator app is still available to use"}),(0,D.jsx)("li",{children:"Adding another authenticator app thereafter as a backup"})]})})]})]})})},eH=function(){var e=(0,O.useState)(!1),t=e[0],n=e[1],r=(0,O.useState)(null),s=r[0],a=r[1],o=(0,ep.U)(),i=o.data,c=o.isLoading,l=o.isError,u=o.isSuccess,d=o.error;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("section",{className:"space-y-3",children:[(0,D.jsx)("p",{className:"text-sm text-foreground-light",children:"Generate one-time passwords via authenticator apps like 1Password, Authy, etc. as a second factor to verify your identity during sign-in."}),(0,D.jsxs)("div",{children:[c&&(0,D.jsx)(Y.A,{}),l&&(0,D.jsx)(A.Z,{error:d,subject:"Failed to retrieve account security information"}),u&&(0,D.jsxs)(D.Fragment,{children:[1===i.totp.length&&(0,D.jsxs)(ef.bZ,{variant:"default",className:"mb-2",children:[(0,D.jsx)(em.Z,{className:"h-4 w-4"}),(0,D.jsx)(ef.Cd,{children:"We recommend configuring two authenticator apps across different devices"}),(0,D.jsx)(ef.X,{className:"flex flex-col gap-3",children:"The two authenticator apps will serve as a backup for each other."})]}),(0,D.jsx)("div",{children:i.totp.map(function(e){var t;return(0,D.jsxs)("div",{className:"flex flex-row justify-between py-2",children:[(0,D.jsxs)("p",{className:"text-sm text-foreground flex items-center space-x-2",children:[(0,D.jsx)("span",{className:"text-foreground-light",children:"Name:"})," ",(0,D.jsx)("span",{children:null!==(t=e.friendly_name)&&void 0!==t?t:"No name provided"})]}),(0,D.jsxs)("div",{className:"flex items-center gap-4",children:[(0,D.jsxs)("p",{className:"text-sm text-foreground-light",children:["Added on ",_()(e.updated_at).format(p.Cu)]}),(0,D.jsx)(w.z,{size:"tiny",type:"default",onClick:function(){return a(e.id)},children:"Remove"})]})]},e.id)})}),i.totp.length<2?(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{className:"pt-2",children:(0,D.jsx)(w.z,{onClick:function(){return n(!0)},children:"Add new app"})})}):null]})]})]}),(0,D.jsx)(eP,{visible:t,onClose:function(){return n(!1)}}),(0,D.jsx)(eC,{visible:null!==s,factorId:s,lastFactorToBeDeleted:(null==i?void 0:i.totp.length)===1,onClose:function(){return a(null)}})]})}},62644:function(e,t,n){n.d(t,{E:function(){return c},h:function(){return x}});var r=n(2784),s=n(16587),a=n(41503),o=n(8647),i=n(52322),c=function(e){var t=e.options,n=void 0===t?[]:t,c=e.activeOptions,l=void 0===c?[]:c,u=e.valueKey,d=e.labelKey,f=e.name,m=e.onSaveFilters,p=(0,r.useState)(!1),h=p[0],x=p[1],j=(0,r.useState)([]),g=j[0],v=j[1],b=l.map(function(e){return n.find(function(t){return t[u]===e})[d]});return(0,i.jsx)(s.Z,{side:"bottom",align:"start",open:h,onOpenChange:function(){return x(!h)},header:(0,i.jsxs)("div",{className:"prose text-xs",children:["Select ",f.toLowerCase()]}),overlay:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"space-y-4 px-3 py-3 min-w-[170px]",children:(0,i.jsx)(a.Z.Group,{id:"projects",onChange:function(e){var t=e.target.value;g.includes(t)?v(g.filter(function(e){return e!==t})):v(g.concat(t))},options:n.map(function(e){return{value:e[u],label:e[d],defaultChecked:l.includes(e[u])}})})}),(0,i.jsxs)("div",{className:"flex items-center justify-end gap-2 border-t border-overlay bg-surface-200 py-2 px-3",children:[(0,i.jsx)(o.z,{size:"tiny",type:"default",onClick:function(){m([]),x(!1)},children:"Clear"}),(0,i.jsx)(o.z,{type:"primary",onClick:function(){m(g),x(!1)},children:"Save"})]})]}),children:(0,i.jsx)(o.z,{asChild:!0,type:l.length>0?"default":"dashed",onClick:function(){return x(!1)},children:(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:f}),l.length>0&&(0,i.jsx)("span",{className:"mr-1",children:":"}),l.length>=3?(0,i.jsxs)("span",{children:[b[0]," and ",l.length-1," others"]}):l.length>0?(0,i.jsx)("span",{children:b.join(", ")}):null]})})})},l=n(57626),u=n(54947),d=n(29298),f=n(28879),m=n.n(f),p=n(24888),h=n(14665),x=function(e){var t=e.selectedLog,n=e.onClose,r=(0,d.Sy)().data,s=(0,u.tl)().data;return null==r||r.find(function(e){return e.ref===(null==t?void 0:t.target.metadata.project_ref)}),null==s||s.find(function(e){return e.slug===(null==t?void 0:t.target.metadata.org_slug)}),(0,i.jsxs)(p.ZP,{size:"large",header:'"'.concat(null==t?void 0:t.action.name,'" on ').concat(m()(null==t?void 0:t.occurred_at).format("DD MMM YYYY, HH:mm:ss")),visible:void 0!==t,onCancel:n,cancelText:"Close",children:[(0,i.jsx)(l.hj,{header:(0,i.jsx)(l.S0,{children:"General"}),children:(0,i.jsx)(l.B4,{loading:!1,children:(0,i.jsx)(h.Z,{readOnly:!0,size:"small",label:"Occurred at",value:null==t?void 0:t.occurred_at,descriptionText:m()(null==t?void 0:t.occurred_at).format("DD MMM YYYY, HH:mm:ss (ZZ)")})})}),(0,i.jsx)(p.ZP.Separator,{}),(0,i.jsx)(l.hj,{header:(0,i.jsx)(l.S0,{children:"Actor"}),children:(0,i.jsxs)(l.B4,{loading:!1,children:[(0,i.jsx)(h.Z,{readOnly:!0,size:"small",label:"Actor ID",value:null==t?void 0:t.actor.id}),(0,i.jsx)(h.Z.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.actor.metadata,null,2)})]})}),(0,i.jsx)(p.ZP.Separator,{}),(0,i.jsx)(l.hj,{header:(0,i.jsx)(l.S0,{children:"Action"}),children:(0,i.jsxs)(l.B4,{loading:!1,children:[(0,i.jsx)(h.Z,{readOnly:!0,size:"small",label:"Name",value:null==t?void 0:t.action.name}),(0,i.jsx)(h.Z.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.action.metadata,null,2)})]})}),(0,i.jsx)(p.ZP.Separator,{}),(0,i.jsx)(l.hj,{header:(0,i.jsx)(l.S0,{children:"Target"}),children:(0,i.jsxs)(l.B4,{loading:!1,children:[(0,i.jsx)(h.Z,{readOnly:!0,size:"small",label:"Name",value:null==t?void 0:t.target.description}),(0,i.jsx)(h.Z.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.target.metadata,null,2)})]})})]})}},34161:function(e,t,n){n.d(t,{M:function(){return Z}});var r=n(81333),s=n(2784),a=n(37726),o=n.n(a),i=n(82654),c=n(8647),l=n(79382),u=n(96980),d=n(51803),f=n(88688),m=n(16587),p=n(73053),h=n(28879),x=n.n(h),j=n(95235),g=n(80717),v=n(52322);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,j.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=function(e){var t=e.type,n=e.time,r=e.setTime,a=e.setStartTime,o=e.setEndTime,i=e.startTime,c=e.endTime,l=e.startDate,u=e.endDate,d=(0,s.useState)(!1),f=d[0],m=d[1];function h(){1===n.HH.length&&(n.HH="0"+n.HH),1===n.mm.length&&(n.mm="0"+n.mm),1===n.ss.length&&(n.ss="0"+n.ss),n.HH||(n.HH="00"),n.mm||(n.mm="00"),n.ss||(n.ss="00");var e=!1,s=!1;(0,p.default)(new Date(l),"dd/mm/yyyy")==(0,p.default)(new Date(u),"dd/mm/yyyy")&&("start"===t&&(n.HH&&Number(n.HH)>Number(c.HH)&&(c.HH=n.HH,e=!0),n.HH&&Number(n.HH)>=Number(c.HH)&&n.mm&&Number(n.mm)>Number(c.mm)&&(c.mm=n.mm,e=!0),n.HH&&Number(n.HH)>=Number(c.HH)&&n.mm&&Number(n.mm)>=Number(c.mm)&&n.ss&&Number(n.ss)>Number(c.ss)&&(c.ss=n.ss,e=!0)),"end"===t&&(n.HH&&Number(n.HH)<Number(i.HH)&&(i.HH=n.HH,s=!0),n.HH&&Number(n.HH)<=Number(i.HH)&&n.mm&&Number(n.mm)<Number(i.mm)&&(i.mm=n.mm,s=!0),n.HH&&Number(n.HH)<=Number(i.HH)&&n.mm&&Number(n.mm)<=Number(i.mm)&&n.ss&&Number(n.ss)<Number(i.ss)&&(i.ss=n.ss,s=!0))),r(y({},n)),e&&o(y({},c)),s&&a(y({},i)),m(!1)}function x(e,t){var s={HH:n.HH,mm:n.mm,ss:n.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}s[t]=e,r(y({},s))}}var j=function(e){e.target.select(),m(!0)};return(0,s.useEffect)(function(){h()},[l,u]),(0,v.jsxs)("div",{className:"\n        flex h-7 items-center justify-center\n        gap-0 rounded border border-strong bg-surface-100 text-xs text-foreground-light\n        ".concat(f&&" border-stronger outline outline-2 outline-border","\n    "),children:[(0,v.jsx)("div",{className:"mr-1 text-foreground-lighter",children:(0,v.jsx)(g.Z,{size:14,strokeWidth:1.5})}),(0,v.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:j,pattern:"[0-23]*",placeholder:"00",onChange:function(e){return x(e.target.value,"HH")},"aria-label":"Hours",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.HH}),(0,v.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,v.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:j,pattern:"[0-12]*",placeholder:"00",onChange:function(e){return x(e.target.value,"mm")},"aria-label":"Minutes",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.mm}),(0,v.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,v.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:j,pattern:"[0-59]*",placeholder:"00",onChange:function(e){return x(e.target.value,"ss")},"aria-label":"Seconds",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.ss})]})},w=new Date,N=new Date,S={HH:"00",mm:"00",ss:"00"},k={HH:"23",mm:"59",ss:"59"},Z=function(e){var t=e.to,n=e.from,a=e.onChange,h=e.triggerButtonType,j=e.triggerButtonClassName,g=e.triggerButtonTitle,b=e.minDate,y=e.maxDate,Z=e.hideTime,P=e.hideClear,D=e.selectsRange,C=void 0===D||D,H=e.renderFooter,E=e.children,_=(0,s.useState)(!1),T=_[0],z=_[1],F=(0,s.useState)(null),M=F[0],L=F[1],A=(0,s.useState)(null),I=A[0],Y=A[1],B=(0,s.useState)(w),R=B[0],V=B[1],W=(0,s.useState)(N),G=W[0],Q=W[1],X=(0,s.useState)(S),U=X[0],J=X[1],K=(0,s.useState)(k),q=K[0],$=K[1];return(0,s.useEffect)(function(){if(n){if(n!==(null==M?void 0:M.toISOString())){var e=x()(n),r=e.toDate();L(r),V(r),J({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else L(null);if(t){if(t!==(null==I?void 0:I.toISOString())){var s=x()(t),a=s.toDate();Y(a),Q(a),$({HH:s.format("HH"),mm:s.format("mm"),ss:s.format("ss")})}}else Y(null)},[t,n]),(0,v.jsxs)(i.J2,{open:T,onOpenChange:z,children:[(0,v.jsx)(i.xo,{asChild:!0,children:(0,v.jsx)(c.z,{title:g,type:void 0===h?"default":h,icon:(0,v.jsx)(l.Z,{}),className:void 0===j?"":j,children:void 0!==E?E:(0,v.jsx)(v.Fragment,{children:C&&M&&I&&M!==I?(0,v.jsxs)(v.Fragment,{children:[(0,p.default)(new Date(M),"dd MMM")," -"," ",(0,p.default)(new Date(I),"dd MMM")]}):M||I?(0,p.default)(new Date(M||I),"dd MMM"):"Custom"})})}),(0,v.jsx)(i.yk,{align:"center",side:"bottom",className:"p-0",children:(0,v.jsxs)(v.Fragment,{children:[void 0!==Z&&Z?null:(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"flex items-stretch justify-between py-2",children:[C?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,v.jsx)(O,{type:"start",startTime:U,endTime:q,time:U,setTime:J,setStartTime:J,setEndTime:$,startDate:R,endDate:G})}),(0,v.jsx)("div",{className:"\n                      flex \n                      w-12 \n                      items-center \n                      justify-center\n                      text-foreground-lighter\n                    ",children:(0,v.jsx)(u.Z,{strokeWidth:1.5,size:14})})]}):null,(0,v.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,v.jsx)(O,{type:"end",startTime:U,endTime:q,time:q,setTime:$,setStartTime:J,setEndTime:$,startDate:R,endDate:G})})]})}),(0,v.jsx)("div",{className:"px-3 py-4",children:(0,v.jsx)(o(),{inline:!0,selectsRange:C,selected:R,onChange:function(e){!function(e){if(e){if(e instanceof Date)V(e),Q(e);else{var t=(0,r.Z)(e,2),n=t[0],s=t[1];V(n),Q(s)}}else V(null),Q(null)}(e)},dateFormat:"MMMM d, yyyy h:mm aa",startDate:R,endDate:G,minDate:b,maxDate:y,dayClassName:function(){return"cursor-pointer"},renderCustomHeader:function(e){var t=e.date,n=e.decreaseMonth,r=e.increaseMonth,s=e.prevMonthButtonDisabled,a=e.nextMonthButtonDisabled;return(0,v.jsx)("div",{className:"flex items-center justify-between px-2 py-2",children:(0,v.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,v.jsx)("button",{onClick:n,disabled:s,type:"button",className:"\n                        ".concat(s&&"cursor-not-allowed opacity-50","\n                        text-foreground-light hover:text-foreground focus:outline-none\n                    "),children:(0,v.jsx)(d.Z,{size:16,strokeWidth:2})}),(0,v.jsx)("span",{className:"text-sm text-foreground-light",children:(0,p.default)(t,"MMMM yyyy")}),(0,v.jsx)("button",{onClick:r,disabled:a,type:"button",className:"\n                        ".concat(a&&"cursor-not-allowed opacity-50","\n                        text-foreground-light hover:text-foreground focus:outline-none\n                    "),children:(0,v.jsx)(f.Z,{size:16,strokeWidth:2})})]})})}})}),(void 0===H?function(){return null}:H)({from:(null==R?void 0:R.toISOString())||null,to:(null==G?void 0:G.toISOString())||null}),(0,v.jsx)(m.Z.Separator,{}),(0,v.jsxs)("div",{className:"flex items-center justify-end gap-2 py-2 px-3 pb-4",children:[!(void 0!==P&&P)&&(0,v.jsx)(c.z,{type:"default",onClick:function(){z(!1),V(w),Q(N),J(S),$(k),L(null),Y(null),a&&a({from:null,to:null})},children:"Clear"}),(0,v.jsx)(c.z,{onClick:function(){var e;return z(!1),L(R),Y(G),e={from:x()(R).second(Number(U.ss)).minute(Number(U.mm)).hour(Number(U.HH)).toISOString(),to:x()(G||R).second(Number(q.ss)).minute(Number(q.mm)).hour(Number(q.HH)).toISOString()},void(a&&a(e))},children:"Apply"})]})]})})]})}},57626:function(e,t,n){n.d(t,{iN:function(){return j},ph:function(){return u},by:function(){return x},hj:function(){return f},B4:function(){return h},S0:function(){return m},ld:function(){return s}});var r=n(52322);function s(e){return(0,r.jsxs)("div",{className:"mx-auto max-w-4xl px-5 pt-12 pb-20",children:[e.header&&(0,r.jsx)("h1",{className:"text-foreground mb-8 text-3xl",children:e.header}),(0,r.jsx)("div",{className:"space-y-20",children:e.children})]})}var a=n(39097),o=n.n(a),i=n(29071),c=n(8647),l=n(95223),u=function(e){var t=e.title,n=e.description,s=e.docsUrl;return(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"text-foreground text-xl",children:(0,r.jsx)(i.D,{unwrapDisallowed:!0,disallowedElements:["p"],children:t})}),n&&(0,r.jsx)("div",{className:"text-foreground-lighter text-sm",children:(0,r.jsx)(i.D,{children:n})})]}),void 0!==s&&(0,r.jsx)(c.z,{asChild:!0,type:"default",icon:(0,r.jsx)(l.Z,{}),children:(0,r.jsx)(o(),{href:s,target:"_blank",rel:"noreferrer",children:"Documentation"})})]})},d=n(2784),f=function(e){var t=e.children,n=e.id,s=e.header,a=e.disabled,o=e.visible,i=e.className;return(0,r.jsxs)("div",{id:n,className:["grid grid-cols-12 gap-6 px-8 py-8","".concat(a?" opacity-30":" opacity-100"),"".concat(void 0===o||o?" block":" hidden"),"".concat(i)].join(" "),children:[s,t]})},m=function(e){var t=e.children,n=e.className,s=void 0===n?"":n,a=e.description;return void 0!==a?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(s),children:[(0,r.jsx)("label",{className:"text-foreground text-sm",children:t}),a]}):(0,r.jsx)("label",{className:"text-foreground col-span-12 text-sm lg:col-span-5 ".concat(s),children:t})},p=function(){return(0,r.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,r.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,r.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,r.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]})},h=function(e){var t=e.children,n=e.loading,s=e.fullWidth,a=e.className;return(0,r.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(s&&"!col-span-12","\n        ").concat(a,"\n      "),children:void 0===n||n?d.Children.map(t,function(e){return(0,r.jsx)(p,{})}):t})},x=function(e){var t=e.children,n=e.header,s=e.footer;return(0,r.jsxs)("div",{className:" bg-surface-100 border-default overflow-hidden  rounded-md border shadow",children:[n&&(0,r.jsx)("div",{className:"border-default border-b px-8 py-4",children:n}),(0,r.jsx)("div",{className:"divide-border flex flex-col gap-0 divide-y",children:t}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"border-default border-t"}),s]})]})},j=function(e){var t=e.form,n=e.hasChanges,s=void 0===n?void 0:n,a=e.handleReset,o=e.helper,i=e.disabled,l=e.isSubmitting,u=e.submitText,d=l||void 0!==i&&i||!s&&void 0!==s;return(0,r.jsxs)("div",{className:["flex w-full items-center gap-2",o?"justify-between":"justify-end"].join(" "),children:[o&&(0,r.jsx)("span",{className:"text-sm text-foreground-lighter",children:o}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.z,{disabled:d,type:"default",htmlType:"reset",onClick:function(){return a()},children:"Cancel"}),(0,r.jsx)(c.z,{form:t,type:"primary",htmlType:"submit",disabled:d,loading:l,children:void 0===u?"Save":u})]})]})}},22061:function(e,t,n){n.d(t,{hV:function(){return m}});var r=n(82269),s=n(20406),a=n(28526),o=n.n(a),i=n(58943),c=n(37552),l=n(9747);n(2784);var u=n(30467),d=["enabled"];function f(){return(f=(0,s.Z)(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.U2)("".concat(l.T5,"/profile/access-tokens"),{signal:t});case 2:if(n=e.sent,(0,c.d8)(n)){e.next=5;break}throw n.error;case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.enabled;var t=(0,r.Z)(e,d);return(0,i.a)(u.C.list(),function(e){return function(e){return f.apply(this,arguments)}(e.signal)},t)}},30467:function(e,t,n){n.d(t,{C:function(){return r}});var r={list:function(){return["access-tokens"]}}},49178:function(e,t,n){n.d(t,{O:function(){return g}});var r,s=n(12741),a=n(95235),o=n(82269),i=n(20406),c=n(28526),l=n.n(c),u=n(55830),d=n(62350),f=n(10462),m=n(15379),p=["onSuccess"],h=["refreshFactors"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var j=(r=(0,i.Z)(l().mark(function e(t){var n,r,s;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.I8.mfa.challengeAndVerify(t);case 2:if(r=(n=e.sent).error,s=n.data,!r){e.next=7;break}throw r;case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=(0,o.Z)(e,p),r=(0,u.NL)();return(0,d.D)(function(e){return e.refreshFactors,j((0,o.Z)(e,h))},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onSuccess:function(e,n,a){return(0,i.Z)(l().mark(function o(){var i,c;return l().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return c=null===(i=n.refreshFactors)||void 0===i||i,o.next=3,Promise.all([].concat((0,s.Z)(c?[r.invalidateQueries(m.c.mfaFactors())]:[]),[r.invalidateQueries(m.c.aaLevel())]));case 3:return o.next=5,null==t?void 0:t(e,n,a);case 5:case"end":return o.stop()}},o)}))()}},n))}},26771:function(e,t,n){n.d(t,{U:function(){return p}});var r=n(95235),s=n(82269),a=n(20406),o=n(28526),i=n.n(o),c=n(58943),l=n(10462),u=n(15379),d=["enabled"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(){return(m=(0,a.Z)(i().mark(function e(){var t,n,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.I8.mfa.listFactors();case 2:if(n=(t=e.sent).error,r=t.data,!n){e.next=7;break}throw n;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.enabled;var t=(0,s.Z)(e,d);return(0,c.a)(u.c.mfaFactors(),function(){return function(){return m.apply(this,arguments)}()},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({staleTime:18e5},t))}},71320:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(95235),s=n(2784),a=n(13980),o=n.n(a);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=(0,s.forwardRef)(function(e,t){var n=e.color,r=e.size,a=void 0===r?24:r,o=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,["color","size"]);return s.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.createElement("polyline",{points:"19 12 12 19 5 12"}))});c.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},c.displayName="ArrowDown";var l=n(12223),u=n(52322);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var f=function(e){return(0,u.jsx)(l.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:c},e))}},79382:function(e,t,n){var r=n(95235);n(2784);var s=n(78046),a=n(12223),o=n(52322);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){return(0,o.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({icon:s.Z},e))}}}]);